<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: rules_assumptions_bpmn Pages: 1 -->
<svg width="3692pt" height="2578pt"
 viewBox="0.00 0.00 3691.75 2578.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2574)">
<title>rules_assumptions_bpmn</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2574 3687.75,-2574 3687.75,4 -4,4"/>
<text text-anchor="middle" x="1841.88" y="-2554.6" font-family="Times,serif" font-size="12.00">portage&#45;ng: rules/prover assumption flow (current implementation, BPMN&#45;style)</text>
<g id="clust1" class="cluster">
<title>cluster_test_harness</title>
<polygon fill="none" stroke="#888888" points="8,-1814.78 8,-2539.75 243,-2539.75 243,-1814.78 8,-1814.78"/>
<text text-anchor="middle" x="125.5" y="-2524.35" font-family="Times,serif" font-size="12.00">prover.pl : test_target_success/1 fallback chain</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_blockers_conflicts</title>
<polygon fill="none" stroke="#888888" points="251,-1396.14 251,-1942.26 1146,-1942.26 1146,-1396.14 251,-1396.14"/>
<text text-anchor="middle" x="698.5" y="-1926.86" font-family="Times,serif" font-size="12.00">rules.pl : blocker + conflict assumption controls</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_grouped_dep</title>
<polygon fill="none" stroke="#888888" points="2792,-641.64 2792,-2539.75 3531,-2539.75 3531,-641.64 2792,-641.64"/>
<text text-anchor="middle" x="3161.5" y="-2524.35" font-family="Times,serif" font-size="12.00">rules.pl : rule(grouped_package_dependency(no,C,N,PackageDeps):Action?{Context}, Conditions)</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_cn_reprove</title>
<polygon fill="none" stroke="#888888" points="2344,-8 2344,-767.01 2784,-767.01 2784,-8 2344,-8"/>
<text text-anchor="middle" x="2564" y="-751.61" font-family="Times,serif" font-size="12.00">rules.pl + prover.pl : CN&#45;domain reprove retry loop</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_reason</title>
<polygon fill="none" stroke="#888888" points="1154,-547.39 1154,-1573.53 1784,-1573.53 1784,-547.39 1154,-547.39"/>
<text text-anchor="middle" x="1469" y="-1558.13" font-family="Times,serif" font-size="12.00">explanation.pl : assumption_reason_for_grouped_dep/6 (called on grouped fallback)</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_update_txn</title>
<polygon fill="none" stroke="#888888" points="1792,-165.89 1792,-900.02 2336,-900.02 2336,-165.89 1792,-165.89"/>
<text text-anchor="middle" x="2064" y="-884.62" font-family="Times,serif" font-size="12.00">rules.pl : update action path (transactional, same&#45;slot policy)</text>
</g>
<!-- t_start -->
<g id="node1" class="node">
<title>t_start</title>
<ellipse fill="none" stroke="black" cx="125" cy="-2488.5" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="125" y="-2484.62" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- t_strict -->
<g id="node2" class="node">
<title>t_strict</title>
<polygon fill="none" stroke="black" points="198.62,-2430.49 51.38,-2430.49 51.38,-2394.49 198.62,-2394.49 198.62,-2430.49"/>
<text text-anchor="middle" x="125" y="-2414.24" font-family="Helvetica,sans-Serif" font-size="10.00">strict:</text>
<text text-anchor="middle" x="125" y="-2402.99" font-family="Helvetica,sans-Serif" font-size="10.00">printer:prove_plan([Target], ...)</text>
</g>
<!-- t_start&#45;&gt;t_strict -->
<g id="edge1" class="edge">
<title>t_start&#45;&gt;t_strict</title>
<path fill="none" stroke="black" d="M125,-2467.28C125,-2458.58 125,-2448.33 125,-2439.11"/>
<polygon fill="black" stroke="black" points="127.45,-2439.19 125,-2432.19 122.55,-2439.19 127.45,-2439.19"/>
</g>
<!-- t_strict_ok -->
<g id="node3" class="node">
<title>t_strict_ok</title>
<polygon fill="none" stroke="black" points="125,-2348.74 76.47,-2330.74 125,-2312.74 173.53,-2330.74 125,-2348.74"/>
<text text-anchor="middle" x="125" y="-2326.87" font-family="Helvetica,sans-Serif" font-size="10.00">success?</text>
</g>
<!-- t_strict&#45;&gt;t_strict_ok -->
<g id="edge2" class="edge">
<title>t_strict&#45;&gt;t_strict_ok</title>
<path fill="none" stroke="black" d="M125,-2394.19C125,-2383.42 125,-2369.39 125,-2357.35"/>
<polygon fill="black" stroke="black" points="127.45,-2357.53 125,-2350.53 122.55,-2357.53 127.45,-2357.53"/>
</g>
<!-- t_blockers -->
<g id="node4" class="node">
<title>t_blockers</title>
<polygon fill="none" stroke="black" points="158.38,-2266.99 15.62,-2266.99 15.62,-2225.24 158.38,-2225.24 158.38,-2266.99"/>
<text text-anchor="middle" x="87" y="-2253.49" font-family="Helvetica,sans-Serif" font-size="10.00">rules:with_assume_blockers(</text>
<text text-anchor="middle" x="87" y="-2242.24" font-family="Helvetica,sans-Serif" font-size="10.00"> &#160;printer:prove_plan(...)</text>
<text text-anchor="middle" x="87" y="-2230.99" font-family="Helvetica,sans-Serif" font-size="10.00">)</text>
</g>
<!-- t_strict_ok&#45;&gt;t_blockers -->
<g id="edge4" class="edge">
<title>t_strict_ok&#45;&gt;t_blockers</title>
<path fill="none" stroke="black" d="M118.21,-2314.97C113.1,-2303.87 105.96,-2288.35 99.8,-2274.94"/>
<polygon fill="black" stroke="black" points="102.09,-2274.06 96.94,-2268.72 97.64,-2276.11 102.09,-2274.06"/>
<text text-anchor="middle" x="113.53" y="-2286.19" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- t_done -->
<g id="node7" class="node">
<title>t_done</title>
<ellipse fill="none" stroke="black" cx="75" cy="-1881.51" rx="54.73" ry="54.73"/>
<ellipse fill="none" stroke="black" cx="75" cy="-1881.51" rx="58.73" ry="58.73"/>
<text text-anchor="middle" x="75" y="-1877.64" font-family="Helvetica,sans-Serif" font-size="10.00">test target proven</text>
</g>
<!-- t_strict_ok&#45;&gt;t_done -->
<g id="edge3" class="edge">
<title>t_strict_ok&#45;&gt;t_done</title>
<path fill="none" stroke="black" d="M136.89,-2317C147.13,-2305.09 161.13,-2286.31 167,-2266.99 172.39,-2249.24 168.33,-2243.75 167,-2225.24 162.1,-2157.27 179.78,-2132.1 145,-2073.49 127.7,-2044.35 100.09,-2057.57 84,-2027.74 71.12,-2003.87 67.47,-1974.47 67.56,-1948.38"/>
<polygon fill="black" stroke="black" points="70.01,-1948.6 67.69,-1941.55 65.11,-1948.51 70.01,-1948.6"/>
<text text-anchor="middle" x="174.39" y="-2122.82" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- t_blockers_ok -->
<g id="node5" class="node">
<title>t_blockers_ok</title>
<polygon fill="none" stroke="black" points="87,-2144.49 38.47,-2126.49 87,-2108.49 135.53,-2126.49 87,-2144.49"/>
<text text-anchor="middle" x="87" y="-2122.62" font-family="Helvetica,sans-Serif" font-size="10.00">success?</text>
</g>
<!-- t_blockers&#45;&gt;t_blockers_ok -->
<g id="edge5" class="edge">
<title>t_blockers&#45;&gt;t_blockers_ok</title>
<path fill="none" stroke="black" d="M87,-2224.9C87,-2205.04 87,-2174.67 87,-2153.12"/>
<polygon fill="black" stroke="black" points="89.45,-2153.29 87,-2146.29 84.55,-2153.29 89.45,-2153.29"/>
</g>
<!-- b_assume_blockers -->
<g id="node12" class="node">
<title>b_assume_blockers</title>
<polygon fill="none" stroke="black" points="823,-1540.27 721.12,-1522.27 823,-1504.27 924.88,-1522.27 823,-1540.27"/>
<text text-anchor="middle" x="823" y="-1518.4" font-family="Helvetica,sans-Serif" font-size="10.00">rules:assume_blockers?</text>
</g>
<!-- t_blockers&#45;&gt;b_assume_blockers -->
<g id="edge95" class="edge">
<title>t_blockers&#45;&gt;b_assume_blockers</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M158.63,-2244.85C399.62,-2243 1166,-2229.13 1166,-2127.49 1166,-2127.49 1166,-2127.49 1166,-1638.78 1166,-1580.87 988.19,-1546.47 888.62,-1531.75"/>
<polygon fill="black" stroke="black" points="889.19,-1529.36 881.91,-1530.77 888.48,-1534.21 889.19,-1529.36"/>
<text text-anchor="middle" x="1234.62" y="-1877.84" font-family="Helvetica,sans-Serif" font-size="9.00">sets rules_assume_blockers=true</text>
</g>
<!-- t_conflicts -->
<g id="node6" class="node">
<title>t_conflicts</title>
<polygon fill="none" stroke="black" points="235.38,-2027.74 92.62,-2027.74 92.62,-1985.99 235.38,-1985.99 235.38,-2027.74"/>
<text text-anchor="middle" x="164" y="-2014.24" font-family="Helvetica,sans-Serif" font-size="10.00">rules:with_assume_conflicts(</text>
<text text-anchor="middle" x="164" y="-2002.99" font-family="Helvetica,sans-Serif" font-size="10.00"> &#160;printer:prove_plan(...)</text>
<text text-anchor="middle" x="164" y="-1991.74" font-family="Helvetica,sans-Serif" font-size="10.00">)</text>
</g>
<!-- t_blockers_ok&#45;&gt;t_conflicts -->
<g id="edge7" class="edge">
<title>t_blockers_ok&#45;&gt;t_conflicts</title>
<path fill="none" stroke="black" d="M96.14,-2111.54C108.41,-2092.79 130.49,-2059.06 146.13,-2035.17"/>
<polygon fill="black" stroke="black" points="148.14,-2036.57 149.93,-2029.37 144.04,-2033.88 148.14,-2036.57"/>
<text text-anchor="middle" x="144.34" y="-2046.94" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- t_blockers_ok&#45;&gt;t_done -->
<g id="edge6" class="edge">
<title>t_blockers_ok&#45;&gt;t_done</title>
<path fill="none" stroke="black" d="M80.44,-2110.63C72.51,-2091.78 59.63,-2058.09 54.75,-2027.74 50.49,-2001.21 53.18,-1971.86 57.82,-1946.53"/>
<polygon fill="black" stroke="black" points="60.17,-1947.28 59.1,-1939.94 55.36,-1946.34 60.17,-1947.28"/>
<text text-anchor="middle" x="61.88" y="-2003.19" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- t_conflicts&#45;&gt;t_done -->
<g id="edge8" class="edge">
<title>t_conflicts&#45;&gt;t_done</title>
<path fill="none" stroke="black" d="M149.3,-1985.5C139.67,-1972.15 126.59,-1954.02 114.09,-1936.69"/>
<polygon fill="black" stroke="black" points="116.12,-1935.31 110.03,-1931.07 112.14,-1938.18 116.12,-1935.31"/>
</g>
<!-- b_conflict -->
<g id="node15" class="node">
<title>b_conflict</title>
<polygon fill="none" stroke="black" points="642,-1899.51 555.18,-1881.51 642,-1863.51 728.82,-1881.51 642,-1899.51"/>
<text text-anchor="middle" x="642" y="-1877.64" font-family="Helvetica,sans-Serif" font-size="10.00">rule(conflict(A,B),...)</text>
</g>
<!-- t_conflicts&#45;&gt;b_conflict -->
<g id="edge96" class="edge">
<title>t_conflicts&#45;&gt;b_conflict</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M235.79,-1990.48C291.45,-1978.25 370.39,-1960.28 439,-1942.26 495.35,-1927.47 559.78,-1908.07 600.66,-1895.46"/>
<polygon fill="black" stroke="black" points="601.35,-1897.81 607.32,-1893.4 599.9,-1893.13 601.35,-1897.81"/>
<text text-anchor="middle" x="439.3" y="-1959.44" font-family="Helvetica,sans-Serif" font-size="9.00">sets rules_assume_conflicts=true</text>
</g>
<!-- b_anyof_guard -->
<g id="node18" class="node">
<title>b_anyof_guard</title>
<polygon fill="none" stroke="black" points="928,-1912.01 781.5,-1881.51 928,-1851.01 1074.5,-1881.51 928,-1912.01"/>
<text text-anchor="middle" x="928" y="-1883.26" font-family="Helvetica,sans-Serif" font-size="10.00">any_of_config_dep_ok/2</text>
<text text-anchor="middle" x="928" y="-1872.01" font-family="Helvetica,sans-Serif" font-size="10.00">(USE&#45;dep option unsatisfied?)</text>
</g>
<!-- t_conflicts&#45;&gt;b_anyof_guard -->
<g id="edge97" class="edge">
<title>t_conflicts&#45;&gt;b_anyof_guard</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M235.86,-2002.45C345.27,-1996.23 559.73,-1980.03 738,-1942.26 782.53,-1932.83 831.5,-1917.3 868.57,-1904.43"/>
<polygon fill="black" stroke="black" points="869.07,-1906.86 874.87,-1902.23 867.45,-1902.23 869.07,-1906.86"/>
<text text-anchor="middle" x="688.68" y="-1959.44" font-family="Helvetica,sans-Serif" font-size="9.00">affects || model guard</text>
</g>
<!-- b_start -->
<g id="node8" class="node">
<title>b_start</title>
<ellipse fill="none" stroke="black" cx="409" cy="-1881.51" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="409" y="-1877.64" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- b_kind -->
<g id="node9" class="node">
<title>b_kind</title>
<polygon fill="none" stroke="black" points="409,-1777.03 258.75,-1746.53 409,-1716.03 559.25,-1746.53 409,-1777.03"/>
<text text-anchor="middle" x="409" y="-1748.28" font-family="Helvetica,sans-Serif" font-size="10.00">grouped_package_dependency</text>
<text text-anchor="middle" x="409" y="-1737.03" font-family="Helvetica,sans-Serif" font-size="10.00">strength?</text>
</g>
<!-- b_start&#45;&gt;b_kind -->
<g id="edge9" class="edge">
<title>b_start&#45;&gt;b_kind</title>
<path fill="none" stroke="black" d="M409,-1860.02C409,-1840.28 409,-1809.91 409,-1785.7"/>
<polygon fill="black" stroke="black" points="411.45,-1785.94 409,-1778.94 406.55,-1785.94 411.45,-1785.94"/>
</g>
<!-- b_weak -->
<g id="node10" class="node">
<title>b_weak</title>
<polygon fill="none" stroke="black" points="544.88,-1657.78 273.12,-1657.78 273.12,-1621.78 544.88,-1621.78 544.88,-1657.78"/>
<text text-anchor="middle" x="409" y="-1641.53" font-family="Helvetica,sans-Serif" font-size="10.00">weak:</text>
<text text-anchor="middle" x="409" y="-1630.28" font-family="Helvetica,sans-Serif" font-size="10.00">findall(assumed(blocker(...)?{blocker_assumption_ctx}), ...)</text>
</g>
<!-- b_kind&#45;&gt;b_weak -->
<g id="edge10" class="edge">
<title>b_kind&#45;&gt;b_weak</title>
<path fill="none" stroke="black" d="M409,-1715.79C409,-1700.22 409,-1681.34 409,-1666.42"/>
<polygon fill="black" stroke="black" points="411.45,-1666.66 409,-1659.66 406.55,-1666.66 411.45,-1666.66"/>
<text text-anchor="middle" x="419.88" y="-1689.48" font-family="Helvetica,sans-Serif" font-size="9.00">weak</text>
</g>
<!-- b_strong_split -->
<g id="node11" class="node">
<title>b_strong_split</title>
<polygon fill="none" stroke="black" points="830.75,-1660.65 657.25,-1660.65 657.25,-1618.9 830.75,-1618.9 830.75,-1660.65"/>
<text text-anchor="middle" x="744" y="-1647.15" font-family="Helvetica,sans-Serif" font-size="10.00">strong:</text>
<text text-anchor="middle" x="744" y="-1635.9" font-family="Helvetica,sans-Serif" font-size="10.00">grouped_blocker_specs_partition(...,</text>
<text text-anchor="middle" x="744" y="-1624.65" font-family="Helvetica,sans-Serif" font-size="10.00">EnforceSpecs, AssumeSpecs)</text>
</g>
<!-- b_kind&#45;&gt;b_strong_split -->
<g id="edge11" class="edge">
<title>b_kind&#45;&gt;b_strong_split</title>
<path fill="none" stroke="black" d="M466.97,-1727.4C523.51,-1709.72 609.71,-1682.77 670.93,-1663.63"/>
<polygon fill="black" stroke="black" points="671.62,-1665.98 677.57,-1661.55 670.16,-1661.3 671.62,-1665.98"/>
<text text-anchor="middle" x="599.29" y="-1689.48" font-family="Helvetica,sans-Serif" font-size="9.00">strong</text>
</g>
<!-- b_strong_split&#45;&gt;b_assume_blockers -->
<g id="edge12" class="edge">
<title>b_strong_split&#45;&gt;b_assume_blockers</title>
<path fill="none" stroke="black" d="M757.76,-1618.66C771.68,-1598.31 793.15,-1566.91 807.62,-1545.75"/>
<polygon fill="black" stroke="black" points="809.64,-1547.14 811.57,-1539.98 805.6,-1544.38 809.64,-1547.14"/>
</g>
<!-- b_strong_assume_all -->
<g id="node13" class="node">
<title>b_strong_assume_all</title>
<polygon fill="none" stroke="black" points="736.62,-1443.02 535.38,-1443.02 535.38,-1407.02 736.62,-1407.02 736.62,-1443.02"/>
<text text-anchor="middle" x="636" y="-1426.77" font-family="Helvetica,sans-Serif" font-size="10.00">assume all strong blockers:</text>
<text text-anchor="middle" x="636" y="-1415.52" font-family="Helvetica,sans-Serif" font-size="10.00">assumed(blocker(...)) for Enforce+Assume</text>
</g>
<!-- b_assume_blockers&#45;&gt;b_strong_assume_all -->
<g id="edge13" class="edge">
<title>b_assume_blockers&#45;&gt;b_strong_assume_all</title>
<path fill="none" stroke="black" d="M797.78,-1508.43C766.94,-1492.72 714.3,-1465.9 677.47,-1447.14"/>
<polygon fill="black" stroke="black" points="679.02,-1445.18 671.67,-1444.19 676.8,-1449.55 679.02,-1445.18"/>
<text text-anchor="middle" x="753.37" y="-1474.72" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- b_strong_enforce -->
<g id="node14" class="node">
<title>b_strong_enforce</title>
<polygon fill="none" stroke="black" points="996.88,-1445.89 755.12,-1445.89 755.12,-1404.14 996.88,-1404.14 996.88,-1445.89"/>
<text text-anchor="middle" x="876" y="-1432.39" font-family="Helvetica,sans-Serif" font-size="10.00">strict strong blockers:</text>
<text text-anchor="middle" x="876" y="-1421.14" font-family="Helvetica,sans-Serif" font-size="10.00">constraint(blocked_cn(C,N):{ordset(EnforceSpecs)})</text>
<text text-anchor="middle" x="876" y="-1409.89" font-family="Helvetica,sans-Serif" font-size="10.00">+ assumed(blocker(...)) for AssumeSpecs</text>
</g>
<!-- b_assume_blockers&#45;&gt;b_strong_enforce -->
<g id="edge14" class="edge">
<title>b_assume_blockers&#45;&gt;b_strong_enforce</title>
<path fill="none" stroke="black" d="M831.75,-1505.54C839.6,-1491.43 851.31,-1470.4 860.7,-1453.51"/>
<polygon fill="black" stroke="black" points="862.84,-1454.71 864.1,-1447.4 858.56,-1452.33 862.84,-1454.71"/>
<text text-anchor="middle" x="854.75" y="-1474.72" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- b_conflict_assume -->
<g id="node16" class="node">
<title>b_conflict_assume</title>
<polygon fill="none" stroke="black" points="706.25,-1764.53 577.75,-1764.53 577.75,-1728.53 706.25,-1728.53 706.25,-1764.53"/>
<text text-anchor="middle" x="642" y="-1748.28" font-family="Helvetica,sans-Serif" font-size="10.00">rules:assume_conflicts &#45;&gt;</text>
<text text-anchor="middle" x="642" y="-1737.03" font-family="Helvetica,sans-Serif" font-size="10.00">[assumed(conflict(A,B))]</text>
</g>
<!-- b_conflict&#45;&gt;b_conflict_assume -->
<g id="edge15" class="edge">
<title>b_conflict&#45;&gt;b_conflict_assume</title>
<path fill="none" stroke="black" d="M642,-1863.13C642,-1840.23 642,-1799.78 642,-1773.31"/>
<polygon fill="black" stroke="black" points="644.45,-1773.43 642,-1766.43 639.55,-1773.43 644.45,-1773.43"/>
<text text-anchor="middle" x="677.25" y="-1796.23" font-family="Helvetica,sans-Serif" font-size="9.00">assume_conflicts</text>
</g>
<!-- b_conflict_fail -->
<g id="node17" class="node">
<title>b_conflict_fail</title>
<polygon fill="none" stroke="black" points="824,-1764.53 724,-1764.53 724,-1728.53 824,-1728.53 824,-1764.53"/>
<text text-anchor="middle" x="774" y="-1742.65" font-family="Helvetica,sans-Serif" font-size="10.00">strict conflict &#45;&gt; fail</text>
</g>
<!-- b_conflict&#45;&gt;b_conflict_fail -->
<g id="edge16" class="edge">
<title>b_conflict&#45;&gt;b_conflict_fail</title>
<path fill="none" stroke="black" d="M656.38,-1866.03C679.11,-1843.12 723.58,-1798.32 750.85,-1770.85"/>
<polygon fill="black" stroke="black" points="752.47,-1772.7 755.66,-1766 748.99,-1769.25 752.47,-1772.7"/>
<text text-anchor="middle" x="733.08" y="-1796.23" font-family="Helvetica,sans-Serif" font-size="9.00">strict</text>
</g>
<!-- b_anyof_assume -->
<g id="node19" class="node">
<title>b_anyof_assume</title>
<polygon fill="none" stroke="black" points="1014,-1764.53 842,-1764.53 842,-1728.53 1014,-1728.53 1014,-1764.53"/>
<text text-anchor="middle" x="928" y="-1748.28" font-family="Helvetica,sans-Serif" font-size="10.00">rules:assume_conflicts &#45;&gt;</text>
<text text-anchor="middle" x="928" y="-1737.03" font-family="Helvetica,sans-Serif" font-size="10.00">allow option (do not fail model build)</text>
</g>
<!-- b_anyof_guard&#45;&gt;b_anyof_assume -->
<g id="edge17" class="edge">
<title>b_anyof_guard&#45;&gt;b_anyof_assume</title>
<path fill="none" stroke="black" d="M928,-1850.67C928,-1827.28 928,-1795.09 928,-1772.92"/>
<polygon fill="black" stroke="black" points="930.45,-1773.18 928,-1766.18 925.55,-1773.18 930.45,-1773.18"/>
<text text-anchor="middle" x="975.25" y="-1796.23" font-family="Helvetica,sans-Serif" font-size="9.00">yes + assume_conflicts</text>
</g>
<!-- b_anyof_fail -->
<g id="node20" class="node">
<title>b_anyof_fail</title>
<polygon fill="none" stroke="black" points="1138,-1764.53 1032,-1764.53 1032,-1728.53 1138,-1728.53 1138,-1764.53"/>
<text text-anchor="middle" x="1085" y="-1742.65" font-family="Helvetica,sans-Serif" font-size="10.00">strict &#45;&gt; reject option</text>
</g>
<!-- b_anyof_guard&#45;&gt;b_anyof_fail -->
<g id="edge18" class="edge">
<title>b_anyof_guard&#45;&gt;b_anyof_fail</title>
<path fill="none" stroke="black" d="M960.46,-1857.28C980.19,-1842.78 1005.61,-1823.39 1027,-1804.78 1039.22,-1794.14 1052.12,-1781.57 1062.64,-1770.91"/>
<polygon fill="black" stroke="black" points="1064.33,-1772.69 1067.47,-1765.97 1060.83,-1769.26 1064.33,-1772.69"/>
<text text-anchor="middle" x="1058.3" y="-1796.23" font-family="Helvetica,sans-Serif" font-size="9.00">yes + strict</text>
</g>
<!-- g_start -->
<g id="node21" class="node">
<title>g_start</title>
<ellipse fill="none" stroke="black" cx="3088" cy="-2488.5" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="3088" y="-2484.62" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- g_split -->
<g id="node22" class="node">
<title>g_split</title>
<polygon fill="none" stroke="black" points="3330,-2430.49 3161.6,-2412.49 3330,-2394.49 3498.4,-2412.49 3330,-2430.49"/>
<text text-anchor="middle" x="3330" y="-2408.62" font-family="Helvetica,sans-Serif" font-size="10.00">should_split_grouped_dep(PackageDeps)?</text>
</g>
<!-- g_start&#45;&gt;g_split -->
<g id="edge19" class="edge">
<title>g_start&#45;&gt;g_split</title>
<path fill="none" stroke="black" d="M3108.22,-2481.32C3145.71,-2469.85 3227.03,-2444.98 3280.09,-2428.76"/>
<polygon fill="black" stroke="black" points="3280.6,-2431.16 3286.58,-2426.77 3279.17,-2426.48 3280.6,-2431.16"/>
</g>
<!-- g_split_emit -->
<g id="node23" class="node">
<title>g_split_emit</title>
<polygon fill="none" stroke="black" points="3438.75,-731.14 3193.25,-731.14 3193.25,-689.39 3438.75,-689.39 3438.75,-731.14"/>
<text text-anchor="middle" x="3316" y="-717.64" font-family="Helvetica,sans-Serif" font-size="10.00">emit one grouped dep per package_dependency/8</text>
<text text-anchor="middle" x="3316" y="-706.39" font-family="Helvetica,sans-Serif" font-size="10.00">(findall + sort)</text>
<text text-anchor="middle" x="3316" y="-695.14" font-family="Helvetica,sans-Serif" font-size="10.00">+ constraint(selected_cn_allow_multislot(C,N):{true})</text>
</g>
<!-- g_split&#45;&gt;g_split_emit -->
<g id="edge20" class="edge">
<title>g_split&#45;&gt;g_split_emit</title>
<path fill="none" stroke="black" d="M3432.75,-2405.01C3478.39,-2395.95 3522,-2375.78 3522,-2331.74 3522,-2331.74 3522,-2331.74 3522,-1798.9 3522,-1656.78 3509,-1621.52 3509,-1479.39 3509,-1479.39 3509,-1479.39 3509,-847.76 3509,-790.26 3451.19,-754.81 3398.85,-734.51"/>
<polygon fill="black" stroke="black" points="3400,-732.32 3392.59,-732.15 3398.28,-736.91 3400,-732.32"/>
<text text-anchor="middle" x="3518.33" y="-1518.6" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_self_run -->
<g id="node24" class="node">
<title>g_self_run</title>
<polygon fill="none" stroke="black" points="3330,-2348.74 3206.78,-2330.74 3330,-2312.74 3453.22,-2330.74 3330,-2348.74"/>
<text text-anchor="middle" x="3330" y="-2326.87" font-family="Helvetica,sans-Serif" font-size="10.00">Action == run AND self(C,N)?</text>
</g>
<!-- g_split&#45;&gt;g_self_run -->
<g id="edge21" class="edge">
<title>g_split&#45;&gt;g_self_run</title>
<path fill="none" stroke="black" d="M3330,-2394.19C3330,-2383.42 3330,-2369.39 3330,-2357.35"/>
<polygon fill="black" stroke="black" points="3332.45,-2357.53 3330,-2350.53 3327.55,-2357.53 3332.45,-2357.53"/>
<text text-anchor="middle" x="3335.25" y="-2367.94" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ok_self -->
<g id="node25" class="node">
<title>g_ok_self</title>
<polygon fill="none" stroke="black" points="3475.25,-2264.12 3394.75,-2264.12 3394.75,-2228.12 3475.25,-2228.12 3475.25,-2264.12"/>
<text text-anchor="middle" x="3435" y="-2242.24" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_self_run&#45;&gt;g_ok_self -->
<g id="edge22" class="edge">
<title>g_self_run&#45;&gt;g_ok_self</title>
<path fill="none" stroke="black" d="M3348.29,-2315.35C3364.3,-2302.75 3387.84,-2284.23 3406.35,-2269.67"/>
<polygon fill="black" stroke="black" points="3407.74,-2271.69 3411.73,-2265.43 3404.71,-2267.84 3407.74,-2271.69"/>
<text text-anchor="middle" x="3392.77" y="-2286.19" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_emptytree_core -->
<g id="node26" class="node">
<title>g_emptytree_core</title>
<polygon fill="none" stroke="black" points="3247,-2264.12 3116.88,-2246.12 3247,-2228.12 3377.12,-2246.12 3247,-2264.12"/>
<text text-anchor="middle" x="3247" y="-2242.24" font-family="Helvetica,sans-Serif" font-size="10.00">emptytree AND core_pkg(C,N)?</text>
</g>
<!-- g_self_run&#45;&gt;g_emptytree_core -->
<g id="edge23" class="edge">
<title>g_self_run&#45;&gt;g_emptytree_core</title>
<path fill="none" stroke="black" d="M3314.78,-2314.59C3301.75,-2301.63 3282.87,-2282.82 3268.34,-2268.36"/>
<polygon fill="black" stroke="black" points="3270.17,-2266.73 3263.48,-2263.52 3266.71,-2270.2 3270.17,-2266.73"/>
<text text-anchor="middle" x="3298.72" y="-2286.19" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ok_core -->
<g id="node27" class="node">
<title>g_ok_core</title>
<polygon fill="none" stroke="black" points="3412.25,-2144.49 3331.75,-2144.49 3331.75,-2108.49 3412.25,-2108.49 3412.25,-2144.49"/>
<text text-anchor="middle" x="3372" y="-2122.62" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_emptytree_core&#45;&gt;g_ok_core -->
<g id="edge24" class="edge">
<title>g_emptytree_core&#45;&gt;g_ok_core</title>
<path fill="none" stroke="black" d="M3264.96,-2230.16C3280.4,-2217.12 3303.1,-2197.53 3322,-2179.49 3331.57,-2170.36 3341.76,-2159.91 3350.42,-2150.79"/>
<polygon fill="black" stroke="black" points="3352.09,-2152.59 3355.11,-2145.82 3348.52,-2149.23 3352.09,-2152.59"/>
<text text-anchor="middle" x="3309.02" y="-2198.69" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_keep_installed -->
<g id="node28" class="node">
<title>g_keep_installed</title>
<polygon fill="none" stroke="black" points="3127,-2179.49 2940.75,-2126.49 3127,-2073.49 3313.25,-2126.49 3127,-2179.49"/>
<text text-anchor="middle" x="3127" y="-2139.49" font-family="Helvetica,sans-Serif" font-size="10.00">keep&#45;installed fast path?</text>
<text text-anchor="middle" x="3127" y="-2128.24" font-family="Helvetica,sans-Serif" font-size="10.00">(!emptytree, !deep, same&#45;slot installed,</text>
<text text-anchor="middle" x="3127" y="-2116.99" font-family="Helvetica,sans-Serif" font-size="10.00">version+slot+build_with_use satisfied,</text>
<text text-anchor="middle" x="3127" y="-2105.74" font-family="Helvetica,sans-Serif" font-size="10.00">and no &#45;&#45;newuse mismatch)</text>
</g>
<!-- g_emptytree_core&#45;&gt;g_keep_installed -->
<g id="edge25" class="edge">
<title>g_emptytree_core&#45;&gt;g_keep_installed</title>
<path fill="none" stroke="black" d="M3231.8,-2230.22C3217.34,-2216.04 3194.8,-2193.95 3174.33,-2173.88"/>
<polygon fill="black" stroke="black" points="3176.13,-2172.22 3169.41,-2169.07 3172.7,-2175.72 3176.13,-2172.22"/>
<text text-anchor="middle" x="3213.44" y="-2198.69" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ok_installed -->
<g id="node29" class="node">
<title>g_ok_installed</title>
<polygon fill="none" stroke="black" points="3235.25,-2024.87 3154.75,-2024.87 3154.75,-1988.87 3235.25,-1988.87 3235.25,-2024.87"/>
<text text-anchor="middle" x="3195" y="-2002.99" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_keep_installed&#45;&gt;g_ok_installed -->
<g id="edge26" class="edge">
<title>g_keep_installed&#45;&gt;g_ok_installed</title>
<path fill="none" stroke="black" d="M3152.9,-2080.69C3162.34,-2064.36 3172.66,-2046.51 3180.72,-2032.57"/>
<polygon fill="black" stroke="black" points="3182.81,-2033.86 3184.19,-2026.57 3178.56,-2031.4 3182.81,-2033.86"/>
<text text-anchor="middle" x="3180.13" y="-2046.94" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_slotreq -->
<g id="node30" class="node">
<title>g_slotreq</title>
<polygon fill="none" stroke="black" points="3137.12,-2024.87 2962.88,-2024.87 2962.88,-1988.87 3137.12,-1988.87 3137.12,-2024.87"/>
<text text-anchor="middle" x="3050" y="-2002.99" font-family="Helvetica,sans-Serif" font-size="10.00">SlotReq = merge_slot_restriction(...)</text>
</g>
<!-- g_keep_installed&#45;&gt;g_slotreq -->
<g id="edge27" class="edge">
<title>g_keep_installed&#45;&gt;g_slotreq</title>
<path fill="none" stroke="black" d="M3098.11,-2081.36C3087.21,-2064.71 3075.21,-2046.37 3065.92,-2032.19"/>
<polygon fill="black" stroke="black" points="3068.04,-2030.96 3062.16,-2026.44 3063.94,-2033.64 3068.04,-2030.96"/>
<text text-anchor="middle" x="3084.59" y="-2046.94" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_select -->
<g id="node31" class="node">
<title>g_select</title>
<polygon fill="none" stroke="black" points="3149.38,-1913.64 2856.62,-1913.64 2856.62,-1849.39 3149.38,-1849.39 3149.38,-1913.64"/>
<text text-anchor="middle" x="3003" y="-1900.14" font-family="Helvetica,sans-Serif" font-size="10.00">candidate selection:</text>
<text text-anchor="middle" x="3003" y="-1888.89" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; explicit slot dep &#45;&gt; accepted_keyword_candidate</text>
<text text-anchor="middle" x="3003" y="-1877.64" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; else selected_cn_candidate_compatible (slot+domain)</text>
<text text-anchor="middle" x="3003" y="-1866.39" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; else accepted_keyword_candidate</text>
<text text-anchor="middle" x="3003" y="-1855.14" font-family="Helvetica,sans-Serif" font-size="10.00"> &#160;excluding selected_cn candidates already rejected for this dep</text>
</g>
<!-- g_slotreq&#45;&gt;g_select -->
<g id="edge28" class="edge">
<title>g_slotreq&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M3043.37,-1988.46C3036.8,-1971.23 3026.53,-1944.26 3017.99,-1921.84"/>
<polygon fill="black" stroke="black" points="3020.37,-1921.21 3015.59,-1915.54 3015.79,-1922.96 3020.37,-1921.21"/>
</g>
<!-- g_deep_keep -->
<g id="node44" class="node">
<title>g_deep_keep</title>
<polygon fill="none" stroke="black" points="3335,-1912.01 3167.5,-1881.51 3335,-1851.01 3502.5,-1881.51 3335,-1912.01"/>
<text text-anchor="middle" x="3335" y="-1883.26" font-family="Helvetica,sans-Serif" font-size="10.00">deep fallback keep&#45;installed?</text>
<text text-anchor="middle" x="3335" y="-1872.01" font-family="Helvetica,sans-Serif" font-size="10.00">(installed same&#45;slot satisfies deps)</text>
</g>
<!-- g_slotreq&#45;&gt;g_deep_keep -->
<g id="edge49" class="edge">
<title>g_slotreq&#45;&gt;g_deep_keep</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3090.23,-1988.46C3139.47,-1967.14 3223.14,-1930.93 3278.74,-1906.86"/>
<polygon fill="black" stroke="black" points="3279.55,-1909.18 3285,-1904.15 3277.6,-1904.68 3279.55,-1909.18"/>
<text text-anchor="middle" x="3214.09" y="-1959.44" font-family="Helvetica,sans-Serif" font-size="9.00">no viable candidate branch</text>
</g>
<!-- g_self_guard -->
<g id="node32" class="node">
<title>g_self_guard</title>
<polygon fill="none" stroke="black" points="3002,-1764.53 2900.12,-1746.53 3002,-1728.53 3103.88,-1746.53 3002,-1764.53"/>
<text text-anchor="middle" x="3002" y="-1742.65" font-family="Helvetica,sans-Serif" font-size="10.00">candidate == self entry?</text>
</g>
<!-- g_select&#45;&gt;g_self_guard -->
<g id="edge29" class="edge">
<title>g_select&#45;&gt;g_self_guard</title>
<path fill="none" stroke="black" d="M3002.76,-1849C3002.59,-1825.91 3002.36,-1794.96 3002.19,-1773.33"/>
<polygon fill="black" stroke="black" points="3004.65,-1773.47 3002.14,-1766.49 2999.75,-1773.5 3004.65,-1773.47"/>
</g>
<!-- g_self_installed -->
<g id="node33" class="node">
<title>g_self_installed</title>
<polygon fill="none" stroke="black" points="2908,-1670.28 2820,-1639.78 2908,-1609.28 2996,-1639.78 2908,-1670.28"/>
<text text-anchor="middle" x="2908" y="-1641.53" font-family="Helvetica,sans-Serif" font-size="10.00">if self candidate:</text>
<text text-anchor="middle" x="2908" y="-1630.28" font-family="Helvetica,sans-Serif" font-size="10.00">installed(true)?</text>
</g>
<!-- g_self_guard&#45;&gt;g_self_installed -->
<g id="edge30" class="edge">
<title>g_self_guard&#45;&gt;g_self_installed</title>
<path fill="none" stroke="black" d="M2988.53,-1730.52C2974.33,-1714.7 2951.61,-1689.38 2933.92,-1669.66"/>
<polygon fill="black" stroke="black" points="2935.88,-1668.17 2929.38,-1664.6 2932.23,-1671.45 2935.88,-1668.17"/>
<text text-anchor="middle" x="2964.94" y="-1689.48" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_version_guard -->
<g id="node34" class="node">
<title>g_version_guard</title>
<polygon fill="none" stroke="black" points="2981,-1540.27 2863.43,-1522.27 2981,-1504.27 3098.57,-1522.27 2981,-1540.27"/>
<text text-anchor="middle" x="2981" y="-1518.4" font-family="Helvetica,sans-Serif" font-size="10.00">all version constraints pass?</text>
</g>
<!-- g_self_guard&#45;&gt;g_version_guard -->
<g id="edge31" class="edge">
<title>g_self_guard&#45;&gt;g_version_guard</title>
<path fill="none" stroke="black" d="M3002.89,-1728.2C3003.62,-1712.95 3004.6,-1690.15 3005,-1670.28 3005.54,-1643.17 3008.68,-1636.14 3005,-1609.28 3002.09,-1588.03 2995.32,-1564.63 2989.7,-1547.61"/>
<polygon fill="black" stroke="black" points="2992.11,-1547.08 2987.55,-1541.23 2987.47,-1548.65 2992.11,-1547.08"/>
<text text-anchor="middle" x="3012.01" y="-1636.1" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_self_installed&#45;&gt;g_select -->
<g id="edge33" class="edge">
<title>g_self_installed&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M2883.74,-1662.21C2870.01,-1676.02 2854.14,-1695.24 2846.75,-1716.03 2837.67,-1741.57 2833.92,-1753.15 2846.75,-1777.03 2862.43,-1806.23 2890.38,-1828.57 2918.34,-1844.9"/>
<polygon fill="black" stroke="black" points="2916.82,-1846.86 2924.12,-1848.17 2919.24,-1842.59 2916.82,-1846.86"/>
<text text-anchor="middle" x="2868.88" y="-1742.85" font-family="Helvetica,sans-Serif" font-size="9.00">no: try next</text>
</g>
<!-- g_self_installed&#45;&gt;g_version_guard -->
<g id="edge32" class="edge">
<title>g_self_installed&#45;&gt;g_version_guard</title>
<path fill="none" stroke="black" d="M2923.48,-1614.28C2936.17,-1594.2 2954.01,-1565.98 2966.44,-1546.31"/>
<polygon fill="black" stroke="black" points="2968.44,-1547.73 2970.11,-1540.5 2964.3,-1545.11 2968.44,-1547.73"/>
<text text-anchor="middle" x="2949.44" y="-1582.73" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_version_guard&#45;&gt;g_select -->
<g id="edge35" class="edge">
<title>g_version_guard&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M2989.47,-1539.11C3006.82,-1570.88 3048.61,-1644 3093.75,-1698.03 3101.26,-1707.02 3108.34,-1705.28 3113,-1716.03 3123.79,-1740.9 3123.76,-1752.14 3113,-1777.03 3101.55,-1803.53 3079.6,-1826.38 3058.3,-1843.81"/>
<polygon fill="black" stroke="black" points="3056.85,-1841.83 3052.9,-1848.11 3059.91,-1845.66 3056.85,-1841.83"/>
<text text-anchor="middle" x="3115.88" y="-1689.48" font-family="Helvetica,sans-Serif" font-size="9.00">no: try next</text>
</g>
<!-- g_pdepend -->
<g id="node35" class="node">
<title>g_pdepend</title>
<polygon fill="none" stroke="black" points="2978,-1443.02 2838.47,-1425.02 2978,-1407.02 3117.53,-1425.02 2978,-1443.02"/>
<text text-anchor="middle" x="2978" y="-1421.14" font-family="Helvetica,sans-Serif" font-size="10.00">PDEPEND edge in grouped deps?</text>
</g>
<!-- g_version_guard&#45;&gt;g_pdepend -->
<g id="edge34" class="edge">
<title>g_version_guard&#45;&gt;g_pdepend</title>
<path fill="none" stroke="black" d="M2980.46,-1504.24C2980,-1489.57 2979.33,-1468.18 2978.8,-1451.47"/>
<polygon fill="black" stroke="black" points="2981.26,-1451.65 2978.59,-1444.74 2976.36,-1451.81 2981.26,-1451.65"/>
<text text-anchor="middle" x="2986.89" y="-1474.72" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_ctx_drop -->
<g id="node36" class="node">
<title>g_ctx_drop</title>
<polygon fill="none" stroke="black" points="3071,-1336.27 2851,-1336.27 2851,-1300.27 3071,-1300.27 3071,-1336.27"/>
<text text-anchor="middle" x="2961" y="-1320.02" font-family="Helvetica,sans-Serif" font-size="10.00">drop parent build_with_use/assumption_reason</text>
<text text-anchor="middle" x="2961" y="-1308.77" font-family="Helvetica,sans-Serif" font-size="10.00">for this dep edge</text>
</g>
<!-- g_pdepend&#45;&gt;g_ctx_drop -->
<g id="edge36" class="edge">
<title>g_pdepend&#45;&gt;g_ctx_drop</title>
<path fill="none" stroke="black" d="M2975.27,-1407.19C2972.55,-1390.44 2968.34,-1364.5 2965.2,-1345.14"/>
<polygon fill="black" stroke="black" points="2967.62,-1344.77 2964.08,-1338.25 2962.78,-1345.55 2967.62,-1344.77"/>
<text text-anchor="middle" x="2977.13" y="-1367.97" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_use_guard -->
<g id="node37" class="node">
<title>g_use_guard</title>
<polygon fill="none" stroke="black" points="3107,-1242.02 2979.39,-1224.02 3107,-1206.02 3234.61,-1224.02 3107,-1242.02"/>
<text text-anchor="middle" x="3107" y="-1220.14" font-family="Helvetica,sans-Serif" font-size="10.00">candidate_satisfies_use_deps?</text>
</g>
<!-- g_pdepend&#45;&gt;g_use_guard -->
<g id="edge37" class="edge">
<title>g_pdepend&#45;&gt;g_use_guard</title>
<path fill="none" stroke="black" d="M3006.75,-1410.25C3030.12,-1397.54 3062.05,-1376.47 3080,-1348.77 3099.34,-1318.93 3105.02,-1277.4 3106.58,-1250.87"/>
<polygon fill="black" stroke="black" points="3109.02,-1251.1 3106.9,-1243.99 3104.13,-1250.87 3109.02,-1251.1"/>
<text text-anchor="middle" x="3107.33" y="-1314.59" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ctx_drop&#45;&gt;g_use_guard -->
<g id="edge38" class="edge">
<title>g_ctx_drop&#45;&gt;g_use_guard</title>
<path fill="none" stroke="black" d="M2988.46,-1299.92C3013.83,-1283.89 3051.42,-1260.14 3077.44,-1243.7"/>
<polygon fill="black" stroke="black" points="3078.56,-1245.89 3083.17,-1240.08 3075.94,-1241.74 3078.56,-1245.89"/>
</g>
<!-- g_use_guard&#45;&gt;g_select -->
<g id="edge40" class="edge">
<title>g_use_guard&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M3115.68,-1241.17C3124.54,-1259.19 3137,-1289.48 3137,-1317.27 3137,-1479.39 3137,-1479.39 3137,-1479.39 3137,-1611.84 3170.48,-1653.77 3122,-1777.03 3111.24,-1804.39 3088.56,-1827.01 3065.86,-1844.05"/>
<polygon fill="black" stroke="black" points="3064.59,-1841.94 3060.37,-1848.04 3067.48,-1845.9 3064.59,-1841.94"/>
<text text-anchor="middle" x="3164.47" y="-1518.6" font-family="Helvetica,sans-Serif" font-size="9.00">no: try next</text>
</g>
<!-- g_use_slot -->
<g id="node38" class="node">
<title>g_use_slot</title>
<polygon fill="none" stroke="black" points="3200.88,-1160.27 3013.12,-1160.27 3013.12,-1124.27 3200.88,-1124.27 3200.88,-1160.27"/>
<text text-anchor="middle" x="3107" y="-1138.39" font-family="Helvetica,sans-Serif" font-size="10.00">process_build_with_use + process_slot</text>
</g>
<!-- g_use_guard&#45;&gt;g_use_slot -->
<g id="edge39" class="edge">
<title>g_use_guard&#45;&gt;g_use_slot</title>
<path fill="none" stroke="black" d="M3107,-1205.71C3107,-1194.95 3107,-1180.91 3107,-1168.88"/>
<polygon fill="black" stroke="black" points="3109.45,-1169.05 3107,-1162.05 3104.55,-1169.05 3109.45,-1169.05"/>
<text text-anchor="middle" x="3114.12" y="-1179.47" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_action_path -->
<g id="node39" class="node">
<title>g_action_path</title>
<polygon fill="none" stroke="black" points="3107,-1066.02 2930.44,-1048.02 3107,-1030.02 3283.56,-1048.02 3107,-1066.02"/>
<text text-anchor="middle" x="3107" y="-1044.14" font-family="Helvetica,sans-Serif" font-size="10.00">same&#45;slot installed instance for update path?</text>
</g>
<!-- g_use_slot&#45;&gt;g_action_path -->
<g id="edge41" class="edge">
<title>g_use_slot&#45;&gt;g_action_path</title>
<path fill="none" stroke="black" d="M3107,-1123.92C3107,-1110 3107,-1090.27 3107,-1074.55"/>
<polygon fill="black" stroke="black" points="3109.45,-1074.81 3107,-1067.81 3104.55,-1074.81 3109.45,-1074.81"/>
</g>
<!-- g_action_update -->
<g id="node40" class="node">
<title>g_action_update</title>
<polygon fill="none" stroke="black" points="3035.75,-971.77 2820.25,-971.77 2820.25,-935.77 3035.75,-935.77 3035.75,-971.77"/>
<text text-anchor="middle" x="2928" y="-955.52" font-family="Helvetica,sans-Serif" font-size="10.00">ActionGoal = Candidate:update?{replaces(...)}</text>
<text text-anchor="middle" x="2928" y="-944.27" font-family="Helvetica,sans-Serif" font-size="10.00">(or rebuild_reason(build_with_use/newuse))</text>
</g>
<!-- g_action_path&#45;&gt;g_action_update -->
<g id="edge42" class="edge">
<title>g_action_path&#45;&gt;g_action_update</title>
<path fill="none" stroke="black" d="M3079.03,-1032.6C3049.6,-1017.43 3002.95,-993.4 2969.28,-976.04"/>
<polygon fill="black" stroke="black" points="2970.57,-973.95 2963.22,-972.92 2968.32,-978.31 2970.57,-973.95"/>
<text text-anchor="middle" x="3019.26" y="-990.97" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_action_install -->
<g id="node41" class="node">
<title>g_action_install</title>
<polygon fill="none" stroke="black" points="3241.88,-971.77 3054.12,-971.77 3054.12,-935.77 3241.88,-935.77 3241.88,-971.77"/>
<text text-anchor="middle" x="3148" y="-955.52" font-family="Helvetica,sans-Serif" font-size="10.00">DepAction = (run &#45;&gt; install; else Action)</text>
<text text-anchor="middle" x="3148" y="-944.27" font-family="Helvetica,sans-Serif" font-size="10.00">ActionGoal = Candidate:DepAction</text>
</g>
<!-- g_action_path&#45;&gt;g_action_install -->
<g id="edge43" class="edge">
<title>g_action_path&#45;&gt;g_action_install</title>
<path fill="none" stroke="black" d="M3114.33,-1030.53C3120.62,-1016.36 3129.79,-995.74 3136.97,-979.58"/>
<polygon fill="black" stroke="black" points="3139.1,-980.83 3139.7,-973.44 3134.62,-978.84 3139.1,-980.83"/>
<text text-anchor="middle" x="3137.63" y="-990.97" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_emit -->
<g id="node42" class="node">
<title>g_emit</title>
<polygon fill="none" stroke="black" points="3104,-880.89 2800,-880.89 2800,-816.64 3104,-816.64 3104,-880.89"/>
<text text-anchor="middle" x="2952" y="-867.39" font-family="Helvetica,sans-Serif" font-size="10.00">emit constraints + goal:</text>
<text text-anchor="middle" x="2952" y="-856.14" font-family="Helvetica,sans-Serif" font-size="10.00">cn_domain + cn_domain_reason + selected_cn</text>
<text text-anchor="middle" x="2952" y="-844.89" font-family="Helvetica,sans-Serif" font-size="10.00">+ selected_cn_allow_multislot</text>
<text text-anchor="middle" x="2952" y="-833.64" font-family="Helvetica,sans-Serif" font-size="10.00"> &#160;(slot/any_* OR exactish&#45;versioned OR version&#45;constrained deps)</text>
<text text-anchor="middle" x="2952" y="-822.39" font-family="Helvetica,sans-Serif" font-size="10.00">+ build/use constraints + ActionGoal</text>
</g>
<!-- g_action_update&#45;&gt;g_emit -->
<g id="edge44" class="edge">
<title>g_action_update&#45;&gt;g_emit</title>
<path fill="none" stroke="black" d="M2932.07,-935.3C2935.01,-922.68 2939.1,-905.15 2942.8,-889.23"/>
<polygon fill="black" stroke="black" points="2945.15,-889.94 2944.36,-882.57 2940.38,-888.83 2945.15,-889.94"/>
</g>
<!-- u_start -->
<g id="node74" class="node">
<title>u_start</title>
<ellipse fill="none" stroke="black" cx="2267" cy="-848.76" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="2267" y="-844.89" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- g_action_update&#45;&gt;u_start -->
<g id="edge92" class="edge">
<title>g_action_update&#45;&gt;u_start</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2819.96,-935.93C2664.62,-911.73 2386.91,-868.45 2296.4,-854.34"/>
<polygon fill="black" stroke="black" points="2296.78,-851.92 2289.49,-853.27 2296.03,-856.77 2296.78,-851.92"/>
<text text-anchor="middle" x="2750.08" y="-909.22" font-family="Helvetica,sans-Serif" font-size="9.00">when ActionGoal is update</text>
</g>
<!-- g_action_install&#45;&gt;g_emit -->
<g id="edge45" class="edge">
<title>g_action_install&#45;&gt;g_emit</title>
<path fill="none" stroke="black" d="M3114.75,-935.3C3088.66,-921.58 3051.47,-902.04 3019.23,-885.1"/>
<polygon fill="black" stroke="black" points="3020.69,-883.09 3013.35,-882.01 3018.41,-887.43 3020.69,-883.09"/>
</g>
<!-- g_emit&#45;&gt;g_start -->
<!-- g_emit&#45;&gt;g_split_emit -->
<g id="edge47" class="edge">
<title>g_emit&#45;&gt;g_split_emit</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3035.97,-816.28C3102.48,-791.34 3193.88,-757.06 3253.92,-734.54"/>
<polygon fill="black" stroke="black" points="3254.7,-736.87 3260.39,-732.12 3252.98,-732.28 3254.7,-736.87"/>
<text text-anchor="middle" x="3165.9" y="-790.09" font-family="Helvetica,sans-Serif" font-size="9.00">if split parent proving each child</text>
</g>
<!-- g_sel_policy -->
<g id="node43" class="node">
<title>g_sel_policy</title>
<polygon fill="none" stroke="black" points="3065.75,-770.89 2832.25,-770.89 2832.25,-649.64 3071.75,-649.64 3071.75,-764.89 3065.75,-770.89"/>
<polyline fill="none" stroke="black" points="3065.75,-770.89 3065.75,-764.89"/>
<polyline fill="none" stroke="black" points="3071.75,-764.89 3065.75,-764.89"/>
<text text-anchor="middle" x="2952" y="-757.39" font-family="Helvetica,sans-Serif" font-size="10.00">constraint_guard(selected_cn):</text>
<text text-anchor="middle" x="2952" y="-746.14" font-family="Helvetica,sans-Serif" font-size="10.00">strict single concrete entry per (C,N) by default;</text>
<text text-anchor="middle" x="2952" y="-734.89" font-family="Helvetica,sans-Serif" font-size="10.00">with selected_cn_allow_multislot(C,N):</text>
<text text-anchor="middle" x="2952" y="-723.64" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; one concrete entry per SLOT, or</text>
<text text-anchor="middle" x="2952" y="-712.39" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; per (slot,subslot) for same&#45;slot multiversion cases</text>
<text text-anchor="middle" x="2952" y="-689.14" font-family="Helvetica,sans-Serif" font-size="10.00">Version&#45;constrained deps always get multi&#45;slot</text>
<text text-anchor="middle" x="2952" y="-677.89" font-family="Helvetica,sans-Serif" font-size="10.00">allowance so that e.g. minitest&#45;5.15.0&#45;r1:5.15</text>
<text text-anchor="middle" x="2952" y="-666.64" font-family="Helvetica,sans-Serif" font-size="10.00">and minitest&#45;5.27.0:5 can coexist when ruby&#39;s</text>
<text text-anchor="middle" x="2952" y="-655.39" font-family="Helvetica,sans-Serif" font-size="10.00">PDEPEND requires &gt;=minitest&#45;5.16.3</text>
</g>
<!-- g_emit&#45;&gt;g_sel_policy -->
<g id="edge46" class="edge">
<title>g_emit&#45;&gt;g_sel_policy</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2952,-816.45C2952,-805.41 2952,-792.52 2952,-779.63"/>
<polygon fill="black" stroke="black" points="2954.45,-779.69 2952,-772.69 2949.55,-779.69 2954.45,-779.69"/>
<text text-anchor="middle" x="3008.62" y="-790.09" font-family="Helvetica,sans-Serif" font-size="9.00">selection consistency policy</text>
</g>
<!-- r_guard -->
<g id="node50" class="node">
<title>r_guard</title>
<polygon fill="none" stroke="black" points="2767.88,-736.76 2544.12,-736.76 2544.12,-683.76 2767.88,-683.76 2767.88,-736.76"/>
<text text-anchor="middle" x="2656" y="-723.26" font-family="Helvetica,sans-Serif" font-size="10.00">constraint_guard hooks that may throw reprove:</text>
<text text-anchor="middle" x="2656" y="-712.01" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; cn_domain + selected_cn compatibility</text>
<text text-anchor="middle" x="2656" y="-700.76" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; selected_cn uniqueness/domain partition</text>
<text text-anchor="middle" x="2656" y="-689.51" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; blocked_cn vs selected_cn source reprove</text>
</g>
<!-- g_emit&#45;&gt;r_guard -->
<g id="edge93" class="edge">
<title>g_emit&#45;&gt;r_guard</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2836.65,-816.24C2821.64,-810.97 2806.66,-805.09 2792.75,-798.64 2759.08,-783.04 2723.85,-760.36 2697.58,-742.01"/>
<polygon fill="black" stroke="black" points="2699.13,-740.11 2692,-738.08 2696.31,-744.11 2699.13,-740.11"/>
<text text-anchor="middle" x="2870.38" y="-790.09" font-family="Helvetica,sans-Serif" font-size="9.00">constraint_guard may request reprove</text>
</g>
<!-- g_ok_deep -->
<g id="node45" class="node">
<title>g_ok_deep</title>
<polygon fill="none" stroke="black" points="3242.25,-1764.53 3161.75,-1764.53 3161.75,-1728.53 3242.25,-1728.53 3242.25,-1764.53"/>
<text text-anchor="middle" x="3202" y="-1742.65" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_deep_keep&#45;&gt;g_ok_deep -->
<g id="edge50" class="edge">
<title>g_deep_keep&#45;&gt;g_ok_deep</title>
<path fill="none" stroke="black" d="M3309.67,-1855.19C3285.32,-1830.84 3248.82,-1794.34 3225.2,-1770.73"/>
<polygon fill="black" stroke="black" points="3226.95,-1769.01 3220.27,-1765.8 3223.49,-1772.48 3226.95,-1769.01"/>
<text text-anchor="middle" x="3263.71" y="-1796.23" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_reprove -->
<g id="node46" class="node">
<title>g_reprove</title>
<polygon fill="none" stroke="black" points="3503.25,-1773.03 3260.75,-1773.03 3260.75,-1720.03 3503.25,-1720.03 3503.25,-1773.03"/>
<text text-anchor="middle" x="3382" y="-1759.53" font-family="Helvetica,sans-Serif" font-size="10.00">attempt CN&#45;domain reprove request:</text>
<text text-anchor="middle" x="3382" y="-1748.28" font-family="Helvetica,sans-Serif" font-size="10.00">rules:maybe_request_grouped_dep_reprove(...)</text>
<text text-anchor="middle" x="3382" y="-1737.03" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; eligible: throw rules_reprove_cn_domain(...)</text>
<text text-anchor="middle" x="3382" y="-1725.78" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; otherwise: fail and continue to assumption fallback</text>
</g>
<!-- g_deep_keep&#45;&gt;g_reprove -->
<g id="edge51" class="edge">
<title>g_deep_keep&#45;&gt;g_reprove</title>
<path fill="none" stroke="black" d="M3344.85,-1852.63C3352.24,-1831.74 3362.37,-1803.07 3370.19,-1780.94"/>
<polygon fill="black" stroke="black" points="3372.43,-1781.96 3372.45,-1774.54 3367.81,-1780.33 3372.43,-1781.96"/>
<text text-anchor="middle" x="3369.34" y="-1796.23" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_reason_call -->
<g id="node47" class="node">
<title>g_reason_call</title>
<polygon fill="none" stroke="black" points="3488.75,-1657.78 3183.25,-1657.78 3183.25,-1621.78 3488.75,-1621.78 3488.75,-1657.78"/>
<text text-anchor="middle" x="3336" y="-1641.53" font-family="Helvetica,sans-Serif" font-size="10.00">call explanation:assumption_reason_for_grouped_dep(...,_Reason)</text>
<text text-anchor="middle" x="3336" y="-1630.28" font-family="Helvetica,sans-Serif" font-size="10.00">for classification (not injected into context)</text>
</g>
<!-- g_reprove&#45;&gt;g_reason_call -->
<g id="edge52" class="edge">
<title>g_reprove&#45;&gt;g_reason_call</title>
<path fill="none" stroke="black" d="M3370.63,-1719.64C3363.4,-1703.18 3354.1,-1682 3346.96,-1665.73"/>
<polygon fill="black" stroke="black" points="3349.31,-1664.99 3344.25,-1659.57 3344.82,-1666.96 3349.31,-1664.99"/>
<text text-anchor="middle" x="3399" y="-1689.48" font-family="Helvetica,sans-Serif" font-size="9.00">no reprove request</text>
</g>
<!-- r_throw -->
<g id="node49" class="node">
<title>r_throw</title>
<polygon fill="none" stroke="black" points="2776.12,-591.39 2493.88,-591.39 2493.88,-555.39 2776.12,-555.39 2776.12,-591.39"/>
<text text-anchor="middle" x="2635" y="-575.14" font-family="Helvetica,sans-Serif" font-size="10.00">rules_reprove_cn_domain(C,N,Domain,Candidates,Reasons)</text>
<text text-anchor="middle" x="2635" y="-563.89" font-family="Helvetica,sans-Serif" font-size="10.00">(thrown from rules.pl)</text>
</g>
<!-- g_reprove&#45;&gt;r_throw -->
<g id="edge53" class="edge">
<title>g_reprove&#45;&gt;r_throw</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3483.24,-1719.66C3519.23,-1703.88 3551,-1679.1 3551,-1640.78 3551,-1640.78 3551,-1640.78 3551,-709.26 3551,-654.5 3499.78,-659.47 3448,-641.64 3329.3,-600.75 2985.08,-584.24 2784.63,-577.95"/>
<polygon fill="black" stroke="black" points="2784.97,-575.51 2777.89,-577.75 2784.82,-580.41 2784.97,-575.51"/>
<text text-anchor="middle" x="3617.38" y="-1179.47" font-family="Helvetica,sans-Serif" font-size="9.00">throw rules_reprove_cn_domain</text>
</g>
<!-- g_assume -->
<g id="node48" class="node">
<title>g_assume</title>
<polygon fill="none" stroke="black" points="3473,-1543.15 3199,-1543.15 3199,-1501.4 3473,-1501.4 3473,-1543.15"/>
<text text-anchor="middle" x="3336" y="-1529.65" font-family="Helvetica,sans-Serif" font-size="10.00">fallback assumption:</text>
<text text-anchor="middle" x="3336" y="-1518.4" font-family="Helvetica,sans-Serif" font-size="10.00">assumed(grouped_package_dependency(...):Action?{Ctx2})</text>
<text text-anchor="middle" x="3336" y="-1507.15" font-family="Helvetica,sans-Serif" font-size="10.00">Ctx2 augmented with domain_reason(cn_domain(...)) tags</text>
</g>
<!-- g_reason_call&#45;&gt;g_assume -->
<g id="edge54" class="edge">
<title>g_reason_call&#45;&gt;g_assume</title>
<path fill="none" stroke="black" d="M3336,-1621.74C3336,-1603.34 3336,-1573.74 3336,-1551.79"/>
<polygon fill="black" stroke="black" points="3338.45,-1552.01 3336,-1545.01 3333.55,-1552.01 3338.45,-1552.01"/>
</g>
<!-- e_start -->
<g id="node57" class="node">
<title>e_start</title>
<ellipse fill="none" stroke="black" cx="1716" cy="-1522.27" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="1716" y="-1518.4" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- g_reason_call&#45;&gt;e_start -->
<g id="edge94" class="edge">
<title>g_reason_call&#45;&gt;e_start</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3183.11,-1622.1C3139.2,-1617.6 3091.23,-1612.96 3047,-1609.28 2526.01,-1565.87 1888.73,-1532.13 1745.5,-1524.77"/>
<polygon fill="black" stroke="black" points="1745.78,-1522.33 1738.67,-1524.42 1745.53,-1527.23 1745.78,-1522.33"/>
<text text-anchor="middle" x="2828.91" y="-1582.73" font-family="Helvetica,sans-Serif" font-size="9.00">classification path</text>
</g>
<!-- r_catch -->
<g id="node51" class="node">
<title>r_catch</title>
<polygon fill="none" stroke="black" points="2763,-497.14 2507,-497.14 2507,-461.14 2763,-461.14 2763,-497.14"/>
<text text-anchor="middle" x="2635" y="-475.26" font-family="Helvetica,sans-Serif" font-size="10.00">prover:prove_with_cn_domain_retries/11 catches throw</text>
</g>
<!-- r_throw&#45;&gt;r_catch -->
<g id="edge56" class="edge">
<title>r_throw&#45;&gt;r_catch</title>
<path fill="none" stroke="black" d="M2635,-555.04C2635,-541.12 2635,-521.39 2635,-505.67"/>
<polygon fill="black" stroke="black" points="2637.45,-505.93 2635,-498.93 2632.55,-505.93 2637.45,-505.93"/>
</g>
<!-- r_guard&#45;&gt;r_throw -->
<g id="edge55" class="edge">
<title>r_guard&#45;&gt;r_throw</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2652,-683.58C2648.27,-659.62 2642.73,-624.06 2639,-600.09"/>
<polygon fill="black" stroke="black" points="2641.45,-599.87 2637.95,-593.33 2636.6,-600.62 2641.45,-599.87"/>
<text text-anchor="middle" x="2675.87" y="-623.09" font-family="Helvetica,sans-Serif" font-size="9.00">reprove request</text>
</g>
<!-- r_add -->
<g id="node52" class="node">
<title>r_add</title>
<polygon fill="none" stroke="black" points="2655.5,-415.39 2402.5,-415.39 2402.5,-379.39 2655.5,-379.39 2655.5,-415.39"/>
<text text-anchor="middle" x="2529" y="-399.14" font-family="Helvetica,sans-Serif" font-size="10.00">rules:add_cn_domain_rejects(...)</text>
<text text-anchor="middle" x="2529" y="-387.89" font-family="Helvetica,sans-Serif" font-size="10.00">(+ add_cn_domain_origin_rejects when Candidates=[])</text>
</g>
<!-- r_catch&#45;&gt;r_add -->
<g id="edge57" class="edge">
<title>r_catch&#45;&gt;r_add</title>
<path fill="none" stroke="black" d="M2612,-460.83C2596.3,-449.02 2575.37,-433.28 2558.46,-420.55"/>
<polygon fill="black" stroke="black" points="2560.23,-418.82 2553.16,-416.57 2557.29,-422.74 2560.23,-418.82"/>
</g>
<!-- r_retry -->
<g id="node53" class="node">
<title>r_retry</title>
<polygon fill="none" stroke="black" points="2520,-333.64 2381,-303.14 2520,-272.64 2659,-303.14 2520,-333.64"/>
<text text-anchor="middle" x="2520" y="-304.89" font-family="Helvetica,sans-Serif" font-size="10.00">Attempt &lt; MaxRetries</text>
<text text-anchor="middle" x="2520" y="-293.64" font-family="Helvetica,sans-Serif" font-size="10.00">AND any new reject added?</text>
</g>
<!-- r_add&#45;&gt;r_retry -->
<g id="edge58" class="edge">
<title>r_add&#45;&gt;r_retry</title>
<path fill="none" stroke="black" d="M2527.31,-379.04C2526.28,-368.5 2524.93,-354.64 2523.67,-341.71"/>
<polygon fill="black" stroke="black" points="2526.12,-341.62 2523,-334.89 2521.24,-342.1 2526.12,-341.62"/>
</g>
<!-- r_recurse -->
<g id="node54" class="node">
<title>r_recurse</title>
<polygon fill="none" stroke="black" points="2776,-218.39 2580,-218.39 2580,-182.39 2776,-182.39 2776,-218.39"/>
<text text-anchor="middle" x="2678" y="-196.51" font-family="Helvetica,sans-Serif" font-size="10.00">retry prove_once with updated reject map</text>
</g>
<!-- r_retry&#45;&gt;r_recurse -->
<g id="edge59" class="edge">
<title>r_retry&#45;&gt;r_recurse</title>
<path fill="none" stroke="black" d="M2554.67,-280.03C2581.08,-263.19 2617.25,-240.13 2643.59,-223.33"/>
<polygon fill="black" stroke="black" points="2644.88,-225.41 2649.47,-219.58 2642.25,-221.28 2644.88,-225.41"/>
<text text-anchor="middle" x="2615.58" y="-246.09" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- r_fallback -->
<g id="node55" class="node">
<title>r_fallback</title>
<polygon fill="none" stroke="black" points="2561.75,-218.39 2352.25,-218.39 2352.25,-182.39 2561.75,-182.39 2561.75,-218.39"/>
<text text-anchor="middle" x="2457" y="-202.14" font-family="Helvetica,sans-Serif" font-size="10.00">exhausted/no&#45;new&#45;rejects:</text>
<text text-anchor="middle" x="2457" y="-190.89" font-family="Helvetica,sans-Serif" font-size="10.00">prove_once with cn&#45;domain reprove disabled</text>
</g>
<!-- r_retry&#45;&gt;r_fallback -->
<g id="edge60" class="edge">
<title>r_retry&#45;&gt;r_fallback</title>
<path fill="none" stroke="black" d="M2503.61,-275.93C2493.9,-260.4 2481.67,-240.85 2472.18,-225.67"/>
<polygon fill="black" stroke="black" points="2474.35,-224.52 2468.57,-219.88 2470.2,-227.12 2474.35,-224.52"/>
<text text-anchor="middle" x="2493.75" y="-246.09" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- r_recurse&#45;&gt;r_catch -->
<g id="edge62" class="edge">
<title>r_recurse&#45;&gt;r_catch</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2679.16,-218.66C2681.16,-255.49 2683.42,-344.22 2665,-415.39 2661.61,-428.5 2655.43,-442.16 2649.56,-453.38"/>
<polygon fill="black" stroke="black" points="2647.49,-452.06 2646.31,-459.38 2651.79,-454.4 2647.49,-452.06"/>
<text text-anchor="middle" x="2703.42" y="-352.84" font-family="Helvetica,sans-Serif" font-size="9.00">on next throw</text>
</g>
<!-- r_done -->
<g id="node56" class="node">
<title>r_done</title>
<ellipse fill="none" stroke="black" cx="2567" cy="-72.07" rx="52.07" ry="52.07"/>
<ellipse fill="none" stroke="black" cx="2567" cy="-72.07" rx="56.07" ry="56.07"/>
<text text-anchor="middle" x="2567" y="-68.19" font-family="Helvetica,sans-Serif" font-size="10.00">final prove result</text>
</g>
<!-- r_recurse&#45;&gt;r_done -->
<g id="edge61" class="edge">
<title>r_recurse&#45;&gt;r_done</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2662.8,-182.09C2649.02,-166.41 2628.05,-142.54 2609.23,-121.13"/>
<polygon fill="black" stroke="black" points="2611.2,-119.65 2604.73,-116.01 2607.51,-122.89 2611.2,-119.65"/>
<text text-anchor="middle" x="2688.43" y="-147.34" font-family="Helvetica,sans-Serif" font-size="9.00">success/no further throw</text>
</g>
<!-- r_fallback&#45;&gt;r_done -->
<g id="edge63" class="edge">
<title>r_fallback&#45;&gt;r_done</title>
<path fill="none" stroke="black" d="M2472.06,-182.09C2485.67,-166.47 2506.34,-142.73 2524.93,-121.38"/>
<polygon fill="black" stroke="black" points="2526.62,-123.17 2529.37,-116.29 2522.92,-119.96 2526.62,-123.17"/>
</g>
<!-- e_any -->
<g id="node58" class="node">
<title>e_any</title>
<polygon fill="none" stroke="black" points="1517,-1455.52 1409.5,-1425.02 1517,-1394.52 1624.5,-1425.02 1517,-1455.52"/>
<text text-anchor="middle" x="1517" y="-1426.77" font-family="Helvetica,sans-Serif" font-size="10.00">Any package exists?</text>
<text text-anchor="middle" x="1517" y="-1415.52" font-family="Helvetica,sans-Serif" font-size="10.00">(category+name)</text>
</g>
<!-- e_start&#45;&gt;e_any -->
<g id="edge64" class="edge">
<title>e_start&#45;&gt;e_any</title>
<path fill="none" stroke="black" d="M1697.28,-1512.31C1666.98,-1497.81 1606.29,-1468.76 1563.73,-1448.39"/>
<polygon fill="black" stroke="black" points="1565,-1446.28 1557.63,-1445.47 1562.89,-1450.7 1565,-1446.28"/>
</g>
<!-- e_missing -->
<g id="node59" class="node">
<title>e_missing</title>
<polygon fill="none" stroke="black" points="1394.75,-1336.27 1299.25,-1336.27 1299.25,-1300.27 1394.75,-1300.27 1394.75,-1336.27"/>
<text text-anchor="middle" x="1347" y="-1314.39" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = missing</text>
</g>
<!-- e_any&#45;&gt;e_missing -->
<g id="edge65" class="edge">
<title>e_any&#45;&gt;e_missing</title>
<path fill="none" stroke="black" d="M1483.82,-1403.57C1454.57,-1385.55 1412.07,-1359.37 1382.23,-1340.97"/>
<polygon fill="black" stroke="black" points="1383.84,-1339.09 1376.59,-1337.5 1381.27,-1343.26 1383.84,-1339.09"/>
<text text-anchor="middle" x="1442.35" y="-1367.97" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_need_inst -->
<g id="node60" class="node">
<title>e_need_inst</title>
<polygon fill="none" stroke="black" points="1517,-1348.77 1413.25,-1318.27 1517,-1287.77 1620.75,-1318.27 1517,-1348.77"/>
<text text-anchor="middle" x="1517" y="-1320.02" font-family="Helvetica,sans-Serif" font-size="10.00">self&#45;hosting requires</text>
<text text-anchor="middle" x="1517" y="-1308.77" font-family="Helvetica,sans-Serif" font-size="10.00">installed&#45;only?</text>
</g>
<!-- e_any&#45;&gt;e_need_inst -->
<g id="edge66" class="edge">
<title>e_any&#45;&gt;e_need_inst</title>
<path fill="none" stroke="black" d="M1517,-1394C1517,-1382.51 1517,-1369.24 1517,-1357.11"/>
<polygon fill="black" stroke="black" points="1519.45,-1357.44 1517,-1350.44 1514.55,-1357.44 1519.45,-1357.44"/>
<text text-anchor="middle" x="1524.12" y="-1367.97" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_inst_empty -->
<g id="node61" class="node">
<title>e_inst_empty</title>
<polygon fill="none" stroke="black" points="1377,-1242.02 1272.61,-1224.02 1377,-1206.02 1481.39,-1224.02 1377,-1242.02"/>
<text text-anchor="middle" x="1377" y="-1220.14" font-family="Helvetica,sans-Serif" font-size="10.00">installed&#45;only set empty?</text>
</g>
<!-- e_need_inst&#45;&gt;e_inst_empty -->
<g id="edge67" class="edge">
<title>e_need_inst&#45;&gt;e_inst_empty</title>
<path fill="none" stroke="black" d="M1485.58,-1296.57C1461.33,-1280.58 1428.08,-1258.68 1404.79,-1243.33"/>
<polygon fill="black" stroke="black" points="1406.36,-1241.43 1399.16,-1239.62 1403.66,-1245.52 1406.36,-1241.43"/>
<text text-anchor="middle" x="1449.93" y="-1261.22" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_unmasked1 -->
<g id="node63" class="node">
<title>e_unmasked1</title>
<polygon fill="none" stroke="black" points="1447,-1160.27 1332.57,-1142.27 1447,-1124.27 1561.43,-1142.27 1447,-1160.27"/>
<text text-anchor="middle" x="1447" y="-1138.39" font-family="Helvetica,sans-Serif" font-size="10.00">Any unmasked candidates?</text>
</g>
<!-- e_need_inst&#45;&gt;e_unmasked1 -->
<g id="edge68" class="edge">
<title>e_need_inst&#45;&gt;e_unmasked1</title>
<path fill="none" stroke="black" d="M1512.95,-1288.45C1509.03,-1265.42 1501.9,-1232.7 1490,-1206.02 1483.44,-1191.3 1473.36,-1176.35 1464.61,-1164.74"/>
<polygon fill="black" stroke="black" points="1466.79,-1163.56 1460.57,-1159.51 1462.91,-1166.55 1466.79,-1163.56"/>
<text text-anchor="middle" x="1507.5" y="-1220.34" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_inst_req -->
<g id="node62" class="node">
<title>e_inst_req</title>
<polygon fill="none" stroke="black" points="1314.75,-1160.27 1177.25,-1160.27 1177.25,-1124.27 1314.75,-1124.27 1314.75,-1160.27"/>
<text text-anchor="middle" x="1246" y="-1138.39" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = installed_required</text>
</g>
<!-- e_inst_empty&#45;&gt;e_inst_req -->
<g id="edge69" class="edge">
<title>e_inst_empty&#45;&gt;e_inst_req</title>
<path fill="none" stroke="black" d="M1354.78,-1209.49C1334.67,-1197.25 1304.7,-1179.01 1281.31,-1164.77"/>
<polygon fill="black" stroke="black" points="1282.83,-1162.82 1275.58,-1161.27 1280.28,-1167.01 1282.83,-1162.82"/>
<text text-anchor="middle" x="1326.47" y="-1179.47" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_inst_empty&#45;&gt;e_unmasked1 -->
<g id="edge70" class="edge">
<title>e_inst_empty&#45;&gt;e_unmasked1</title>
<path fill="none" stroke="black" d="M1390.17,-1208.02C1400.85,-1195.84 1416.06,-1178.52 1428.06,-1164.85"/>
<polygon fill="black" stroke="black" points="1429.88,-1166.49 1432.66,-1159.61 1426.2,-1163.26 1429.88,-1166.49"/>
<text text-anchor="middle" x="1421.44" y="-1179.47" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_masked -->
<g id="node64" class="node">
<title>e_masked</title>
<polygon fill="none" stroke="black" points="1359.12,-866.76 1262.88,-866.76 1262.88,-830.76 1359.12,-830.76 1359.12,-866.76"/>
<text text-anchor="middle" x="1311" y="-844.89" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = masked</text>
</g>
<!-- e_unmasked1&#45;&gt;e_masked -->
<g id="edge71" class="edge">
<title>e_unmasked1&#45;&gt;e_masked</title>
<path fill="none" stroke="black" d="M1408.11,-1129.96C1382.44,-1120.43 1350.28,-1104.17 1332,-1078.52 1288.08,-1016.89 1297.73,-920.93 1305.67,-875.4"/>
<polygon fill="black" stroke="black" points="1308.04,-876.06 1306.89,-868.74 1303.22,-875.18 1308.04,-876.06"/>
<text text-anchor="middle" x="1307.57" y="-990.97" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_slot_any -->
<g id="node65" class="node">
<title>e_slot_any</title>
<polygon fill="none" stroke="black" points="1447,-1078.52 1341,-1048.02 1447,-1017.52 1553,-1048.02 1447,-1078.52"/>
<text text-anchor="middle" x="1447" y="-1049.77" font-family="Helvetica,sans-Serif" font-size="10.00">slot restriction yields</text>
<text text-anchor="middle" x="1447" y="-1038.52" font-family="Helvetica,sans-Serif" font-size="10.00">any candidates?</text>
</g>
<!-- e_unmasked1&#45;&gt;e_slot_any -->
<g id="edge72" class="edge">
<title>e_unmasked1&#45;&gt;e_slot_any</title>
<path fill="none" stroke="black" d="M1447,-1123.92C1447,-1113.56 1447,-1099.97 1447,-1087.22"/>
<polygon fill="black" stroke="black" points="1449.45,-1087.51 1447,-1080.51 1444.55,-1087.51 1449.45,-1087.51"/>
<text text-anchor="middle" x="1454.12" y="-1097.72" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_slot_bad -->
<g id="node66" class="node">
<title>e_slot_bad</title>
<polygon fill="none" stroke="black" points="1453,-971.77 1323,-971.77 1323,-935.77 1453,-935.77 1453,-971.77"/>
<text text-anchor="middle" x="1388" y="-949.89" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = slot_unsatisfied</text>
</g>
<!-- e_slot_any&#45;&gt;e_slot_bad -->
<g id="edge73" class="edge">
<title>e_slot_any&#45;&gt;e_slot_bad</title>
<path fill="none" stroke="black" d="M1430.88,-1021.81C1422.36,-1008.49 1411.95,-992.21 1403.52,-979.03"/>
<polygon fill="black" stroke="black" points="1405.71,-977.92 1399.88,-973.34 1401.59,-980.56 1405.71,-977.92"/>
<text text-anchor="middle" x="1420.98" y="-990.97" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_unmasked2 -->
<g id="node67" class="node">
<title>e_unmasked2</title>
<polygon fill="none" stroke="black" points="1601,-971.77 1470.88,-953.77 1601,-935.77 1731.12,-953.77 1601,-971.77"/>
<text text-anchor="middle" x="1601" y="-949.89" font-family="Helvetica,sans-Serif" font-size="10.00">Any unmasked slot candidates?</text>
</g>
<!-- e_slot_any&#45;&gt;e_unmasked2 -->
<g id="edge74" class="edge">
<title>e_slot_any&#45;&gt;e_unmasked2</title>
<path fill="none" stroke="black" d="M1480.8,-1026.77C1507.5,-1010.78 1544.46,-988.64 1570.33,-973.14"/>
<polygon fill="black" stroke="black" points="1571.26,-975.44 1576.01,-969.74 1568.75,-971.23 1571.26,-975.44"/>
<text text-anchor="middle" x="1549.45" y="-990.97" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_unmasked2&#45;&gt;e_masked -->
<g id="edge75" class="edge">
<title>e_unmasked2&#45;&gt;e_masked</title>
<path fill="none" stroke="black" d="M1540.3,-943.72C1496.19,-935.77 1435.76,-921.97 1386,-900.02 1369.51,-892.75 1352.71,-881.87 1339.2,-872.09"/>
<polygon fill="black" stroke="black" points="1340.75,-870.2 1333.67,-868.01 1337.84,-874.14 1340.75,-870.2"/>
<text text-anchor="middle" x="1436.49" y="-909.22" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_versions -->
<g id="node68" class="node">
<title>e_versions</title>
<polygon fill="none" stroke="black" points="1580,-879.26 1394.5,-848.76 1580,-818.26 1765.5,-848.76 1580,-879.26"/>
<text text-anchor="middle" x="1580" y="-850.51" font-family="Helvetica,sans-Serif" font-size="10.00">version_constraint_analysis:</text>
<text text-anchor="middle" x="1580" y="-839.26" font-family="Helvetica,sans-Serif" font-size="10.00">any candidate satisfies all constraints?</text>
</g>
<!-- e_unmasked2&#45;&gt;e_versions -->
<g id="edge76" class="edge">
<title>e_unmasked2&#45;&gt;e_versions</title>
<path fill="none" stroke="black" d="M1597.53,-935.76C1594.81,-922.4 1590.92,-903.32 1587.49,-886.52"/>
<polygon fill="black" stroke="black" points="1589.96,-886.34 1586.16,-879.97 1585.16,-887.32 1589.96,-886.34"/>
<text text-anchor="middle" x="1600.73" y="-909.22" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_ver_nocand -->
<g id="node69" class="node">
<title>e_ver_nocand</title>
<polygon fill="none" stroke="black" points="1355.5,-728.26 1162.5,-728.26 1162.5,-692.26 1355.5,-692.26 1355.5,-728.26"/>
<text text-anchor="middle" x="1259" y="-706.39" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = version_no_candidate(Op,Ver)</text>
</g>
<!-- e_versions&#45;&gt;e_ver_nocand -->
<g id="edge77" class="edge">
<title>e_versions&#45;&gt;e_ver_nocand</title>
<path fill="none" stroke="black" d="M1515.09,-828.43C1471.68,-814.57 1413.8,-794.27 1365,-770.89 1341.09,-759.43 1315.13,-744.87 1294.88,-733"/>
<polygon fill="black" stroke="black" points="1296.28,-730.98 1289,-729.53 1293.79,-735.2 1296.28,-730.98"/>
<text text-anchor="middle" x="1467.76" y="-790.09" font-family="Helvetica,sans-Serif" font-size="9.00">none per constraint</text>
</g>
<!-- e_ver_conflict -->
<g id="node70" class="node">
<title>e_ver_conflict</title>
<polygon fill="none" stroke="black" points="1504,-728.26 1374,-728.26 1374,-692.26 1504,-692.26 1504,-728.26"/>
<text text-anchor="middle" x="1439" y="-706.39" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = version_conflict</text>
</g>
<!-- e_versions&#45;&gt;e_ver_conflict -->
<g id="edge78" class="edge">
<title>e_versions&#45;&gt;e_ver_conflict</title>
<path fill="none" stroke="black" d="M1552.32,-822.44C1544.12,-814.85 1535.15,-806.46 1527,-798.64 1504.53,-777.08 1479.36,-751.99 1461.71,-734.24"/>
<polygon fill="black" stroke="black" points="1463.76,-732.83 1457.09,-729.59 1460.29,-736.28 1463.76,-732.83"/>
<text text-anchor="middle" x="1564.5" y="-790.09" font-family="Helvetica,sans-Serif" font-size="9.00">constraints conflict</text>
</g>
<!-- e_keywords -->
<g id="node71" class="node">
<title>e_keywords</title>
<polygon fill="none" stroke="black" points="1649,-740.76 1522,-710.26 1649,-679.76 1776,-710.26 1649,-740.76"/>
<text text-anchor="middle" x="1649" y="-712.01" font-family="Helvetica,sans-Serif" font-size="10.00">any candidate matches</text>
<text text-anchor="middle" x="1649" y="-700.76" font-family="Helvetica,sans-Serif" font-size="10.00">ACCEPT_KEYWORDS?</text>
</g>
<!-- e_versions&#45;&gt;e_keywords -->
<g id="edge79" class="edge">
<title>e_versions&#45;&gt;e_keywords</title>
<path fill="none" stroke="black" d="M1593.96,-820.14C1604.86,-798.58 1620.05,-768.53 1631.72,-745.45"/>
<polygon fill="black" stroke="black" points="1633.87,-746.62 1634.84,-739.27 1629.5,-744.41 1633.87,-746.62"/>
<text text-anchor="middle" x="1661.94" y="-790.09" font-family="Helvetica,sans-Serif" font-size="9.00">has version&#45;ok candidates</text>
</g>
<!-- e_kw -->
<g id="node72" class="node">
<title>e_kw</title>
<polygon fill="none" stroke="black" points="1583.5,-591.39 1450.5,-591.39 1450.5,-555.39 1583.5,-555.39 1583.5,-591.39"/>
<text text-anchor="middle" x="1517" y="-569.51" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = keyword_filtered</text>
</g>
<!-- e_keywords&#45;&gt;e_kw -->
<g id="edge80" class="edge">
<title>e_keywords&#45;&gt;e_kw</title>
<path fill="none" stroke="black" d="M1625.4,-685.15C1601.2,-660.42 1563.81,-622.22 1539.88,-597.76"/>
<polygon fill="black" stroke="black" points="1541.8,-596.23 1535.16,-592.94 1538.3,-599.66 1541.8,-596.23"/>
<text text-anchor="middle" x="1576.43" y="-623.09" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_other -->
<g id="node73" class="node">
<title>e_other</title>
<polygon fill="none" stroke="black" points="1764.12,-591.39 1601.88,-591.39 1601.88,-555.39 1764.12,-555.39 1764.12,-591.39"/>
<text text-anchor="middle" x="1683" y="-569.51" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = unsatisfied_constraints</text>
</g>
<!-- e_keywords&#45;&gt;e_other -->
<g id="edge81" class="edge">
<title>e_keywords&#45;&gt;e_other</title>
<path fill="none" stroke="black" d="M1656.13,-680.99C1662.2,-656.91 1670.84,-622.64 1676.67,-599.51"/>
<polygon fill="black" stroke="black" points="1678.97,-600.39 1678.31,-593 1674.22,-599.19 1678.97,-600.39"/>
<text text-anchor="middle" x="1700.42" y="-623.09" font-family="Helvetica,sans-Serif" font-size="9.00">yes (still failed)</text>
</g>
<!-- u_has_replaces -->
<g id="node75" class="node">
<title>u_has_replaces</title>
<polygon fill="none" stroke="black" points="2082,-728.26 1971.34,-710.26 2082,-692.26 2192.66,-710.26 2082,-728.26"/>
<text text-anchor="middle" x="2082" y="-706.39" font-family="Helvetica,sans-Serif" font-size="10.00">Context has replaces(...) ?</text>
</g>
<!-- u_start&#45;&gt;u_has_replaces -->
<g id="edge82" class="edge">
<title>u_start&#45;&gt;u_has_replaces</title>
<path fill="none" stroke="black" d="M2250.26,-835.41C2217.94,-811.56 2146.74,-759.03 2108.13,-730.54"/>
<polygon fill="black" stroke="black" points="2109.62,-728.6 2102.53,-726.41 2106.71,-732.54 2109.62,-728.6"/>
</g>
<!-- u_txn -->
<g id="node76" class="node">
<title>u_txn</title>
<polygon fill="none" stroke="black" points="2034.25,-321.14 1881.75,-321.14 1881.75,-285.14 2034.25,-285.14 2034.25,-321.14"/>
<text text-anchor="middle" x="1958" y="-299.26" font-family="Helvetica,sans-Serif" font-size="10.00">rules:update_txn_conditions(...)</text>
</g>
<!-- u_has_replaces&#45;&gt;u_txn -->
<g id="edge83" class="edge">
<title>u_has_replaces&#45;&gt;u_txn</title>
<path fill="none" stroke="black" d="M2049.16,-697.11C2008.87,-680.9 1940.37,-648.9 1895,-603.89 1856.17,-565.36 1854.86,-547.6 1833.75,-497.14 1813.18,-447.97 1783.19,-424.86 1811,-379.39 1826.86,-353.45 1854.8,-336.09 1882.09,-324.65"/>
<polygon fill="black" stroke="black" points="1882.77,-327.02 1888.36,-322.14 1880.95,-322.47 1882.77,-327.02"/>
<text text-anchor="middle" x="1840.88" y="-475.46" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_installed_target -->
<g id="node77" class="node">
<title>u_installed_target</title>
<polygon fill="none" stroke="black" points="2082,-603.89 1904,-573.39 2082,-542.89 2260,-573.39 2082,-603.89"/>
<text text-anchor="middle" x="2082" y="-575.14" font-family="Helvetica,sans-Serif" font-size="10.00">target is installed and newer</text>
<text text-anchor="middle" x="2082" y="-563.89" font-family="Helvetica,sans-Serif" font-size="10.00">acceptable same&#45;slot version exists?</text>
</g>
<!-- u_has_replaces&#45;&gt;u_installed_target -->
<g id="edge84" class="edge">
<title>u_has_replaces&#45;&gt;u_installed_target</title>
<path fill="none" stroke="black" d="M2082,-691.91C2082,-671.94 2082,-638.56 2082,-612.46"/>
<polygon fill="black" stroke="black" points="2084.45,-612.79 2082,-605.79 2079.55,-612.79 2084.45,-612.79"/>
<text text-anchor="middle" x="2087.25" y="-623.09" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- u_txn_detail -->
<g id="node83" class="node">
<title>u_txn_detail</title>
<polygon fill="none" stroke="black" points="2073.25,-226.89 1842.75,-226.89 1842.75,-173.89 2073.25,-173.89 2073.25,-226.89"/>
<text text-anchor="middle" x="1958" y="-213.39" font-family="Helvetica,sans-Serif" font-size="10.00">update_txn_conditions does:</text>
<text text-anchor="middle" x="1958" y="-202.14" font-family="Helvetica,sans-Serif" font-size="10.00">required_use model + grouped install deps</text>
<text text-anchor="middle" x="1958" y="-190.89" font-family="Helvetica,sans-Serif" font-size="10.00">+ optional deep_update_goals</text>
<text text-anchor="middle" x="1958" y="-179.64" font-family="Helvetica,sans-Serif" font-size="10.00">+ use/slot constraints (+ download when needed)</text>
</g>
<!-- u_txn&#45;&gt;u_txn_detail -->
<g id="edge91" class="edge">
<title>u_txn&#45;&gt;u_txn_detail</title>
<path fill="none" stroke="black" d="M1958,-285.05C1958,-271.57 1958,-252.33 1958,-235.7"/>
<polygon fill="black" stroke="black" points="1960.45,-235.8 1958,-228.8 1955.55,-235.8 1960.45,-235.8"/>
</g>
<!-- u_delegate_latest -->
<g id="node78" class="node">
<title>u_delegate_latest</title>
<polygon fill="none" stroke="black" points="2064.62,-497.14 1857.38,-497.14 1857.38,-461.14 2064.62,-461.14 2064.62,-497.14"/>
<text text-anchor="middle" x="1961" y="-475.26" font-family="Helvetica,sans-Serif" font-size="10.00">delegate to Latest:update?{replaces(Target)}</text>
</g>
<!-- u_installed_target&#45;&gt;u_delegate_latest -->
<g id="edge85" class="edge">
<title>u_installed_target&#45;&gt;u_delegate_latest</title>
<path fill="none" stroke="black" d="M2049.89,-547.91C2031.31,-533.74 2008.11,-516.05 1990.07,-502.3"/>
<polygon fill="black" stroke="black" points="1991.93,-500.64 1984.88,-498.34 1988.96,-504.53 1991.93,-500.64"/>
<text text-anchor="middle" x="2025" y="-516.34" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_target_not_installed -->
<g id="node79" class="node">
<title>u_target_not_installed</title>
<polygon fill="none" stroke="black" points="2168,-497.14 2083.07,-479.14 2168,-461.14 2252.93,-479.14 2168,-497.14"/>
<text text-anchor="middle" x="2168" y="-475.26" font-family="Helvetica,sans-Serif" font-size="10.00">target not installed?</text>
</g>
<!-- u_installed_target&#45;&gt;u_target_not_installed -->
<g id="edge86" class="edge">
<title>u_installed_target&#45;&gt;u_target_not_installed</title>
<path fill="none" stroke="black" d="M2105.96,-546.69C2119.58,-532.08 2136.39,-514.05 2149.08,-500.44"/>
<polygon fill="black" stroke="black" points="2150.58,-502.42 2153.56,-495.63 2146.99,-499.08 2150.58,-502.42"/>
<text text-anchor="middle" x="2140.48" y="-516.34" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- u_same_slot_old -->
<g id="node80" class="node">
<title>u_same_slot_old</title>
<polygon fill="none" stroke="black" points="2175,-415.39 2022.29,-397.39 2175,-379.39 2327.71,-397.39 2175,-415.39"/>
<text text-anchor="middle" x="2175" y="-393.51" font-family="Helvetica,sans-Serif" font-size="10.00">same&#45;slot installed old version exists?</text>
</g>
<!-- u_target_not_installed&#45;&gt;u_same_slot_old -->
<g id="edge87" class="edge">
<title>u_target_not_installed&#45;&gt;u_same_slot_old</title>
<path fill="none" stroke="black" d="M2169.48,-461.23C2170.43,-450.41 2171.68,-436.17 2172.75,-423.99"/>
<polygon fill="black" stroke="black" points="2175.19,-424.25 2173.36,-417.06 2170.31,-423.82 2175.19,-424.25"/>
<text text-anchor="middle" x="2179.04" y="-434.59" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_noop -->
<g id="node82" class="node">
<title>u_noop</title>
<polygon fill="none" stroke="black" points="2004.38,-415.39 1819.62,-415.39 1819.62,-379.39 2004.38,-379.39 2004.38,-415.39"/>
<text text-anchor="middle" x="1912" y="-393.51" font-family="Helvetica,sans-Serif" font-size="10.00">installed and no acceptable newer &#45;&gt; []</text>
</g>
<!-- u_target_not_installed&#45;&gt;u_noop -->
<g id="edge88" class="edge">
<title>u_target_not_installed&#45;&gt;u_noop</title>
<path fill="none" stroke="black" d="M2134.79,-467.79C2094.73,-455.31 2026.47,-434.05 1976.04,-418.34"/>
<polygon fill="black" stroke="black" points="1976.96,-416.06 1969.55,-416.32 1975.51,-420.74 1976.96,-416.06"/>
<text text-anchor="middle" x="2060.58" y="-434.59" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- u_same_slot_old&#45;&gt;u_txn -->
<g id="edge89" class="edge">
<title>u_same_slot_old&#45;&gt;u_txn</title>
<path fill="none" stroke="black" d="M2142.98,-382.78C2107.1,-367.52 2048.5,-342.61 2006.88,-324.92"/>
<polygon fill="black" stroke="black" points="2007.85,-322.67 2000.45,-322.18 2005.93,-327.18 2007.85,-322.67"/>
<text text-anchor="middle" x="2099.44" y="-352.84" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_fallback_install -->
<g id="node81" class="node">
<title>u_fallback_install</title>
<polygon fill="none" stroke="black" points="2253.5,-321.14 2096.5,-321.14 2096.5,-285.14 2253.5,-285.14 2253.5,-321.14"/>
<text text-anchor="middle" x="2175" y="-299.26" font-family="Helvetica,sans-Serif" font-size="10.00">fallback: Target:install?{Context}</text>
</g>
<!-- u_same_slot_old&#45;&gt;u_fallback_install -->
<g id="edge90" class="edge">
<title>u_same_slot_old&#45;&gt;u_fallback_install</title>
<path fill="none" stroke="black" d="M2175,-379.04C2175,-365.12 2175,-345.39 2175,-329.67"/>
<polygon fill="black" stroke="black" points="2177.45,-329.93 2175,-322.93 2172.55,-329.93 2177.45,-329.93"/>
<text text-anchor="middle" x="2180.25" y="-352.84" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
</g>
</svg>
