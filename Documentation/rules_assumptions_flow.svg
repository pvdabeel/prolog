<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 12.2.1 (20241206.2353)
 -->
<!-- Title: rules_assumptions_bpmn Pages: 1 -->
<svg width="2769pt" height="2326pt"
 viewBox="0.00 0.00 2769.00 2325.98" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2321.98)">
<title>rules_assumptions_bpmn</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2321.98 2765,-2321.98 2765,4 -4,4"/>
<text text-anchor="middle" x="1380.5" y="-2302.58" font-family="Times,serif" font-size="12.00">portage&#45;ng: rules/prover assumption flow (current implementation, BPMN&#45;style)</text>
<g id="clust1" class="cluster">
<title>cluster_test_harness</title>
<polygon fill="none" stroke="#888888" points="8,-1562.76 8,-2287.73 243,-2287.73 243,-1562.76 8,-1562.76"/>
<text text-anchor="middle" x="125.5" y="-2272.33" font-family="Times,serif" font-size="12.00">prover.pl : test_target_success/1 fallback chain</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_blockers_conflicts</title>
<polygon fill="none" stroke="#888888" points="251,-1134.63 251,-1690.24 1146,-1690.24 1146,-1134.63 251,-1134.63"/>
<text text-anchor="middle" x="698.5" y="-1674.84" font-family="Times,serif" font-size="12.00">rules.pl : blocker + conflict assumption controls</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_grouped_dep</title>
<polygon fill="none" stroke="#888888" points="1313,-450 1313,-2287.73 2115,-2287.73 2115,-450 1313,-450"/>
<text text-anchor="middle" x="1714" y="-2272.33" font-family="Times,serif" font-size="12.00">rules.pl : rule(grouped_package_dependency(no,C,N,PackageDeps):Action?{Context}, Conditions)</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_reason</title>
<polygon fill="none" stroke="#888888" points="2123,-458.5 2123,-1428.26 2753,-1428.26 2753,-458.5 2123,-458.5"/>
<text text-anchor="middle" x="2438" y="-1412.86" font-family="Times,serif" font-size="12.00">explanation.pl : assumption_reason_for_grouped_dep/6 (called on grouped fallback)</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_update_txn</title>
<polygon fill="none" stroke="#888888" points="761,-8 761,-638.51 1305,-638.51 1305,-8 761,-8"/>
<text text-anchor="middle" x="1033" y="-623.11" font-family="Times,serif" font-size="12.00">rules.pl : update action path (transactional, same&#45;slot policy)</text>
</g>
<!-- t_start -->
<g id="node1" class="node">
<title>t_start</title>
<ellipse fill="none" stroke="black" cx="125" cy="-2236.48" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="125" y="-2232.6" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- t_strict -->
<g id="node2" class="node">
<title>t_strict</title>
<polygon fill="none" stroke="black" points="198.62,-2178.47 51.38,-2178.47 51.38,-2142.47 198.62,-2142.47 198.62,-2178.47"/>
<text text-anchor="middle" x="125" y="-2162.22" font-family="Helvetica,sans-Serif" font-size="10.00">strict:</text>
<text text-anchor="middle" x="125" y="-2150.97" font-family="Helvetica,sans-Serif" font-size="10.00">printer:prove_plan([Target], ...)</text>
</g>
<!-- t_start&#45;&gt;t_strict -->
<g id="edge1" class="edge">
<title>t_start&#45;&gt;t_strict</title>
<path fill="none" stroke="black" d="M125,-2215.26C125,-2206.57 125,-2196.31 125,-2187.09"/>
<polygon fill="black" stroke="black" points="127.45,-2187.18 125,-2180.18 122.55,-2187.18 127.45,-2187.18"/>
</g>
<!-- t_strict_ok -->
<g id="node3" class="node">
<title>t_strict_ok</title>
<polygon fill="none" stroke="black" points="125,-2096.72 76.47,-2078.72 125,-2060.72 173.53,-2078.72 125,-2096.72"/>
<text text-anchor="middle" x="125" y="-2074.85" font-family="Helvetica,sans-Serif" font-size="10.00">success?</text>
</g>
<!-- t_strict&#45;&gt;t_strict_ok -->
<g id="edge2" class="edge">
<title>t_strict&#45;&gt;t_strict_ok</title>
<path fill="none" stroke="black" d="M125,-2142.17C125,-2131.41 125,-2117.37 125,-2105.33"/>
<polygon fill="black" stroke="black" points="127.45,-2105.51 125,-2098.51 122.55,-2105.51 127.45,-2105.51"/>
</g>
<!-- t_blockers -->
<g id="node4" class="node">
<title>t_blockers</title>
<polygon fill="none" stroke="black" points="216.38,-2014.97 73.62,-2014.97 73.62,-1973.22 216.38,-1973.22 216.38,-2014.97"/>
<text text-anchor="middle" x="145" y="-2001.47" font-family="Helvetica,sans-Serif" font-size="10.00">rules:with_assume_blockers(</text>
<text text-anchor="middle" x="145" y="-1990.22" font-family="Helvetica,sans-Serif" font-size="10.00"> &#160;printer:prove_plan(...)</text>
<text text-anchor="middle" x="145" y="-1978.97" font-family="Helvetica,sans-Serif" font-size="10.00">)</text>
</g>
<!-- t_strict_ok&#45;&gt;t_blockers -->
<g id="edge4" class="edge">
<title>t_strict_ok&#45;&gt;t_blockers</title>
<path fill="none" stroke="black" d="M128.86,-2061.79C131.48,-2050.95 135.03,-2036.29 138.13,-2023.47"/>
<polygon fill="black" stroke="black" points="140.47,-2024.23 139.74,-2016.85 135.71,-2023.08 140.47,-2024.23"/>
<text text-anchor="middle" x="140.85" y="-2034.17" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- t_done -->
<g id="node7" class="node">
<title>t_done</title>
<ellipse fill="none" stroke="black" cx="75" cy="-1629.49" rx="54.73" ry="54.73"/>
<ellipse fill="none" stroke="black" cx="75" cy="-1629.49" rx="58.73" ry="58.73"/>
<text text-anchor="middle" x="75" y="-1625.62" font-family="Helvetica,sans-Serif" font-size="10.00">test target proven</text>
</g>
<!-- t_strict_ok&#45;&gt;t_done -->
<g id="edge3" class="edge">
<title>t_strict_ok&#45;&gt;t_done</title>
<path fill="none" stroke="black" d="M108.84,-2066.41C94.37,-2055.22 74.07,-2036.67 65,-2014.97 20.91,-1909.56 40.23,-1773.28 57.89,-1694.5"/>
<polygon fill="black" stroke="black" points="60.19,-1695.43 59.36,-1688.06 55.41,-1694.34 60.19,-1695.43"/>
<text text-anchor="middle" x="49.27" y="-1870.8" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- t_blockers_ok -->
<g id="node5" class="node">
<title>t_blockers_ok</title>
<polygon fill="none" stroke="black" points="145,-1892.47 96.47,-1874.47 145,-1856.47 193.53,-1874.47 145,-1892.47"/>
<text text-anchor="middle" x="145" y="-1870.6" font-family="Helvetica,sans-Serif" font-size="10.00">success?</text>
</g>
<!-- t_blockers&#45;&gt;t_blockers_ok -->
<g id="edge5" class="edge">
<title>t_blockers&#45;&gt;t_blockers_ok</title>
<path fill="none" stroke="black" d="M145,-1972.88C145,-1953.02 145,-1922.65 145,-1901.11"/>
<polygon fill="black" stroke="black" points="147.45,-1901.27 145,-1894.27 142.55,-1901.27 147.45,-1901.27"/>
</g>
<!-- b_assume_blockers -->
<g id="node12" class="node">
<title>b_assume_blockers</title>
<polygon fill="none" stroke="black" points="867,-1288.26 765.12,-1270.26 867,-1252.26 968.88,-1270.26 867,-1288.26"/>
<text text-anchor="middle" x="867" y="-1266.38" font-family="Helvetica,sans-Serif" font-size="10.00">rules:assume_blockers?</text>
</g>
<!-- t_blockers&#45;&gt;b_assume_blockers -->
<g id="edge83" class="edge">
<title>t_blockers&#45;&gt;b_assume_blockers</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M216.79,-1992.37C449.2,-1989.08 1166,-1971.16 1166,-1875.47 1166,-1875.47 1166,-1875.47 1166,-1376.01 1166,-1326.45 1017.87,-1294.76 930.14,-1280.34"/>
<polygon fill="black" stroke="black" points="930.64,-1277.94 923.34,-1279.24 929.85,-1282.77 930.64,-1277.94"/>
<text text-anchor="middle" x="1234.62" y="-1625.82" font-family="Helvetica,sans-Serif" font-size="9.00">sets rules_assume_blockers=true</text>
</g>
<!-- t_conflicts -->
<g id="node6" class="node">
<title>t_conflicts</title>
<polygon fill="none" stroke="black" points="235.38,-1775.72 92.62,-1775.72 92.62,-1733.97 235.38,-1733.97 235.38,-1775.72"/>
<text text-anchor="middle" x="164" y="-1762.22" font-family="Helvetica,sans-Serif" font-size="10.00">rules:with_assume_conflicts(</text>
<text text-anchor="middle" x="164" y="-1750.97" font-family="Helvetica,sans-Serif" font-size="10.00"> &#160;printer:prove_plan(...)</text>
<text text-anchor="middle" x="164" y="-1739.72" font-family="Helvetica,sans-Serif" font-size="10.00">)</text>
</g>
<!-- t_blockers_ok&#45;&gt;t_conflicts -->
<g id="edge7" class="edge">
<title>t_blockers_ok&#45;&gt;t_conflicts</title>
<path fill="none" stroke="black" d="M147.64,-1857.12C150.68,-1838.31 155.72,-1807.1 159.41,-1784.29"/>
<polygon fill="black" stroke="black" points="161.81,-1784.8 160.5,-1777.5 156.97,-1784.02 161.81,-1784.8"/>
<text text-anchor="middle" x="163.1" y="-1794.92" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- t_blockers_ok&#45;&gt;t_done -->
<g id="edge6" class="edge">
<title>t_blockers_ok&#45;&gt;t_done</title>
<path fill="none" stroke="black" d="M131.1,-1861.26C112.91,-1844.23 81.89,-1811.41 69.75,-1775.72 61.13,-1750.4 60.55,-1721.14 62.83,-1695.55"/>
<polygon fill="black" stroke="black" points="65.24,-1696.1 63.51,-1688.89 60.36,-1695.6 65.24,-1696.1"/>
<text text-anchor="middle" x="76.88" y="-1751.17" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- t_conflicts&#45;&gt;t_done -->
<g id="edge8" class="edge">
<title>t_conflicts&#45;&gt;t_done</title>
<path fill="none" stroke="black" d="M149.3,-1733.48C139.67,-1720.13 126.59,-1702 114.09,-1684.67"/>
<polygon fill="black" stroke="black" points="116.12,-1683.3 110.03,-1679.05 112.14,-1686.16 116.12,-1683.3"/>
</g>
<!-- b_conflict -->
<g id="node15" class="node">
<title>b_conflict</title>
<polygon fill="none" stroke="black" points="642,-1647.49 555.18,-1629.49 642,-1611.49 728.82,-1629.49 642,-1647.49"/>
<text text-anchor="middle" x="642" y="-1625.62" font-family="Helvetica,sans-Serif" font-size="10.00">rule(conflict(A,B),...)</text>
</g>
<!-- t_conflicts&#45;&gt;b_conflict -->
<g id="edge84" class="edge">
<title>t_conflicts&#45;&gt;b_conflict</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M235.79,-1738.46C291.45,-1726.24 370.39,-1708.26 439,-1690.24 495.35,-1675.45 559.78,-1656.06 600.66,-1643.44"/>
<polygon fill="black" stroke="black" points="601.35,-1645.79 607.32,-1641.38 599.9,-1641.11 601.35,-1645.79"/>
<text text-anchor="middle" x="439.3" y="-1707.42" font-family="Helvetica,sans-Serif" font-size="9.00">sets rules_assume_conflicts=true</text>
</g>
<!-- b_anyof_guard -->
<g id="node18" class="node">
<title>b_anyof_guard</title>
<polygon fill="none" stroke="black" points="928,-1659.99 781.5,-1629.49 928,-1598.99 1074.5,-1629.49 928,-1659.99"/>
<text text-anchor="middle" x="928" y="-1631.24" font-family="Helvetica,sans-Serif" font-size="10.00">any_of_config_dep_ok/2</text>
<text text-anchor="middle" x="928" y="-1619.99" font-family="Helvetica,sans-Serif" font-size="10.00">(USE&#45;dep option unsatisfied?)</text>
</g>
<!-- t_conflicts&#45;&gt;b_anyof_guard -->
<g id="edge85" class="edge">
<title>t_conflicts&#45;&gt;b_anyof_guard</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M235.86,-1750.43C345.27,-1744.21 559.73,-1728.01 738,-1690.24 782.53,-1680.81 831.5,-1665.28 868.57,-1652.42"/>
<polygon fill="black" stroke="black" points="869.07,-1654.84 874.87,-1650.21 867.45,-1650.21 869.07,-1654.84"/>
<text text-anchor="middle" x="688.68" y="-1707.42" font-family="Helvetica,sans-Serif" font-size="9.00">affects || model guard</text>
</g>
<!-- b_start -->
<g id="node8" class="node">
<title>b_start</title>
<ellipse fill="none" stroke="black" cx="409" cy="-1629.49" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="409" y="-1625.62" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- b_kind -->
<g id="node9" class="node">
<title>b_kind</title>
<polygon fill="none" stroke="black" points="409,-1525.01 258.75,-1494.51 409,-1464.01 559.25,-1494.51 409,-1525.01"/>
<text text-anchor="middle" x="409" y="-1496.26" font-family="Helvetica,sans-Serif" font-size="10.00">grouped_package_dependency</text>
<text text-anchor="middle" x="409" y="-1485.01" font-family="Helvetica,sans-Serif" font-size="10.00">strength?</text>
</g>
<!-- b_start&#45;&gt;b_kind -->
<g id="edge9" class="edge">
<title>b_start&#45;&gt;b_kind</title>
<path fill="none" stroke="black" d="M409,-1608.01C409,-1588.26 409,-1557.89 409,-1533.68"/>
<polygon fill="black" stroke="black" points="411.45,-1533.92 409,-1526.92 406.55,-1533.92 411.45,-1533.92"/>
</g>
<!-- b_weak -->
<g id="node10" class="node">
<title>b_weak</title>
<polygon fill="none" stroke="black" points="544.88,-1395.01 273.12,-1395.01 273.12,-1359.01 544.88,-1359.01 544.88,-1395.01"/>
<text text-anchor="middle" x="409" y="-1378.76" font-family="Helvetica,sans-Serif" font-size="10.00">weak:</text>
<text text-anchor="middle" x="409" y="-1367.51" font-family="Helvetica,sans-Serif" font-size="10.00">findall(assumed(blocker(...)?{blocker_assumption_ctx}), ...)</text>
</g>
<!-- b_kind&#45;&gt;b_weak -->
<g id="edge10" class="edge">
<title>b_kind&#45;&gt;b_weak</title>
<path fill="none" stroke="black" d="M409,-1463.76C409,-1445.15 409,-1421.42 409,-1403.64"/>
<polygon fill="black" stroke="black" points="411.45,-1403.96 409,-1396.96 406.55,-1403.96 411.45,-1403.96"/>
<text text-anchor="middle" x="419.88" y="-1437.46" font-family="Helvetica,sans-Serif" font-size="9.00">weak</text>
</g>
<!-- b_strong_split -->
<g id="node11" class="node">
<title>b_strong_split</title>
<polygon fill="none" stroke="black" points="919.75,-1397.88 746.25,-1397.88 746.25,-1356.13 919.75,-1356.13 919.75,-1397.88"/>
<text text-anchor="middle" x="833" y="-1384.38" font-family="Helvetica,sans-Serif" font-size="10.00">strong:</text>
<text text-anchor="middle" x="833" y="-1373.13" font-family="Helvetica,sans-Serif" font-size="10.00">grouped_blocker_specs_partition(...,</text>
<text text-anchor="middle" x="833" y="-1361.88" font-family="Helvetica,sans-Serif" font-size="10.00">EnforceSpecs, AssumeSpecs)</text>
</g>
<!-- b_kind&#45;&gt;b_strong_split -->
<g id="edge11" class="edge">
<title>b_kind&#45;&gt;b_strong_split</title>
<path fill="none" stroke="black" d="M472.02,-1476.34C546.1,-1456.16 669.27,-1422.61 750.8,-1400.4"/>
<polygon fill="black" stroke="black" points="750.98,-1402.89 757.09,-1398.68 749.7,-1398.16 750.98,-1402.89"/>
<text text-anchor="middle" x="621.04" y="-1437.46" font-family="Helvetica,sans-Serif" font-size="9.00">strong</text>
</g>
<!-- b_strong_split&#45;&gt;b_assume_blockers -->
<g id="edge12" class="edge">
<title>b_strong_split&#45;&gt;b_assume_blockers</title>
<path fill="none" stroke="black" d="M839.56,-1355.81C845.14,-1338.59 853.19,-1313.79 859.13,-1295.5"/>
<polygon fill="black" stroke="black" points="861.39,-1296.46 861.22,-1289.05 856.73,-1294.95 861.39,-1296.46"/>
</g>
<!-- b_strong_assume_all -->
<g id="node13" class="node">
<title>b_strong_assume_all</title>
<polygon fill="none" stroke="black" points="865.62,-1181.51 664.38,-1181.51 664.38,-1145.51 865.62,-1145.51 865.62,-1181.51"/>
<text text-anchor="middle" x="765" y="-1165.26" font-family="Helvetica,sans-Serif" font-size="10.00">assume all strong blockers:</text>
<text text-anchor="middle" x="765" y="-1154.01" font-family="Helvetica,sans-Serif" font-size="10.00">assumed(blocker(...)) for Enforce+Assume</text>
</g>
<!-- b_assume_blockers&#45;&gt;b_strong_assume_all -->
<g id="edge13" class="edge">
<title>b_assume_blockers&#45;&gt;b_strong_assume_all</title>
<path fill="none" stroke="black" d="M852.82,-1254.69C835.95,-1237.37 807.58,-1208.23 787.66,-1187.78"/>
<polygon fill="black" stroke="black" points="789.47,-1186.12 782.83,-1182.81 785.96,-1189.54 789.47,-1186.12"/>
<text text-anchor="middle" x="826.18" y="-1213.21" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- b_strong_enforce -->
<g id="node14" class="node">
<title>b_strong_enforce</title>
<polygon fill="none" stroke="black" points="1125.88,-1184.38 884.12,-1184.38 884.12,-1142.63 1125.88,-1142.63 1125.88,-1184.38"/>
<text text-anchor="middle" x="1005" y="-1170.88" font-family="Helvetica,sans-Serif" font-size="10.00">strict strong blockers:</text>
<text text-anchor="middle" x="1005" y="-1159.63" font-family="Helvetica,sans-Serif" font-size="10.00">constraint(blocked_cn(C,N):{ordset(EnforceSpecs)})</text>
<text text-anchor="middle" x="1005" y="-1148.38" font-family="Helvetica,sans-Serif" font-size="10.00">+ assumed(blocker(...)) for AssumeSpecs</text>
</g>
<!-- b_assume_blockers&#45;&gt;b_strong_enforce -->
<g id="edge14" class="edge">
<title>b_assume_blockers&#45;&gt;b_strong_enforce</title>
<path fill="none" stroke="black" d="M885.61,-1255.13C907.59,-1238.45 944.55,-1210.39 971.54,-1189.9"/>
<polygon fill="black" stroke="black" points="972.87,-1191.97 976.97,-1185.78 969.91,-1188.06 972.87,-1191.97"/>
<text text-anchor="middle" x="945.39" y="-1213.21" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- b_conflict_assume -->
<g id="node16" class="node">
<title>b_conflict_assume</title>
<polygon fill="none" stroke="black" points="706.25,-1512.51 577.75,-1512.51 577.75,-1476.51 706.25,-1476.51 706.25,-1512.51"/>
<text text-anchor="middle" x="642" y="-1496.26" font-family="Helvetica,sans-Serif" font-size="10.00">rules:assume_conflicts &#45;&gt;</text>
<text text-anchor="middle" x="642" y="-1485.01" font-family="Helvetica,sans-Serif" font-size="10.00">[assumed(conflict(A,B))]</text>
</g>
<!-- b_conflict&#45;&gt;b_conflict_assume -->
<g id="edge15" class="edge">
<title>b_conflict&#45;&gt;b_conflict_assume</title>
<path fill="none" stroke="black" d="M642,-1611.11C642,-1588.21 642,-1547.76 642,-1521.29"/>
<polygon fill="black" stroke="black" points="644.45,-1521.41 642,-1514.41 639.55,-1521.41 644.45,-1521.41"/>
<text text-anchor="middle" x="677.25" y="-1544.21" font-family="Helvetica,sans-Serif" font-size="9.00">assume_conflicts</text>
</g>
<!-- b_conflict_fail -->
<g id="node17" class="node">
<title>b_conflict_fail</title>
<polygon fill="none" stroke="black" points="824,-1512.51 724,-1512.51 724,-1476.51 824,-1476.51 824,-1512.51"/>
<text text-anchor="middle" x="774" y="-1490.64" font-family="Helvetica,sans-Serif" font-size="10.00">strict conflict &#45;&gt; fail</text>
</g>
<!-- b_conflict&#45;&gt;b_conflict_fail -->
<g id="edge16" class="edge">
<title>b_conflict&#45;&gt;b_conflict_fail</title>
<path fill="none" stroke="black" d="M656.38,-1614.01C679.11,-1591.1 723.58,-1546.31 750.85,-1518.83"/>
<polygon fill="black" stroke="black" points="752.47,-1520.68 755.66,-1513.99 748.99,-1517.23 752.47,-1520.68"/>
<text text-anchor="middle" x="733.08" y="-1544.21" font-family="Helvetica,sans-Serif" font-size="9.00">strict</text>
</g>
<!-- b_anyof_assume -->
<g id="node19" class="node">
<title>b_anyof_assume</title>
<polygon fill="none" stroke="black" points="1014,-1512.51 842,-1512.51 842,-1476.51 1014,-1476.51 1014,-1512.51"/>
<text text-anchor="middle" x="928" y="-1496.26" font-family="Helvetica,sans-Serif" font-size="10.00">rules:assume_conflicts &#45;&gt;</text>
<text text-anchor="middle" x="928" y="-1485.01" font-family="Helvetica,sans-Serif" font-size="10.00">allow option (do not fail model build)</text>
</g>
<!-- b_anyof_guard&#45;&gt;b_anyof_assume -->
<g id="edge17" class="edge">
<title>b_anyof_guard&#45;&gt;b_anyof_assume</title>
<path fill="none" stroke="black" d="M928,-1598.65C928,-1575.26 928,-1543.07 928,-1520.9"/>
<polygon fill="black" stroke="black" points="930.45,-1521.16 928,-1514.16 925.55,-1521.16 930.45,-1521.16"/>
<text text-anchor="middle" x="975.25" y="-1544.21" font-family="Helvetica,sans-Serif" font-size="9.00">yes + assume_conflicts</text>
</g>
<!-- b_anyof_fail -->
<g id="node20" class="node">
<title>b_anyof_fail</title>
<polygon fill="none" stroke="black" points="1138,-1512.51 1032,-1512.51 1032,-1476.51 1138,-1476.51 1138,-1512.51"/>
<text text-anchor="middle" x="1085" y="-1490.64" font-family="Helvetica,sans-Serif" font-size="10.00">strict &#45;&gt; reject option</text>
</g>
<!-- b_anyof_guard&#45;&gt;b_anyof_fail -->
<g id="edge18" class="edge">
<title>b_anyof_guard&#45;&gt;b_anyof_fail</title>
<path fill="none" stroke="black" d="M960.46,-1605.27C980.19,-1590.76 1005.61,-1571.37 1027,-1552.76 1039.22,-1542.13 1052.12,-1529.55 1062.64,-1518.9"/>
<polygon fill="black" stroke="black" points="1064.33,-1520.67 1067.47,-1513.96 1060.83,-1517.24 1064.33,-1520.67"/>
<text text-anchor="middle" x="1058.3" y="-1544.21" font-family="Helvetica,sans-Serif" font-size="9.00">yes + strict</text>
</g>
<!-- g_start -->
<g id="node21" class="node">
<title>g_start</title>
<ellipse fill="none" stroke="black" cx="1640" cy="-2236.48" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="1640" y="-2232.6" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- g_split -->
<g id="node22" class="node">
<title>g_split</title>
<polygon fill="none" stroke="black" points="1868,-2178.47 1699.6,-2160.47 1868,-2142.47 2036.4,-2160.47 1868,-2178.47"/>
<text text-anchor="middle" x="1868" y="-2156.6" font-family="Helvetica,sans-Serif" font-size="10.00">should_split_grouped_dep(PackageDeps)?</text>
</g>
<!-- g_start&#45;&gt;g_split -->
<g id="edge19" class="edge">
<title>g_start&#45;&gt;g_split</title>
<path fill="none" stroke="black" d="M1659.83,-2229.04C1695.14,-2217.58 1769.82,-2193.34 1819.46,-2177.23"/>
<polygon fill="black" stroke="black" points="1820.17,-2179.58 1826.07,-2175.08 1818.66,-2174.92 1820.17,-2179.58"/>
</g>
<!-- g_split_emit -->
<g id="node23" class="node">
<title>g_split_emit</title>
<polygon fill="none" stroke="black" points="1997.75,-505.38 1752.25,-505.38 1752.25,-463.62 1997.75,-463.62 1997.75,-505.38"/>
<text text-anchor="middle" x="1875" y="-491.88" font-family="Helvetica,sans-Serif" font-size="10.00">emit one grouped dep per package_dependency/8</text>
<text text-anchor="middle" x="1875" y="-480.62" font-family="Helvetica,sans-Serif" font-size="10.00">(findall + sort)</text>
<text text-anchor="middle" x="1875" y="-469.38" font-family="Helvetica,sans-Serif" font-size="10.00">+ constraint(selected_cn_allow_multislot(C,N):{true})</text>
</g>
<!-- g_split&#45;&gt;g_split_emit -->
<g id="edge20" class="edge">
<title>g_split&#45;&gt;g_split_emit</title>
<path fill="none" stroke="black" d="M1939.41,-2149.61C2009.51,-2137.86 2106,-2115.24 2106,-2079.72 2106,-2079.72 2106,-2079.72 2106,-1546.89 2106,-1400.55 2093,-1364.22 2093,-1217.88 2093,-1217.88 2093,-1217.88 2093,-586.25 2093,-540.14 2052.31,-515.06 2006.09,-501.46"/>
<polygon fill="black" stroke="black" points="2006.87,-499.13 1999.47,-499.61 2005.56,-503.85 2006.87,-499.13"/>
<text text-anchor="middle" x="2101.67" y="-1266.58" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_self_run -->
<g id="node24" class="node">
<title>g_self_run</title>
<polygon fill="none" stroke="black" points="1868,-2096.72 1744.78,-2078.72 1868,-2060.72 1991.22,-2078.72 1868,-2096.72"/>
<text text-anchor="middle" x="1868" y="-2074.85" font-family="Helvetica,sans-Serif" font-size="10.00">Action == run AND self(C,N)?</text>
</g>
<!-- g_split&#45;&gt;g_self_run -->
<g id="edge21" class="edge">
<title>g_split&#45;&gt;g_self_run</title>
<path fill="none" stroke="black" d="M1868,-2142.17C1868,-2131.41 1868,-2117.37 1868,-2105.33"/>
<polygon fill="black" stroke="black" points="1870.45,-2105.51 1868,-2098.51 1865.55,-2105.51 1870.45,-2105.51"/>
<text text-anchor="middle" x="1873.25" y="-2115.92" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ok_self -->
<g id="node25" class="node">
<title>g_ok_self</title>
<polygon fill="none" stroke="black" points="1800.25,-2012.1 1719.75,-2012.1 1719.75,-1976.1 1800.25,-1976.1 1800.25,-2012.1"/>
<text text-anchor="middle" x="1760" y="-1990.22" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_self_run&#45;&gt;g_ok_self -->
<g id="edge22" class="edge">
<title>g_self_run&#45;&gt;g_ok_self</title>
<path fill="none" stroke="black" d="M1848.94,-2063.14C1832.44,-2050.52 1808.3,-2032.05 1789.34,-2017.54"/>
<polygon fill="black" stroke="black" points="1790.86,-2015.62 1783.81,-2013.32 1787.88,-2019.51 1790.86,-2015.62"/>
<text text-anchor="middle" x="1827.59" y="-2034.17" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_emptytree_core -->
<g id="node26" class="node">
<title>g_emptytree_core</title>
<polygon fill="none" stroke="black" points="1948,-2012.1 1817.88,-1994.1 1948,-1976.1 2078.12,-1994.1 1948,-2012.1"/>
<text text-anchor="middle" x="1948" y="-1990.22" font-family="Helvetica,sans-Serif" font-size="10.00">emptytree AND core_pkg(C,N)?</text>
</g>
<!-- g_self_run&#45;&gt;g_emptytree_core -->
<g id="edge23" class="edge">
<title>g_self_run&#45;&gt;g_emptytree_core</title>
<path fill="none" stroke="black" d="M1882.67,-2062.57C1895.22,-2049.61 1913.43,-2030.81 1927.43,-2016.34"/>
<polygon fill="black" stroke="black" points="1928.99,-2018.26 1932.1,-2011.53 1925.47,-2014.85 1928.99,-2018.26"/>
<text text-anchor="middle" x="1915.65" y="-2034.17" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ok_core -->
<g id="node27" class="node">
<title>g_ok_core</title>
<polygon fill="none" stroke="black" points="2038.25,-1892.47 1957.75,-1892.47 1957.75,-1856.47 2038.25,-1856.47 2038.25,-1892.47"/>
<text text-anchor="middle" x="1998" y="-1870.6" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_emptytree_core&#45;&gt;g_ok_core -->
<g id="edge24" class="edge">
<title>g_emptytree_core&#45;&gt;g_ok_core</title>
<path fill="none" stroke="black" d="M1954.95,-1976.74C1963.35,-1956.98 1977.58,-1923.52 1987.36,-1900.5"/>
<polygon fill="black" stroke="black" points="1989.54,-1901.63 1990.03,-1894.23 1985.03,-1899.71 1989.54,-1901.63"/>
<text text-anchor="middle" x="1974.18" y="-1946.67" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_keep_installed -->
<g id="node28" class="node">
<title>g_keep_installed</title>
<polygon fill="none" stroke="black" points="1753,-1927.47 1566.75,-1874.47 1753,-1821.47 1939.25,-1874.47 1753,-1927.47"/>
<text text-anchor="middle" x="1753" y="-1887.47" font-family="Helvetica,sans-Serif" font-size="10.00">keep&#45;installed fast path?</text>
<text text-anchor="middle" x="1753" y="-1876.22" font-family="Helvetica,sans-Serif" font-size="10.00">(!emptytree, !deep, same&#45;slot installed,</text>
<text text-anchor="middle" x="1753" y="-1864.97" font-family="Helvetica,sans-Serif" font-size="10.00">version+slot+build_with_use satisfied,</text>
<text text-anchor="middle" x="1753" y="-1853.72" font-family="Helvetica,sans-Serif" font-size="10.00">and no &#45;&#45;newuse mismatch)</text>
</g>
<!-- g_emptytree_core&#45;&gt;g_keep_installed -->
<g id="edge25" class="edge">
<title>g_emptytree_core&#45;&gt;g_keep_installed</title>
<path fill="none" stroke="black" d="M1924.48,-1978.91C1898.55,-1963.27 1855.7,-1937.42 1819.32,-1915.48"/>
<polygon fill="black" stroke="black" points="1820.69,-1913.44 1813.43,-1911.93 1818.16,-1917.64 1820.69,-1913.44"/>
<text text-anchor="middle" x="1890.18" y="-1946.67" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ok_installed -->
<g id="node29" class="node">
<title>g_ok_installed</title>
<polygon fill="none" stroke="black" points="1720.25,-1772.85 1639.75,-1772.85 1639.75,-1736.85 1720.25,-1736.85 1720.25,-1772.85"/>
<text text-anchor="middle" x="1680" y="-1750.97" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_keep_installed&#45;&gt;g_ok_installed -->
<g id="edge26" class="edge">
<title>g_keep_installed&#45;&gt;g_ok_installed</title>
<path fill="none" stroke="black" d="M1725.4,-1829.01C1715.16,-1812.5 1703.91,-1794.38 1695.18,-1780.31"/>
<polygon fill="black" stroke="black" points="1697.43,-1779.29 1691.66,-1774.63 1693.27,-1781.87 1697.43,-1779.29"/>
<text text-anchor="middle" x="1714.94" y="-1794.92" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_slotreq -->
<g id="node30" class="node">
<title>g_slotreq</title>
<polygon fill="none" stroke="black" points="1912.12,-1772.85 1737.88,-1772.85 1737.88,-1736.85 1912.12,-1736.85 1912.12,-1772.85"/>
<text text-anchor="middle" x="1825" y="-1750.97" font-family="Helvetica,sans-Serif" font-size="10.00">SlotReq = merge_slot_restriction(...)</text>
</g>
<!-- g_keep_installed&#45;&gt;g_slotreq -->
<g id="edge27" class="edge">
<title>g_keep_installed&#45;&gt;g_slotreq</title>
<path fill="none" stroke="black" d="M1780.22,-1829.01C1790.33,-1812.5 1801.41,-1794.38 1810.03,-1780.31"/>
<polygon fill="black" stroke="black" points="1811.93,-1781.89 1813.5,-1774.64 1807.76,-1779.33 1811.93,-1781.89"/>
<text text-anchor="middle" x="1806.96" y="-1794.92" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_select -->
<g id="node31" class="node">
<title>g_select</title>
<polygon fill="none" stroke="black" points="1722.12,-1655.99 1487.88,-1655.99 1487.88,-1602.99 1722.12,-1602.99 1722.12,-1655.99"/>
<text text-anchor="middle" x="1605" y="-1642.49" font-family="Helvetica,sans-Serif" font-size="10.00">candidate selection:</text>
<text text-anchor="middle" x="1605" y="-1631.24" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; explicit slot dep &#45;&gt; accepted_keyword_candidate</text>
<text text-anchor="middle" x="1605" y="-1619.99" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; else selected_cn_candidate if slot&#45;valid</text>
<text text-anchor="middle" x="1605" y="-1608.74" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; else accepted_keyword_candidate</text>
</g>
<!-- g_slotreq&#45;&gt;g_select -->
<g id="edge28" class="edge">
<title>g_slotreq&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M1793.95,-1736.44C1758.79,-1716.72 1700.89,-1684.26 1658.44,-1660.45"/>
<polygon fill="black" stroke="black" points="1659.85,-1658.44 1652.55,-1657.15 1657.46,-1662.72 1659.85,-1658.44"/>
</g>
<!-- g_deep_keep -->
<g id="node44" class="node">
<title>g_deep_keep</title>
<polygon fill="none" stroke="black" points="1908,-1659.99 1740.5,-1629.49 1908,-1598.99 2075.5,-1629.49 1908,-1659.99"/>
<text text-anchor="middle" x="1908" y="-1631.24" font-family="Helvetica,sans-Serif" font-size="10.00">deep fallback keep&#45;installed?</text>
<text text-anchor="middle" x="1908" y="-1619.99" font-family="Helvetica,sans-Serif" font-size="10.00">(installed same&#45;slot satisfies deps)</text>
</g>
<!-- g_slotreq&#45;&gt;g_deep_keep -->
<g id="edge49" class="edge">
<title>g_slotreq&#45;&gt;g_deep_keep</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1836.72,-1736.44C1849.35,-1717.66 1869.77,-1687.31 1885.52,-1663.9"/>
<polygon fill="black" stroke="black" points="1887.53,-1665.31 1889.4,-1658.13 1883.46,-1662.57 1887.53,-1665.31"/>
<text text-anchor="middle" x="1912.12" y="-1707.42" font-family="Helvetica,sans-Serif" font-size="9.00">no viable candidate branch</text>
</g>
<!-- g_self_guard -->
<g id="node32" class="node">
<title>g_self_guard</title>
<polygon fill="none" stroke="black" points="1443,-1512.51 1341.12,-1494.51 1443,-1476.51 1544.88,-1494.51 1443,-1512.51"/>
<text text-anchor="middle" x="1443" y="-1490.64" font-family="Helvetica,sans-Serif" font-size="10.00">candidate == self entry?</text>
</g>
<!-- g_select&#45;&gt;g_self_guard -->
<g id="edge29" class="edge">
<title>g_select&#45;&gt;g_self_guard</title>
<path fill="none" stroke="black" d="M1573.38,-1602.54C1542.18,-1576.93 1495.17,-1538.34 1466.95,-1515.17"/>
<polygon fill="black" stroke="black" points="1468.67,-1513.41 1461.71,-1510.87 1465.56,-1517.2 1468.67,-1513.41"/>
</g>
<!-- g_self_installed -->
<g id="node33" class="node">
<title>g_self_installed</title>
<polygon fill="none" stroke="black" points="1537,-1407.51 1449,-1377.01 1537,-1346.51 1625,-1377.01 1537,-1407.51"/>
<text text-anchor="middle" x="1537" y="-1378.76" font-family="Helvetica,sans-Serif" font-size="10.00">if self candidate:</text>
<text text-anchor="middle" x="1537" y="-1367.51" font-family="Helvetica,sans-Serif" font-size="10.00">installed(true)?</text>
</g>
<!-- g_self_guard&#45;&gt;g_self_installed -->
<g id="edge30" class="edge">
<title>g_self_guard&#45;&gt;g_self_installed</title>
<path fill="none" stroke="black" d="M1455.29,-1478.41C1469.87,-1460.49 1494.53,-1430.19 1512.96,-1407.55"/>
<polygon fill="black" stroke="black" points="1514.74,-1409.24 1517.26,-1402.26 1510.94,-1406.15 1514.74,-1409.24"/>
<text text-anchor="middle" x="1494.31" y="-1437.46" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_version_guard -->
<g id="node34" class="node">
<title>g_version_guard</title>
<polygon fill="none" stroke="black" points="1536,-1288.26 1418.43,-1270.26 1536,-1252.26 1653.57,-1270.26 1536,-1288.26"/>
<text text-anchor="middle" x="1536" y="-1266.38" font-family="Helvetica,sans-Serif" font-size="10.00">all version constraints pass?</text>
</g>
<!-- g_self_guard&#45;&gt;g_version_guard -->
<g id="edge31" class="edge">
<title>g_self_guard&#45;&gt;g_version_guard</title>
<path fill="none" stroke="black" d="M1436.13,-1477.41C1425.2,-1449.15 1407.22,-1389.52 1429.5,-1346.51 1443.65,-1319.18 1472.8,-1299.65 1497.04,-1287.35"/>
<polygon fill="black" stroke="black" points="1497.8,-1289.7 1503.02,-1284.43 1495.65,-1285.3 1497.8,-1289.7"/>
<text text-anchor="middle" x="1434.75" y="-1373.33" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_self_installed&#45;&gt;g_select -->
<g id="edge33" class="edge">
<title>g_self_installed&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M1544.39,-1405.24C1556.9,-1451.31 1582.19,-1544.48 1595.82,-1594.66"/>
<polygon fill="black" stroke="black" points="1593.38,-1595.06 1597.58,-1601.17 1598.11,-1593.77 1593.38,-1595.06"/>
<text text-anchor="middle" x="1598.77" y="-1490.84" font-family="Helvetica,sans-Serif" font-size="9.00">no: try next</text>
</g>
<!-- g_self_installed&#45;&gt;g_version_guard -->
<g id="edge32" class="edge">
<title>g_self_installed&#45;&gt;g_version_guard</title>
<path fill="none" stroke="black" d="M1536.72,-1346.27C1536.57,-1330.7 1536.39,-1311.82 1536.24,-1296.89"/>
<polygon fill="black" stroke="black" points="1538.7,-1297.11 1536.18,-1290.13 1533.8,-1297.16 1538.7,-1297.11"/>
<text text-anchor="middle" x="1543.65" y="-1319.96" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_version_guard&#45;&gt;g_select -->
<g id="edge35" class="edge">
<title>g_version_guard&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M1564.71,-1284.19C1588.16,-1296.49 1619.68,-1317.45 1634,-1346.51 1655.13,-1389.37 1627.51,-1529.47 1612.95,-1594.61"/>
<polygon fill="black" stroke="black" points="1610.64,-1593.7 1611.49,-1601.07 1615.42,-1594.78 1610.64,-1593.7"/>
<text text-anchor="middle" x="1661.64" y="-1437.46" font-family="Helvetica,sans-Serif" font-size="9.00">no: try next</text>
</g>
<!-- g_pdepend -->
<g id="node35" class="node">
<title>g_pdepend</title>
<polygon fill="none" stroke="black" points="1535,-1181.51 1395.47,-1163.51 1535,-1145.51 1674.53,-1163.51 1535,-1181.51"/>
<text text-anchor="middle" x="1535" y="-1159.63" font-family="Helvetica,sans-Serif" font-size="10.00">PDEPEND edge in grouped deps?</text>
</g>
<!-- g_version_guard&#45;&gt;g_pdepend -->
<g id="edge34" class="edge">
<title>g_version_guard&#45;&gt;g_pdepend</title>
<path fill="none" stroke="black" d="M1535.83,-1251.96C1535.67,-1235.13 1535.43,-1209.35 1535.24,-1190.14"/>
<polygon fill="black" stroke="black" points="1537.7,-1190.32 1535.18,-1183.34 1532.8,-1190.36 1537.7,-1190.32"/>
<text text-anchor="middle" x="1542.65" y="-1213.21" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_ctx_drop -->
<g id="node36" class="node">
<title>g_ctx_drop</title>
<polygon fill="none" stroke="black" points="1675,-1087.26 1455,-1087.26 1455,-1051.26 1675,-1051.26 1675,-1087.26"/>
<text text-anchor="middle" x="1565" y="-1071.01" font-family="Helvetica,sans-Serif" font-size="10.00">drop parent build_with_use/assumption_reason</text>
<text text-anchor="middle" x="1565" y="-1059.76" font-family="Helvetica,sans-Serif" font-size="10.00">for this dep edge</text>
</g>
<!-- g_pdepend&#45;&gt;g_ctx_drop -->
<g id="edge36" class="edge">
<title>g_pdepend&#45;&gt;g_ctx_drop</title>
<path fill="none" stroke="black" d="M1540.36,-1146.01C1544.93,-1131.98 1551.56,-1111.6 1556.79,-1095.51"/>
<polygon fill="black" stroke="black" points="1559.07,-1096.4 1558.91,-1088.98 1554.41,-1094.88 1559.07,-1096.4"/>
<text text-anchor="middle" x="1560.69" y="-1106.46" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_use_guard -->
<g id="node37" class="node">
<title>g_use_guard</title>
<polygon fill="none" stroke="black" points="1565,-1005.51 1437.39,-987.51 1565,-969.51 1692.61,-987.51 1565,-1005.51"/>
<text text-anchor="middle" x="1565" y="-983.63" font-family="Helvetica,sans-Serif" font-size="10.00">candidate_satisfies_use_deps?</text>
</g>
<!-- g_pdepend&#45;&gt;g_use_guard -->
<g id="edge37" class="edge">
<title>g_pdepend&#45;&gt;g_use_guard</title>
<path fill="none" stroke="black" d="M1506.41,-1148.87C1469,-1129.07 1410.94,-1090.45 1435.5,-1051.26 1451.32,-1026.01 1480.49,-1010.67 1507.15,-1001.49"/>
<polygon fill="black" stroke="black" points="1507.62,-1003.91 1513.52,-999.41 1506.1,-999.25 1507.62,-1003.91"/>
<text text-anchor="middle" x="1440.75" y="-1065.58" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ctx_drop&#45;&gt;g_use_guard -->
<g id="edge38" class="edge">
<title>g_ctx_drop&#45;&gt;g_use_guard</title>
<path fill="none" stroke="black" d="M1565,-1050.95C1565,-1040.19 1565,-1026.15 1565,-1014.11"/>
<polygon fill="black" stroke="black" points="1567.45,-1014.29 1565,-1007.29 1562.55,-1014.29 1567.45,-1014.29"/>
</g>
<!-- g_use_guard&#45;&gt;g_select -->
<g id="edge40" class="edge">
<title>g_use_guard&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M1615.98,-998.73C1652.04,-1009.28 1694,-1029.81 1694,-1068.26 1694,-1378.01 1694,-1378.01 1694,-1378.01 1694,-1408.35 1699.1,-1417.77 1688,-1446.01 1684.29,-1455.44 1679.12,-1455.26 1674,-1464.01 1648.89,-1506.95 1628.13,-1560.76 1616.14,-1594.89"/>
<polygon fill="black" stroke="black" points="1613.91,-1593.86 1613.93,-1601.28 1618.54,-1595.47 1613.91,-1593.86"/>
<text text-anchor="middle" x="1716.12" y="-1266.58" font-family="Helvetica,sans-Serif" font-size="9.00">no: try next</text>
</g>
<!-- g_use_slot -->
<g id="node38" class="node">
<title>g_use_slot</title>
<polygon fill="none" stroke="black" points="1658.88,-911.26 1471.12,-911.26 1471.12,-875.26 1658.88,-875.26 1658.88,-911.26"/>
<text text-anchor="middle" x="1565" y="-889.38" font-family="Helvetica,sans-Serif" font-size="10.00">process_build_with_use + process_slot</text>
</g>
<!-- g_use_guard&#45;&gt;g_use_slot -->
<g id="edge39" class="edge">
<title>g_use_guard&#45;&gt;g_use_slot</title>
<path fill="none" stroke="black" d="M1565,-969.15C1565,-955.24 1565,-935.5 1565,-919.79"/>
<polygon fill="black" stroke="black" points="1567.45,-920.04 1565,-913.04 1562.55,-920.04 1567.45,-920.04"/>
<text text-anchor="middle" x="1572.12" y="-942.96" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_action_path -->
<g id="node39" class="node">
<title>g_action_path</title>
<polygon fill="none" stroke="black" points="1565,-817.01 1388.44,-799.01 1565,-781.01 1741.56,-799.01 1565,-817.01"/>
<text text-anchor="middle" x="1565" y="-795.13" font-family="Helvetica,sans-Serif" font-size="10.00">same&#45;slot installed instance for update path?</text>
</g>
<!-- g_use_slot&#45;&gt;g_action_path -->
<g id="edge41" class="edge">
<title>g_use_slot&#45;&gt;g_action_path</title>
<path fill="none" stroke="black" d="M1565,-874.9C1565,-860.99 1565,-841.25 1565,-825.54"/>
<polygon fill="black" stroke="black" points="1567.45,-825.79 1565,-818.79 1562.55,-825.79 1567.45,-825.79"/>
</g>
<!-- g_action_update -->
<g id="node40" class="node">
<title>g_action_update</title>
<polygon fill="none" stroke="black" points="1556.75,-722.76 1341.25,-722.76 1341.25,-686.76 1556.75,-686.76 1556.75,-722.76"/>
<text text-anchor="middle" x="1449" y="-706.51" font-family="Helvetica,sans-Serif" font-size="10.00">ActionGoal = Candidate:update?{replaces(...)}</text>
<text text-anchor="middle" x="1449" y="-695.26" font-family="Helvetica,sans-Serif" font-size="10.00">(or rebuild_reason(build_with_use/newuse))</text>
</g>
<!-- g_action_path&#45;&gt;g_action_update -->
<g id="edge42" class="edge">
<title>g_action_path&#45;&gt;g_action_update</title>
<path fill="none" stroke="black" d="M1545.58,-782.56C1526.96,-767.75 1498.62,-745.22 1477.45,-728.38"/>
<polygon fill="black" stroke="black" points="1479.04,-726.52 1472.04,-724.08 1475.99,-730.35 1479.04,-726.52"/>
<text text-anchor="middle" x="1527.93" y="-754.46" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_action_install -->
<g id="node41" class="node">
<title>g_action_install</title>
<polygon fill="none" stroke="black" points="1762.88,-722.76 1575.12,-722.76 1575.12,-686.76 1762.88,-686.76 1762.88,-722.76"/>
<text text-anchor="middle" x="1669" y="-706.51" font-family="Helvetica,sans-Serif" font-size="10.00">DepAction = (run &#45;&gt; install; else Action)</text>
<text text-anchor="middle" x="1669" y="-695.26" font-family="Helvetica,sans-Serif" font-size="10.00">ActionGoal = Candidate:DepAction</text>
</g>
<!-- g_action_path&#45;&gt;g_action_install -->
<g id="edge43" class="edge">
<title>g_action_path&#45;&gt;g_action_install</title>
<path fill="none" stroke="black" d="M1582.64,-782.36C1599.3,-767.58 1624.48,-745.24 1643.36,-728.5"/>
<polygon fill="black" stroke="black" points="1644.76,-730.53 1648.37,-724.06 1641.5,-726.87 1644.76,-730.53"/>
<text text-anchor="middle" x="1619.13" y="-754.46" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_emit -->
<g id="node42" class="node">
<title>g_emit</title>
<polygon fill="none" stroke="black" points="1651.88,-613.75 1374.12,-613.75 1374.12,-560.75 1651.88,-560.75 1651.88,-613.75"/>
<text text-anchor="middle" x="1513" y="-600.25" font-family="Helvetica,sans-Serif" font-size="10.00">emit constraints + goal:</text>
<text text-anchor="middle" x="1513" y="-589" font-family="Helvetica,sans-Serif" font-size="10.00">cn_domain + cn_domain_reason + selected_cn</text>
<text text-anchor="middle" x="1513" y="-577.75" font-family="Helvetica,sans-Serif" font-size="10.00">+ selected_cn_allow_multislot (when SlotReq is slot/any_* )</text>
<text text-anchor="middle" x="1513" y="-566.5" font-family="Helvetica,sans-Serif" font-size="10.00">+ build/use constraints + ActionGoal</text>
</g>
<!-- g_action_update&#45;&gt;g_emit -->
<g id="edge44" class="edge">
<title>g_action_update&#45;&gt;g_emit</title>
<path fill="none" stroke="black" d="M1458.44,-686.71C1467.96,-669.53 1482.9,-642.58 1494.73,-621.22"/>
<polygon fill="black" stroke="black" points="1496.8,-622.55 1498.05,-615.24 1492.51,-620.18 1496.8,-622.55"/>
</g>
<!-- u_start -->
<g id="node65" class="node">
<title>u_start</title>
<ellipse fill="none" stroke="black" cx="1133" cy="-587.25" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="1133" y="-583.38" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- g_action_update&#45;&gt;u_start -->
<g id="edge81" class="edge">
<title>g_action_update&#45;&gt;u_start</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1401.35,-686.34C1334.27,-661.82 1214.2,-617.93 1160.4,-598.26"/>
<polygon fill="black" stroke="black" points="1161.49,-596.05 1154.07,-595.95 1159.8,-600.66 1161.49,-596.05"/>
<text text-anchor="middle" x="1364.67" y="-647.71" font-family="Helvetica,sans-Serif" font-size="9.00">when ActionGoal is update</text>
</g>
<!-- g_action_install&#45;&gt;g_emit -->
<g id="edge45" class="edge">
<title>g_action_install&#45;&gt;g_emit</title>
<path fill="none" stroke="black" d="M1645.65,-686.46C1621.72,-668.75 1584.02,-640.84 1554.92,-619.29"/>
<polygon fill="black" stroke="black" points="1556.39,-617.33 1549.31,-615.14 1553.48,-621.27 1556.39,-617.33"/>
</g>
<!-- g_emit&#45;&gt;g_start -->
<!-- g_emit&#45;&gt;g_split_emit -->
<g id="edge47" class="edge">
<title>g_emit&#45;&gt;g_split_emit</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1606.22,-560.3C1664.33,-544.13 1738.35,-523.53 1794,-508.04"/>
<polygon fill="black" stroke="black" points="1794.53,-510.44 1800.62,-506.2 1793.22,-505.72 1794.53,-510.44"/>
<text text-anchor="middle" x="1780.17" y="-530.2" font-family="Helvetica,sans-Serif" font-size="9.00">if split parent proving each child</text>
</g>
<!-- g_sel_policy -->
<g id="node43" class="node">
<title>g_sel_policy</title>
<polygon fill="none" stroke="black" points="1618.88,-511 1401.12,-511 1401.12,-458 1624.88,-458 1624.88,-505 1618.88,-511"/>
<polyline fill="none" stroke="black" points="1618.88,-511 1618.88,-505"/>
<polyline fill="none" stroke="black" points="1624.88,-505 1618.88,-505"/>
<text text-anchor="middle" x="1513" y="-497.5" font-family="Helvetica,sans-Serif" font-size="10.00">constraint_guard(selected_cn):</text>
<text text-anchor="middle" x="1513" y="-486.25" font-family="Helvetica,sans-Serif" font-size="10.00">strict single concrete entry per (C,N) by default;</text>
<text text-anchor="middle" x="1513" y="-475" font-family="Helvetica,sans-Serif" font-size="10.00">per&#45;slot multi&#45;selection only when</text>
<text text-anchor="middle" x="1513" y="-463.75" font-family="Helvetica,sans-Serif" font-size="10.00">selected_cn_allow_multislot(C,N) exists</text>
</g>
<!-- g_emit&#45;&gt;g_sel_policy -->
<g id="edge46" class="edge">
<title>g_emit&#45;&gt;g_sel_policy</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1513,-560.3C1513,-547.96 1513,-533.05 1513,-519.79"/>
<polygon fill="black" stroke="black" points="1515.45,-519.87 1513,-512.87 1510.55,-519.87 1515.45,-519.87"/>
<text text-anchor="middle" x="1569.62" y="-530.2" font-family="Helvetica,sans-Serif" font-size="9.00">selection consistency policy</text>
</g>
<!-- g_ok_deep -->
<g id="node45" class="node">
<title>g_ok_deep</title>
<polygon fill="none" stroke="black" points="1763.25,-1512.51 1682.75,-1512.51 1682.75,-1476.51 1763.25,-1476.51 1763.25,-1512.51"/>
<text text-anchor="middle" x="1723" y="-1490.64" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_deep_keep&#45;&gt;g_ok_deep -->
<g id="edge50" class="edge">
<title>g_deep_keep&#45;&gt;g_ok_deep</title>
<path fill="none" stroke="black" d="M1874.93,-1604.72C1840.67,-1580.1 1787.57,-1541.93 1754.08,-1517.85"/>
<polygon fill="black" stroke="black" points="1755.58,-1515.91 1748.47,-1513.82 1752.72,-1519.89 1755.58,-1515.91"/>
<text text-anchor="middle" x="1806.05" y="-1544.21" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_reason_call -->
<g id="node46" class="node">
<title>g_reason_call</title>
<polygon fill="none" stroke="black" points="2086.75,-1512.51 1781.25,-1512.51 1781.25,-1476.51 2086.75,-1476.51 2086.75,-1512.51"/>
<text text-anchor="middle" x="1934" y="-1496.26" font-family="Helvetica,sans-Serif" font-size="10.00">call explanation:assumption_reason_for_grouped_dep(...,_Reason)</text>
<text text-anchor="middle" x="1934" y="-1485.01" font-family="Helvetica,sans-Serif" font-size="10.00">for classification (not injected into context)</text>
</g>
<!-- g_deep_keep&#45;&gt;g_reason_call -->
<g id="edge51" class="edge">
<title>g_deep_keep&#45;&gt;g_reason_call</title>
<path fill="none" stroke="black" d="M1913.64,-1599.64C1918.22,-1576.2 1924.62,-1543.46 1929.02,-1520.99"/>
<polygon fill="black" stroke="black" points="1931.37,-1521.74 1930.31,-1514.4 1926.56,-1520.8 1931.37,-1521.74"/>
<text text-anchor="middle" x="1929.34" y="-1544.21" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_assume -->
<g id="node47" class="node">
<title>g_assume</title>
<polygon fill="none" stroke="black" points="2071,-1397.88 1797,-1397.88 1797,-1356.13 2071,-1356.13 2071,-1397.88"/>
<text text-anchor="middle" x="1934" y="-1384.38" font-family="Helvetica,sans-Serif" font-size="10.00">fallback assumption:</text>
<text text-anchor="middle" x="1934" y="-1373.13" font-family="Helvetica,sans-Serif" font-size="10.00">assumed(grouped_package_dependency(...):Action?{Ctx2})</text>
<text text-anchor="middle" x="1934" y="-1361.88" font-family="Helvetica,sans-Serif" font-size="10.00">Ctx2 augmented with domain_reason(cn_domain(...)) tags</text>
</g>
<!-- g_reason_call&#45;&gt;g_assume -->
<g id="edge52" class="edge">
<title>g_reason_call&#45;&gt;g_assume</title>
<path fill="none" stroke="black" d="M1934,-1476.47C1934,-1458.07 1934,-1428.47 1934,-1406.52"/>
<polygon fill="black" stroke="black" points="1936.45,-1406.75 1934,-1399.75 1931.55,-1406.75 1936.45,-1406.75"/>
</g>
<!-- e_start -->
<g id="node48" class="node">
<title>e_start</title>
<ellipse fill="none" stroke="black" cx="2195" cy="-1377.01" rx="21.01" ry="21.01"/>
<text text-anchor="middle" x="2195" y="-1373.13" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- g_reason_call&#45;&gt;e_start -->
<g id="edge82" class="edge">
<title>g_reason_call&#45;&gt;e_start</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M1995.1,-1476.11C2031.91,-1464.63 2079.21,-1448.06 2119,-1428.26 2137.62,-1419 2157.16,-1405.99 2171.77,-1395.53"/>
<polygon fill="black" stroke="black" points="2173.07,-1397.62 2177.29,-1391.52 2170.19,-1393.65 2173.07,-1397.62"/>
<text text-anchor="middle" x="2136.16" y="-1437.46" font-family="Helvetica,sans-Serif" font-size="9.00">classification path</text>
</g>
<!-- e_any -->
<g id="node49" class="node">
<title>e_any</title>
<polygon fill="none" stroke="black" points="2260,-1300.76 2152.5,-1270.26 2260,-1239.76 2367.5,-1270.26 2260,-1300.76"/>
<text text-anchor="middle" x="2260" y="-1272.01" font-family="Helvetica,sans-Serif" font-size="10.00">Any package exists?</text>
<text text-anchor="middle" x="2260" y="-1260.76" font-family="Helvetica,sans-Serif" font-size="10.00">(category+name)</text>
</g>
<!-- e_start&#45;&gt;e_any -->
<g id="edge53" class="edge">
<title>e_start&#45;&gt;e_any</title>
<path fill="none" stroke="black" d="M2205.73,-1358.71C2215.03,-1343.73 2228.72,-1321.66 2240.02,-1303.45"/>
<polygon fill="black" stroke="black" points="2241.98,-1304.95 2243.59,-1297.71 2237.81,-1302.36 2241.98,-1304.95"/>
</g>
<!-- e_missing -->
<g id="node50" class="node">
<title>e_missing</title>
<polygon fill="none" stroke="black" points="2307.75,-1181.51 2212.25,-1181.51 2212.25,-1145.51 2307.75,-1145.51 2307.75,-1181.51"/>
<text text-anchor="middle" x="2260" y="-1159.63" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = missing</text>
</g>
<!-- e_any&#45;&gt;e_missing -->
<g id="edge54" class="edge">
<title>e_any&#45;&gt;e_missing</title>
<path fill="none" stroke="black" d="M2260,-1239.24C2260,-1223.67 2260,-1204.86 2260,-1190.01"/>
<polygon fill="black" stroke="black" points="2262.45,-1190.29 2260,-1183.29 2257.55,-1190.29 2262.45,-1190.29"/>
<text text-anchor="middle" x="2265.25" y="-1213.21" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_need_inst -->
<g id="node51" class="node">
<title>e_need_inst</title>
<polygon fill="none" stroke="black" points="2440,-1194.01 2336.25,-1163.51 2440,-1133.01 2543.75,-1163.51 2440,-1194.01"/>
<text text-anchor="middle" x="2440" y="-1165.26" font-family="Helvetica,sans-Serif" font-size="10.00">self&#45;hosting requires</text>
<text text-anchor="middle" x="2440" y="-1154.01" font-family="Helvetica,sans-Serif" font-size="10.00">installed&#45;only?</text>
</g>
<!-- e_any&#45;&gt;e_need_inst -->
<g id="edge55" class="edge">
<title>e_any&#45;&gt;e_need_inst</title>
<path fill="none" stroke="black" d="M2294.28,-1249.31C2324.06,-1231.98 2367.25,-1206.84 2398.88,-1188.43"/>
<polygon fill="black" stroke="black" points="2399.72,-1190.78 2404.54,-1185.14 2397.26,-1186.54 2399.72,-1190.78"/>
<text text-anchor="middle" x="2362.52" y="-1213.21" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_inst_empty -->
<g id="node52" class="node">
<title>e_inst_empty</title>
<polygon fill="none" stroke="black" points="2573,-1087.26 2468.61,-1069.26 2573,-1051.26 2677.39,-1069.26 2573,-1087.26"/>
<text text-anchor="middle" x="2573" y="-1065.38" font-family="Helvetica,sans-Serif" font-size="10.00">installed&#45;only set empty?</text>
</g>
<!-- e_need_inst&#45;&gt;e_inst_empty -->
<g id="edge56" class="edge">
<title>e_need_inst&#45;&gt;e_inst_empty</title>
<path fill="none" stroke="black" d="M2470.18,-1141.57C2493,-1125.74 2524.06,-1104.2 2546.05,-1088.95"/>
<polygon fill="black" stroke="black" points="2547.25,-1091.1 2551.6,-1085.1 2544.46,-1087.07 2547.25,-1091.1"/>
<text text-anchor="middle" x="2529.45" y="-1106.46" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_unmasked1 -->
<g id="node54" class="node">
<title>e_unmasked1</title>
<polygon fill="none" stroke="black" points="2458,-1005.51 2343.57,-987.51 2458,-969.51 2572.43,-987.51 2458,-1005.51"/>
<text text-anchor="middle" x="2458" y="-983.63" font-family="Helvetica,sans-Serif" font-size="10.00">Any unmasked candidates?</text>
</g>
<!-- e_need_inst&#45;&gt;e_unmasked1 -->
<g id="edge57" class="edge">
<title>e_need_inst&#45;&gt;e_unmasked1</title>
<path fill="none" stroke="black" d="M2442.11,-1133.19C2443.81,-1110.73 2446.44,-1079 2449.5,-1051.26 2450.86,-1038.89 2452.68,-1025.2 2454.29,-1013.76"/>
<polygon fill="black" stroke="black" points="2456.69,-1014.3 2455.25,-1007.02 2451.84,-1013.6 2456.69,-1014.3"/>
<text text-anchor="middle" x="2454.75" y="-1065.58" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_inst_req -->
<g id="node53" class="node">
<title>e_inst_req</title>
<polygon fill="none" stroke="black" points="2727.75,-1005.51 2590.25,-1005.51 2590.25,-969.51 2727.75,-969.51 2727.75,-1005.51"/>
<text text-anchor="middle" x="2659" y="-983.63" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = installed_required</text>
</g>
<!-- e_inst_empty&#45;&gt;e_inst_req -->
<g id="edge58" class="edge">
<title>e_inst_empty&#45;&gt;e_inst_req</title>
<path fill="none" stroke="black" d="M2588.77,-1053.63C2601.5,-1041.82 2619.64,-1025.01 2634.29,-1011.42"/>
<polygon fill="black" stroke="black" points="2635.76,-1013.4 2639.22,-1006.85 2632.42,-1009.81 2635.76,-1013.4"/>
<text text-anchor="middle" x="2628.27" y="-1024.71" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_inst_empty&#45;&gt;e_unmasked1 -->
<g id="edge59" class="edge">
<title>e_inst_empty&#45;&gt;e_unmasked1</title>
<path fill="none" stroke="black" d="M2552.97,-1054.36C2534.24,-1041.37 2506.11,-1021.87 2485.32,-1007.45"/>
<polygon fill="black" stroke="black" points="2486.97,-1005.61 2479.82,-1003.64 2484.18,-1009.64 2486.97,-1005.61"/>
<text text-anchor="middle" x="2527.64" y="-1024.71" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_masked -->
<g id="node55" class="node">
<title>e_masked</title>
<polygon fill="none" stroke="black" points="2687.12,-722.76 2590.88,-722.76 2590.88,-686.76 2687.12,-686.76 2687.12,-722.76"/>
<text text-anchor="middle" x="2639" y="-700.88" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = masked</text>
</g>
<!-- e_unmasked1&#45;&gt;e_masked -->
<g id="edge60" class="edge">
<title>e_unmasked1&#45;&gt;e_masked</title>
<path fill="none" stroke="black" d="M2493.33,-974.61C2518.5,-964.55 2551.53,-947.88 2573,-923.76 2622.65,-867.95 2634.97,-775.8 2638.01,-731.33"/>
<polygon fill="black" stroke="black" points="2640.44,-731.74 2638.41,-724.61 2635.55,-731.45 2640.44,-731.74"/>
<text text-anchor="middle" x="2624.35" y="-836.21" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_slot_any -->
<g id="node56" class="node">
<title>e_slot_any</title>
<polygon fill="none" stroke="black" points="2458,-923.76 2352,-893.26 2458,-862.76 2564,-893.26 2458,-923.76"/>
<text text-anchor="middle" x="2458" y="-895.01" font-family="Helvetica,sans-Serif" font-size="10.00">slot restriction yields</text>
<text text-anchor="middle" x="2458" y="-883.76" font-family="Helvetica,sans-Serif" font-size="10.00">any candidates?</text>
</g>
<!-- e_unmasked1&#45;&gt;e_slot_any -->
<g id="edge61" class="edge">
<title>e_unmasked1&#45;&gt;e_slot_any</title>
<path fill="none" stroke="black" d="M2458,-969.15C2458,-958.79 2458,-945.21 2458,-932.45"/>
<polygon fill="black" stroke="black" points="2460.45,-932.75 2458,-925.75 2455.55,-932.75 2460.45,-932.75"/>
<text text-anchor="middle" x="2465.12" y="-942.96" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_slot_bad -->
<g id="node57" class="node">
<title>e_slot_bad</title>
<polygon fill="none" stroke="black" points="2329,-817.01 2199,-817.01 2199,-781.01 2329,-781.01 2329,-817.01"/>
<text text-anchor="middle" x="2264" y="-795.13" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = slot_unsatisfied</text>
</g>
<!-- e_slot_any&#45;&gt;e_slot_bad -->
<g id="edge62" class="edge">
<title>e_slot_any&#45;&gt;e_slot_bad</title>
<path fill="none" stroke="black" d="M2418.74,-873.59C2386.63,-858.32 2341.23,-836.73 2307.92,-820.89"/>
<polygon fill="black" stroke="black" points="2309.32,-818.84 2301.94,-818.05 2307.21,-823.27 2309.32,-818.84"/>
<text text-anchor="middle" x="2360.43" y="-836.21" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_unmasked2 -->
<g id="node58" class="node">
<title>e_unmasked2</title>
<polygon fill="none" stroke="black" points="2477,-817.01 2346.88,-799.01 2477,-781.01 2607.12,-799.01 2477,-817.01"/>
<text text-anchor="middle" x="2477" y="-795.13" font-family="Helvetica,sans-Serif" font-size="10.00">Any unmasked slot candidates?</text>
</g>
<!-- e_slot_any&#45;&gt;e_unmasked2 -->
<g id="edge63" class="edge">
<title>e_slot_any&#45;&gt;e_unmasked2</title>
<path fill="none" stroke="black" d="M2463.8,-864.08C2466.37,-851.63 2469.36,-837.11 2471.84,-825.04"/>
<polygon fill="black" stroke="black" points="2474.23,-825.59 2473.24,-818.24 2469.43,-824.6 2474.23,-825.59"/>
<text text-anchor="middle" x="2476.89" y="-836.21" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_unmasked2&#45;&gt;e_masked -->
<g id="edge64" class="edge">
<title>e_unmasked2&#45;&gt;e_masked</title>
<path fill="none" stroke="black" d="M2501.6,-783.99C2528.07,-768.92 2570.49,-744.77 2601.2,-727.28"/>
<polygon fill="black" stroke="black" points="2602.16,-729.55 2607.03,-723.96 2599.73,-725.3 2602.16,-729.55"/>
<text text-anchor="middle" x="2558.39" y="-754.46" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_versions -->
<g id="node59" class="node">
<title>e_versions</title>
<polygon fill="none" stroke="black" points="2387,-735.26 2201.5,-704.76 2387,-674.26 2572.5,-704.76 2387,-735.26"/>
<text text-anchor="middle" x="2387" y="-706.51" font-family="Helvetica,sans-Serif" font-size="10.00">version_constraint_analysis:</text>
<text text-anchor="middle" x="2387" y="-695.26" font-family="Helvetica,sans-Serif" font-size="10.00">any candidate satisfies all constraints?</text>
</g>
<!-- e_unmasked2&#45;&gt;e_versions -->
<g id="edge65" class="edge">
<title>e_unmasked2&#45;&gt;e_versions</title>
<path fill="none" stroke="black" d="M2462.14,-782.77C2450.15,-770.48 2432.88,-752.78 2417.92,-737.45"/>
<polygon fill="black" stroke="black" points="2419.8,-735.87 2413.16,-732.57 2416.29,-739.29 2419.8,-735.87"/>
<text text-anchor="middle" x="2449.83" y="-754.46" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_ver_nocand -->
<g id="node60" class="node">
<title>e_ver_nocand</title>
<polygon fill="none" stroke="black" points="2324.5,-605.25 2131.5,-605.25 2131.5,-569.25 2324.5,-569.25 2324.5,-605.25"/>
<text text-anchor="middle" x="2228" y="-583.38" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = version_no_candidate(Op,Ver)</text>
</g>
<!-- e_versions&#45;&gt;e_ver_nocand -->
<g id="edge66" class="edge">
<title>e_versions&#45;&gt;e_ver_nocand</title>
<path fill="none" stroke="black" d="M2348.61,-680.07C2337.08,-672.68 2324.51,-664.34 2313.25,-656.26 2293.16,-641.83 2271.37,-624.41 2254.85,-610.82"/>
<polygon fill="black" stroke="black" points="2256.69,-609.16 2249.73,-606.59 2253.56,-612.93 2256.69,-609.16"/>
<text text-anchor="middle" x="2352.62" y="-647.71" font-family="Helvetica,sans-Serif" font-size="9.00">none per constraint</text>
</g>
<!-- e_ver_conflict -->
<g id="node61" class="node">
<title>e_ver_conflict</title>
<polygon fill="none" stroke="black" points="2473,-605.25 2343,-605.25 2343,-569.25 2473,-569.25 2473,-605.25"/>
<text text-anchor="middle" x="2408" y="-583.38" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = version_conflict</text>
</g>
<!-- e_versions&#45;&gt;e_ver_conflict -->
<g id="edge67" class="edge">
<title>e_versions&#45;&gt;e_ver_conflict</title>
<path fill="none" stroke="black" d="M2392.25,-674.91C2395.65,-656.19 2400.04,-632.01 2403.33,-613.95"/>
<polygon fill="black" stroke="black" points="2405.73,-614.44 2404.57,-607.11 2400.91,-613.56 2405.73,-614.44"/>
<text text-anchor="middle" x="2434.37" y="-647.71" font-family="Helvetica,sans-Serif" font-size="9.00">constraints conflict</text>
</g>
<!-- e_keywords -->
<g id="node62" class="node">
<title>e_keywords</title>
<polygon fill="none" stroke="black" points="2618,-617.75 2491,-587.25 2618,-556.75 2745,-587.25 2618,-617.75"/>
<text text-anchor="middle" x="2618" y="-589" font-family="Helvetica,sans-Serif" font-size="10.00">any candidate matches</text>
<text text-anchor="middle" x="2618" y="-577.75" font-family="Helvetica,sans-Serif" font-size="10.00">ACCEPT_KEYWORDS?</text>
</g>
<!-- e_versions&#45;&gt;e_keywords -->
<g id="edge68" class="edge">
<title>e_versions&#45;&gt;e_keywords</title>
<path fill="none" stroke="black" d="M2432.09,-681.21C2471.89,-661.31 2529.73,-632.39 2570.3,-612.1"/>
<polygon fill="black" stroke="black" points="2571.14,-614.42 2576.31,-609.1 2568.95,-610.04 2571.14,-614.42"/>
<text text-anchor="middle" x="2549.2" y="-647.71" font-family="Helvetica,sans-Serif" font-size="9.00">has version&#45;ok candidates</text>
</g>
<!-- e_kw -->
<g id="node63" class="node">
<title>e_kw</title>
<polygon fill="none" stroke="black" points="2552.5,-502.5 2419.5,-502.5 2419.5,-466.5 2552.5,-466.5 2552.5,-502.5"/>
<text text-anchor="middle" x="2486" y="-480.62" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = keyword_filtered</text>
</g>
<!-- e_keywords&#45;&gt;e_kw -->
<g id="edge69" class="edge">
<title>e_keywords&#45;&gt;e_kw</title>
<path fill="none" stroke="black" d="M2588.38,-563.64C2566.57,-546.99 2537.05,-524.46 2515.31,-507.87"/>
<polygon fill="black" stroke="black" points="2516.8,-505.93 2509.75,-503.63 2513.83,-509.82 2516.8,-505.93"/>
<text text-anchor="middle" x="2557.25" y="-530.2" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_other -->
<g id="node64" class="node">
<title>e_other</title>
<polygon fill="none" stroke="black" points="2733.12,-502.5 2570.88,-502.5 2570.88,-466.5 2733.12,-466.5 2733.12,-502.5"/>
<text text-anchor="middle" x="2652" y="-480.62" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = unsatisfied_constraints</text>
</g>
<!-- e_keywords&#45;&gt;e_other -->
<g id="edge70" class="edge">
<title>e_keywords&#45;&gt;e_other</title>
<path fill="none" stroke="black" d="M2627.29,-558.72C2632.37,-543.68 2638.61,-525.19 2643.55,-510.55"/>
<polygon fill="black" stroke="black" points="2645.74,-511.71 2645.66,-504.3 2641.1,-510.15 2645.74,-511.71"/>
<text text-anchor="middle" x="2667.41" y="-530.2" font-family="Helvetica,sans-Serif" font-size="9.00">yes (still failed)</text>
</g>
<!-- u_has_replaces -->
<g id="node66" class="node">
<title>u_has_replaces</title>
<polygon fill="none" stroke="black" points="998,-502.5 887.34,-484.5 998,-466.5 1108.66,-484.5 998,-502.5"/>
<text text-anchor="middle" x="998" y="-480.62" font-family="Helvetica,sans-Serif" font-size="10.00">Context has replaces(...) ?</text>
</g>
<!-- u_start&#45;&gt;u_has_replaces -->
<g id="edge71" class="edge">
<title>u_start&#45;&gt;u_has_replaces</title>
<path fill="none" stroke="black" d="M1116.45,-573.9C1093.21,-556.55 1050.71,-524.84 1023.44,-504.49"/>
<polygon fill="black" stroke="black" points="1025.15,-502.7 1018.07,-500.48 1022.22,-506.63 1025.15,-502.7"/>
</g>
<!-- u_txn -->
<g id="node67" class="node">
<title>u_txn</title>
<polygon fill="none" stroke="black" points="936.25,-142 783.75,-142 783.75,-106 936.25,-106 936.25,-142"/>
<text text-anchor="middle" x="860" y="-120.12" font-family="Helvetica,sans-Serif" font-size="10.00">rules:update_txn_conditions(...)</text>
</g>
<!-- u_has_replaces&#45;&gt;u_txn -->
<g id="edge72" class="edge">
<title>u_has_replaces&#45;&gt;u_txn</title>
<path fill="none" stroke="black" d="M936.56,-476.07C894.81,-467.7 841.77,-449.92 811,-412.25 747.28,-334.24 735.93,-278.32 780,-187.75 788.24,-170.82 803.5,-157.1 818.5,-146.86"/>
<polygon fill="black" stroke="black" points="819.55,-149.1 824.08,-143.23 816.88,-145 819.55,-149.1"/>
<text text-anchor="middle" x="762.21" y="-283.82" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_installed_target -->
<g id="node68" class="node">
<title>u_installed_target</title>
<polygon fill="none" stroke="black" points="998,-412.25 820,-381.75 998,-351.25 1176,-381.75 998,-412.25"/>
<text text-anchor="middle" x="998" y="-383.5" font-family="Helvetica,sans-Serif" font-size="10.00">target is installed and newer</text>
<text text-anchor="middle" x="998" y="-372.25" font-family="Helvetica,sans-Serif" font-size="10.00">acceptable same&#45;slot version exists?</text>
</g>
<!-- u_has_replaces&#45;&gt;u_installed_target -->
<g id="edge73" class="edge">
<title>u_has_replaces&#45;&gt;u_installed_target</title>
<path fill="none" stroke="black" d="M998,-466.41C998,-454 998,-436.71 998,-421.07"/>
<polygon fill="black" stroke="black" points="1000.45,-421.1 998,-414.1 995.55,-421.1 1000.45,-421.1"/>
<text text-anchor="middle" x="1003.25" y="-431.45" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- u_txn_detail -->
<g id="node74" class="node">
<title>u_txn_detail</title>
<polygon fill="none" stroke="black" points="999.25,-69 768.75,-69 768.75,-16 999.25,-16 999.25,-69"/>
<text text-anchor="middle" x="884" y="-55.5" font-family="Helvetica,sans-Serif" font-size="10.00">update_txn_conditions does:</text>
<text text-anchor="middle" x="884" y="-44.25" font-family="Helvetica,sans-Serif" font-size="10.00">required_use model + grouped install deps</text>
<text text-anchor="middle" x="884" y="-33" font-family="Helvetica,sans-Serif" font-size="10.00">+ optional deep_update_goals</text>
<text text-anchor="middle" x="884" y="-21.75" font-family="Helvetica,sans-Serif" font-size="10.00">+ use/slot constraints (+ download when needed)</text>
</g>
<!-- u_txn&#45;&gt;u_txn_detail -->
<g id="edge80" class="edge">
<title>u_txn&#45;&gt;u_txn_detail</title>
<path fill="none" stroke="black" d="M865.21,-105.75C867.71,-97.47 870.79,-87.25 873.73,-77.51"/>
<polygon fill="black" stroke="black" points="876.04,-78.34 875.72,-70.93 871.35,-76.93 876.04,-78.34"/>
</g>
<!-- u_delegate_latest -->
<g id="node69" class="node">
<title>u_delegate_latest</title>
<polygon fill="none" stroke="black" points="1274.62,-305.5 1067.38,-305.5 1067.38,-269.5 1274.62,-269.5 1274.62,-305.5"/>
<text text-anchor="middle" x="1171" y="-283.62" font-family="Helvetica,sans-Serif" font-size="10.00">delegate to Latest:update?{replaces(Target)}</text>
</g>
<!-- u_installed_target&#45;&gt;u_delegate_latest -->
<g id="edge74" class="edge">
<title>u_installed_target&#45;&gt;u_delegate_latest</title>
<path fill="none" stroke="black" d="M1040.32,-358.18C1067.93,-343.46 1103.76,-324.36 1130.91,-309.88"/>
<polygon fill="black" stroke="black" points="1131.97,-312.09 1136.99,-306.63 1129.66,-307.77 1131.97,-312.09"/>
<text text-anchor="middle" x="1112.21" y="-324.7" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_target_not_installed -->
<g id="node70" class="node">
<title>u_target_not_installed</title>
<polygon fill="none" stroke="black" points="964,-305.5 879.07,-287.5 964,-269.5 1048.93,-287.5 964,-305.5"/>
<text text-anchor="middle" x="964" y="-283.62" font-family="Helvetica,sans-Serif" font-size="10.00">target not installed?</text>
</g>
<!-- u_installed_target&#45;&gt;u_target_not_installed -->
<g id="edge75" class="edge">
<title>u_installed_target&#45;&gt;u_target_not_installed</title>
<path fill="none" stroke="black" d="M987.61,-352.57C982.92,-339.83 977.42,-324.92 972.92,-312.69"/>
<polygon fill="black" stroke="black" points="975.22,-311.85 970.5,-306.13 970.62,-313.55 975.22,-311.85"/>
<text text-anchor="middle" x="985.23" y="-324.7" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- u_same_slot_old -->
<g id="node71" class="node">
<title>u_same_slot_old</title>
<polygon fill="none" stroke="black" points="942,-223.75 789.29,-205.75 942,-187.75 1094.71,-205.75 942,-223.75"/>
<text text-anchor="middle" x="942" y="-201.88" font-family="Helvetica,sans-Serif" font-size="10.00">same&#45;slot installed old version exists?</text>
</g>
<!-- u_target_not_installed&#45;&gt;u_same_slot_old -->
<g id="edge76" class="edge">
<title>u_target_not_installed&#45;&gt;u_same_slot_old</title>
<path fill="none" stroke="black" d="M955.49,-270.87C952.61,-264.95 949.65,-258.06 947.75,-251.5 945.99,-245.4 944.76,-238.67 943.91,-232.32"/>
<polygon fill="black" stroke="black" points="946.37,-232.19 943.14,-225.5 941.5,-232.74 946.37,-232.19"/>
<text text-anchor="middle" x="954.88" y="-242.95" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_noop -->
<g id="node73" class="node">
<title>u_noop</title>
<polygon fill="none" stroke="black" points="1297.38,-223.75 1112.62,-223.75 1112.62,-187.75 1297.38,-187.75 1297.38,-223.75"/>
<text text-anchor="middle" x="1205" y="-201.88" font-family="Helvetica,sans-Serif" font-size="10.00">installed and no acceptable newer &#45;&gt; []</text>
</g>
<!-- u_target_not_installed&#45;&gt;u_noop -->
<g id="edge77" class="edge">
<title>u_target_not_installed&#45;&gt;u_noop</title>
<path fill="none" stroke="black" d="M996,-275.91C1033.77,-263.41 1097.38,-242.36 1144.52,-226.76"/>
<polygon fill="black" stroke="black" points="1145.22,-229.11 1151.09,-224.59 1143.68,-224.46 1145.22,-229.11"/>
<text text-anchor="middle" x="1104.18" y="-242.95" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- u_same_slot_old&#45;&gt;u_txn -->
<g id="edge78" class="edge">
<title>u_same_slot_old&#45;&gt;u_txn</title>
<path fill="none" stroke="black" d="M926.19,-189.37C914.16,-177.68 897.41,-161.39 883.77,-148.12"/>
<polygon fill="black" stroke="black" points="885.57,-146.45 878.84,-143.32 882.15,-149.96 885.57,-146.45"/>
<text text-anchor="middle" x="913.03" y="-161.2" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_fallback_install -->
<g id="node72" class="node">
<title>u_fallback_install</title>
<polygon fill="none" stroke="black" points="1111.5,-142 954.5,-142 954.5,-106 1111.5,-106 1111.5,-142"/>
<text text-anchor="middle" x="1033" y="-120.12" font-family="Helvetica,sans-Serif" font-size="10.00">fallback: Target:install?{Context}</text>
</g>
<!-- u_same_slot_old&#45;&gt;u_fallback_install -->
<g id="edge79" class="edge">
<title>u_same_slot_old&#45;&gt;u_fallback_install</title>
<path fill="none" stroke="black" d="M959.55,-189.37C973.01,-177.57 991.81,-161.09 1007.02,-147.76"/>
<polygon fill="black" stroke="black" points="1008.51,-149.72 1012.16,-143.27 1005.28,-146.04 1008.51,-149.72"/>
<text text-anchor="middle" x="998.2" y="-161.2" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
</g>
</svg>
