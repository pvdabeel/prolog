<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 9.0.0 (20230911.1827)
 -->
<!-- Title: rules_assumptions_bpmn Pages: 1 -->
<svg width="4106pt" height="2692pt"
 viewBox="0.00 0.00 4106.00 2692.41" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 2688.41)">
<title>rules_assumptions_bpmn</title>
<polygon fill="white" stroke="none" points="-4,4 -4,-2688.41 4102,-2688.41 4102,4 -4,4"/>
<text text-anchor="middle" x="2049" y="-2669.01" font-family="Times,serif" font-size="12.00">portage&#45;ng: rules/prover assumption flow (current implementation, BPMN&#45;style)</text>
<g id="clust1" class="cluster">
<title>cluster_test_harness</title>
<polygon fill="none" stroke="#888888" points="8,-1878.08 8,-2654.16 306,-2654.16 306,-1878.08 8,-1878.08"/>
<text text-anchor="middle" x="157" y="-2638.76" font-family="Times,serif" font-size="12.00">prover.pl : test_target_success/1 fallback chain</text>
</g>
<g id="clust2" class="cluster">
<title>cluster_blockers_conflicts</title>
<polygon fill="none" stroke="#888888" points="314,-1431.09 314,-2017.31 1305,-2017.31 1305,-1431.09 314,-1431.09"/>
<text text-anchor="middle" x="809.5" y="-2001.91" font-family="Times,serif" font-size="12.00">rules.pl : blocker + conflict assumption controls</text>
</g>
<g id="clust3" class="cluster">
<title>cluster_grouped_dep</title>
<polygon fill="none" stroke="#888888" points="3110,-685.04 3110,-2654.16 3934,-2654.16 3934,-685.04 3110,-685.04"/>
<text text-anchor="middle" x="3522" y="-2638.76" font-family="Times,serif" font-size="12.00">rules.pl : rule(grouped_package_dependency(no,C,N,PackageDeps):Action?{Context}, Conditions)</text>
</g>
<g id="clust4" class="cluster">
<title>cluster_cn_reprove</title>
<polygon fill="none" stroke="#888888" points="2612,-8 2612,-788.66 3102,-788.66 3102,-8 2612,-8"/>
<text text-anchor="middle" x="2857" y="-773.26" font-family="Times,serif" font-size="12.00">rules.pl + prover.pl : CN&#45;domain reprove retry loop</text>
</g>
<g id="clust5" class="cluster">
<title>cluster_reason</title>
<polygon fill="none" stroke="#888888" points="1313,-586.29 1313,-1620.33 1980,-1620.33 1980,-586.29 1313,-586.29"/>
<text text-anchor="middle" x="1646.5" y="-1604.93" font-family="Times,serif" font-size="12.00">explanation.pl : assumption_reason_for_grouped_dep/6 (called on grouped fallback)</text>
</g>
<g id="clust6" class="cluster">
<title>cluster_update_txn</title>
<polygon fill="none" stroke="#888888" points="1988,-183.79 1988,-913.22 2604,-913.22 2604,-183.79 1988,-183.79"/>
<text text-anchor="middle" x="2296" y="-897.82" font-family="Times,serif" font-size="12.00">rules.pl : update action path (transactional, same&#45;slot policy)</text>
</g>
<!-- t_start -->
<g id="node1" class="node">
<title>t_start</title>
<ellipse fill="none" stroke="black" cx="157" cy="-2600.35" rx="23.56" ry="23.56"/>
<text text-anchor="middle" x="157" y="-2597.23" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- t_strict -->
<g id="node2" class="node">
<title>t_strict</title>
<polygon fill="none" stroke="black" points="239.62,-2539.79 74.38,-2539.79 74.38,-2503.79 239.62,-2503.79 239.62,-2539.79"/>
<text text-anchor="middle" x="157" y="-2525.04" font-family="Helvetica,sans-Serif" font-size="10.00">strict:</text>
<text text-anchor="middle" x="157" y="-2512.29" font-family="Helvetica,sans-Serif" font-size="10.00">printer:prove_plan([Target], ...)</text>
</g>
<!-- t_start&#45;&gt;t_strict -->
<g id="edge1" class="edge">
<title>t_start&#45;&gt;t_strict</title>
<path fill="none" stroke="black" d="M157,-2576.38C157,-2567.57 157,-2557.46 157,-2548.42"/>
<polygon fill="black" stroke="black" points="159.45,-2548.66 157,-2541.66 154.55,-2548.66 159.45,-2548.66"/>
</g>
<!-- t_strict_ok -->
<g id="node3" class="node">
<title>t_strict_ok</title>
<polygon fill="none" stroke="black" points="157,-2456.54 105.51,-2438.54 157,-2420.54 208.49,-2438.54 157,-2456.54"/>
<text text-anchor="middle" x="157" y="-2435.42" font-family="Helvetica,sans-Serif" font-size="10.00">success?</text>
</g>
<!-- t_strict&#45;&gt;t_strict_ok -->
<g id="edge2" class="edge">
<title>t_strict&#45;&gt;t_strict_ok</title>
<path fill="none" stroke="black" d="M157,-2503.56C157,-2492.44 157,-2477.76 157,-2465.26"/>
<polygon fill="black" stroke="black" points="159.45,-2465.54 157,-2458.54 154.55,-2465.54 159.45,-2465.54"/>
</g>
<!-- t_blockers -->
<g id="node4" class="node">
<title>t_blockers</title>
<polygon fill="none" stroke="black" points="272.5,-2373.29 115.5,-2373.29 115.5,-2327.04 272.5,-2327.04 272.5,-2373.29"/>
<text text-anchor="middle" x="194" y="-2359.79" font-family="Helvetica,sans-Serif" font-size="10.00">rules:with_assume_blockers(</text>
<text text-anchor="middle" x="194" y="-2347.04" font-family="Helvetica,sans-Serif" font-size="10.00"> &#160;printer:prove_plan(...)</text>
<text text-anchor="middle" x="194" y="-2334.29" font-family="Helvetica,sans-Serif" font-size="10.00">)</text>
</g>
<!-- t_strict_ok&#45;&gt;t_blockers -->
<g id="edge4" class="edge">
<title>t_strict_ok&#45;&gt;t_blockers</title>
<path fill="none" stroke="black" d="M163.44,-2422.5C168.34,-2411.08 175.22,-2395.01 181.21,-2381.02"/>
<polygon fill="black" stroke="black" points="183.34,-2382.29 183.84,-2374.89 178.83,-2380.36 183.34,-2382.29"/>
<text text-anchor="middle" x="182.62" y="-2393.99" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- t_done -->
<g id="node7" class="node">
<title>t_done</title>
<ellipse fill="none" stroke="black" cx="107" cy="-1953.56" rx="63.48" ry="63.48"/>
<ellipse fill="none" stroke="black" cx="107" cy="-1953.56" rx="67.48" ry="67.48"/>
<text text-anchor="middle" x="107" y="-1950.44" font-family="Helvetica,sans-Serif" font-size="10.00">test target proven</text>
</g>
<!-- t_strict_ok&#45;&gt;t_done -->
<g id="edge3" class="edge">
<title>t_strict_ok&#45;&gt;t_done</title>
<path fill="none" stroke="black" d="M135.49,-2427.8C109.73,-2414.49 70,-2387.99 70,-2351.17 70,-2351.17 70,-2351.17 70,-2090.42 70,-2068.73 74.44,-2045.76 80.25,-2025"/>
<polygon fill="black" stroke="black" points="82.6,-2025.71 82.21,-2018.3 77.89,-2024.34 82.6,-2025.71"/>
<text text-anchor="middle" x="77.5" y="-2217.87" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- t_blockers_ok -->
<g id="node5" class="node">
<title>t_blockers_ok</title>
<polygon fill="none" stroke="black" points="194,-2238.79 142.51,-2220.79 194,-2202.79 245.49,-2220.79 194,-2238.79"/>
<text text-anchor="middle" x="194" y="-2217.67" font-family="Helvetica,sans-Serif" font-size="10.00">success?</text>
</g>
<!-- t_blockers&#45;&gt;t_blockers_ok -->
<g id="edge5" class="edge">
<title>t_blockers&#45;&gt;t_blockers_ok</title>
<path fill="none" stroke="black" d="M194,-2326.69C194,-2304.53 194,-2270.69 194,-2247.48"/>
<polygon fill="black" stroke="black" points="196.45,-2247.66 194,-2240.66 191.55,-2247.66 196.45,-2247.66"/>
</g>
<!-- b_assume_blockers -->
<g id="node12" class="node">
<title>b_assume_blockers</title>
<polygon fill="none" stroke="black" points="1162,-1584.53 1047.56,-1566.53 1162,-1548.53 1276.44,-1566.53 1162,-1584.53"/>
<text text-anchor="middle" x="1162" y="-1563.4" font-family="Helvetica,sans-Serif" font-size="10.00">rules:assume_blockers?</text>
</g>
<!-- t_blockers&#45;&gt;b_assume_blockers -->
<g id="edge95" class="edge">
<title>t_blockers&#45;&gt;b_assume_blockers</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M272.63,-2348.58C529.12,-2345.61 1325,-2327.88 1325,-2221.79 1325,-2221.79 1325,-2221.79 1325,-1690.08 1325,-1632.06 1258.21,-1598.1 1210.13,-1581.17"/>
<polygon fill="black" stroke="black" points="1211.14,-1578.93 1203.72,-1578.99 1209.56,-1583.57 1211.14,-1578.93"/>
<text text-anchor="middle" x="1400" y="-1950.64" font-family="Helvetica,sans-Serif" font-size="9.00">sets rules_assume_blockers=true</text>
</g>
<!-- t_conflicts -->
<g id="node6" class="node">
<title>t_conflicts</title>
<polygon fill="none" stroke="black" points="297.5,-2114.54 140.5,-2114.54 140.5,-2068.29 297.5,-2068.29 297.5,-2114.54"/>
<text text-anchor="middle" x="219" y="-2101.04" font-family="Helvetica,sans-Serif" font-size="10.00">rules:with_assume_conflicts(</text>
<text text-anchor="middle" x="219" y="-2088.29" font-family="Helvetica,sans-Serif" font-size="10.00"> &#160;printer:prove_plan(...)</text>
<text text-anchor="middle" x="219" y="-2075.54" font-family="Helvetica,sans-Serif" font-size="10.00">)</text>
</g>
<!-- t_blockers_ok&#45;&gt;t_conflicts -->
<g id="edge7" class="edge">
<title>t_blockers_ok&#45;&gt;t_conflicts</title>
<path fill="none" stroke="black" d="M197.22,-2203.4C201.2,-2183.12 208.06,-2148.17 213.02,-2122.91"/>
<polygon fill="black" stroke="black" points="215.38,-2123.57 214.33,-2116.23 210.57,-2122.63 215.38,-2123.57"/>
<text text-anchor="middle" x="216.62" y="-2135.24" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- t_blockers_ok&#45;&gt;t_done -->
<g id="edge6" class="edge">
<title>t_blockers_ok&#45;&gt;t_done</title>
<path fill="none" stroke="black" d="M180.52,-2207.04C162.1,-2188.63 129.77,-2152.61 116,-2114.54 106.36,-2087.87 102.97,-2057.07 102.38,-2029.66"/>
<polygon fill="black" stroke="black" points="104.83,-2029.75 102.3,-2022.78 99.93,-2029.81 104.83,-2029.75"/>
<text text-anchor="middle" x="123.5" y="-2088.49" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- t_conflicts&#45;&gt;t_done -->
<g id="edge8" class="edge">
<title>t_conflicts&#45;&gt;t_done</title>
<path fill="none" stroke="black" d="M200.51,-2067.99C188.11,-2052.95 171.19,-2032.42 155.14,-2012.95"/>
<polygon fill="black" stroke="black" points="157.04,-2011.41 150.7,-2007.57 153.26,-2014.53 157.04,-2011.41"/>
</g>
<!-- b_conflict -->
<g id="node15" class="node">
<title>b_conflict</title>
<polygon fill="none" stroke="black" points="420,-1971.56 321.79,-1953.56 420,-1935.56 518.21,-1953.56 420,-1971.56"/>
<text text-anchor="middle" x="420" y="-1950.44" font-family="Helvetica,sans-Serif" font-size="10.00">rule(conflict(A,B),...)</text>
</g>
<!-- t_conflicts&#45;&gt;b_conflict -->
<g id="edge96" class="edge">
<title>t_conflicts&#45;&gt;b_conflict</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M252.19,-2067.99C291.5,-2041.42 356.22,-1997.67 392.73,-1972.99"/>
<polygon fill="black" stroke="black" points="393.96,-1975.12 398.39,-1969.17 391.22,-1971.06 393.96,-1975.12"/>
<text text-anchor="middle" x="365.38" y="-2041.74" font-family="Helvetica,sans-Serif" font-size="9.00">sets rules_assume_conflicts=true</text>
</g>
<!-- b_anyof_guard -->
<g id="node18" class="node">
<title>b_anyof_guard</title>
<polygon fill="none" stroke="black" points="696,-1987.06 536,-1953.56 696,-1920.06 856,-1953.56 696,-1987.06"/>
<text text-anchor="middle" x="696" y="-1956.81" font-family="Helvetica,sans-Serif" font-size="10.00">any_of_config_dep_ok/2</text>
<text text-anchor="middle" x="696" y="-1944.06" font-family="Helvetica,sans-Serif" font-size="10.00">(USE&#45;dep option unsatisfied?)</text>
</g>
<!-- t_conflicts&#45;&gt;b_anyof_guard -->
<g id="edge97" class="edge">
<title>t_conflicts&#45;&gt;b_anyof_guard</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M297.89,-2079.72C341.62,-2072.97 396.76,-2063.09 445,-2050.29 482.4,-2040.38 490.77,-2034.63 527,-2021.04 562.8,-2007.62 602.61,-1991.99 634.6,-1979.27"/>
<polygon fill="black" stroke="black" points="635.13,-1981.69 640.73,-1976.82 633.32,-1977.14 635.13,-1981.69"/>
<text text-anchor="middle" x="530.88" y="-2041.74" font-family="Helvetica,sans-Serif" font-size="9.00">affects || model guard</text>
</g>
<!-- b_start -->
<g id="node8" class="node">
<title>b_start</title>
<ellipse fill="none" stroke="black" cx="1131" cy="-1953.56" rx="23.56" ry="23.56"/>
<text text-anchor="middle" x="1131" y="-1950.44" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- b_kind -->
<g id="node9" class="node">
<title>b_kind</title>
<polygon fill="none" stroke="black" points="1131,-1838.83 965,-1805.33 1131,-1771.83 1297,-1805.33 1131,-1838.83"/>
<text text-anchor="middle" x="1131" y="-1808.58" font-family="Helvetica,sans-Serif" font-size="10.00">grouped_package_dependency</text>
<text text-anchor="middle" x="1131" y="-1795.83" font-family="Helvetica,sans-Serif" font-size="10.00">strength?</text>
</g>
<!-- b_start&#45;&gt;b_kind -->
<g id="edge9" class="edge">
<title>b_start&#45;&gt;b_kind</title>
<path fill="none" stroke="black" d="M1131,-1929.71C1131,-1907.82 1131,-1874.28 1131,-1847.7"/>
<polygon fill="black" stroke="black" points="1133.45,-1847.85 1131,-1840.85 1128.55,-1847.85 1133.45,-1847.85"/>
</g>
<!-- b_weak -->
<g id="node10" class="node">
<title>b_weak</title>
<polygon fill="none" stroke="black" points="1048.5,-1709.08 741.5,-1709.08 741.5,-1673.08 1048.5,-1673.08 1048.5,-1709.08"/>
<text text-anchor="middle" x="895" y="-1694.33" font-family="Helvetica,sans-Serif" font-size="10.00">weak:</text>
<text text-anchor="middle" x="895" y="-1681.58" font-family="Helvetica,sans-Serif" font-size="10.00">findall(assumed(blocker(...)?{blocker_assumption_ctx}), ...)</text>
</g>
<!-- b_kind&#45;&gt;b_weak -->
<g id="edge10" class="edge">
<title>b_kind&#45;&gt;b_weak</title>
<path fill="none" stroke="black" d="M1082.39,-1781.21C1040.3,-1761.19 979.95,-1732.49 939.21,-1713.11"/>
<polygon fill="black" stroke="black" points="940.33,-1710.93 932.95,-1710.13 938.22,-1715.35 940.33,-1710.93"/>
<text text-anchor="middle" x="1032.62" y="-1745.28" font-family="Helvetica,sans-Serif" font-size="9.00">weak</text>
</g>
<!-- b_strong_split -->
<g id="node11" class="node">
<title>b_strong_split</title>
<polygon fill="none" stroke="black" points="1257.75,-1714.21 1066.25,-1714.21 1066.25,-1667.96 1257.75,-1667.96 1257.75,-1714.21"/>
<text text-anchor="middle" x="1162" y="-1700.71" font-family="Helvetica,sans-Serif" font-size="10.00">strong:</text>
<text text-anchor="middle" x="1162" y="-1687.96" font-family="Helvetica,sans-Serif" font-size="10.00">grouped_blocker_specs_partition(...,</text>
<text text-anchor="middle" x="1162" y="-1675.21" font-family="Helvetica,sans-Serif" font-size="10.00">EnforceSpecs, AssumeSpecs)</text>
</g>
<!-- b_kind&#45;&gt;b_strong_split -->
<g id="edge11" class="edge">
<title>b_kind&#45;&gt;b_strong_split</title>
<path fill="none" stroke="black" d="M1139.55,-1773.36C1143.95,-1757.45 1149.28,-1738.13 1153.65,-1722.32"/>
<polygon fill="black" stroke="black" points="1155.93,-1723.27 1155.43,-1715.87 1151.21,-1721.96 1155.93,-1723.27"/>
<text text-anchor="middle" x="1162.62" y="-1745.28" font-family="Helvetica,sans-Serif" font-size="9.00">strong</text>
</g>
<!-- b_strong_split&#45;&gt;b_assume_blockers -->
<g id="edge12" class="edge">
<title>b_strong_split&#45;&gt;b_assume_blockers</title>
<path fill="none" stroke="black" d="M1162,-1667.6C1162,-1646.59 1162,-1615.23 1162,-1593.23"/>
<polygon fill="black" stroke="black" points="1164.45,-1593.24 1162,-1586.24 1159.55,-1593.24 1164.45,-1593.24"/>
</g>
<!-- b_strong_assume_all -->
<g id="node13" class="node">
<title>b_strong_assume_all</title>
<polygon fill="none" stroke="black" points="1009.5,-1480.22 786.5,-1480.22 786.5,-1444.22 1009.5,-1444.22 1009.5,-1480.22"/>
<text text-anchor="middle" x="898" y="-1465.47" font-family="Helvetica,sans-Serif" font-size="10.00">assume all strong blockers:</text>
<text text-anchor="middle" x="898" y="-1452.72" font-family="Helvetica,sans-Serif" font-size="10.00">assumed(blocker(...)) for Enforce+Assume</text>
</g>
<!-- b_assume_blockers&#45;&gt;b_strong_assume_all -->
<g id="edge13" class="edge">
<title>b_assume_blockers&#45;&gt;b_strong_assume_all</title>
<path fill="none" stroke="black" d="M1129.89,-1553.08C1085.36,-1535.83 1004.3,-1504.41 950.8,-1483.68"/>
<polygon fill="black" stroke="black" points="951.93,-1481.49 944.52,-1481.25 950.16,-1486.06 951.93,-1481.49"/>
<text text-anchor="middle" x="1061.5" y="-1516.42" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- b_strong_enforce -->
<g id="node14" class="node">
<title>b_strong_enforce</title>
<polygon fill="none" stroke="black" points="1296.75,-1485.34 1027.25,-1485.34 1027.25,-1439.09 1296.75,-1439.09 1296.75,-1485.34"/>
<text text-anchor="middle" x="1162" y="-1471.84" font-family="Helvetica,sans-Serif" font-size="10.00">strict strong blockers:</text>
<text text-anchor="middle" x="1162" y="-1459.09" font-family="Helvetica,sans-Serif" font-size="10.00">constraint(blocked_cn(C,N):{ordset(EnforceSpecs)})</text>
<text text-anchor="middle" x="1162" y="-1446.34" font-family="Helvetica,sans-Serif" font-size="10.00">+ assumed(blocker(...)) for AssumeSpecs</text>
</g>
<!-- b_assume_blockers&#45;&gt;b_strong_enforce -->
<g id="edge14" class="edge">
<title>b_assume_blockers&#45;&gt;b_strong_enforce</title>
<path fill="none" stroke="black" d="M1162,-1548.17C1162,-1533.38 1162,-1511.75 1162,-1494.02"/>
<polygon fill="black" stroke="black" points="1164.45,-1494.19 1162,-1487.19 1159.55,-1494.19 1164.45,-1494.19"/>
<text text-anchor="middle" x="1167.62" y="-1516.42" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- b_conflict_assume -->
<g id="node16" class="node">
<title>b_conflict_assume</title>
<polygon fill="none" stroke="black" points="594,-1823.33 452,-1823.33 452,-1787.33 594,-1787.33 594,-1823.33"/>
<text text-anchor="middle" x="523" y="-1808.58" font-family="Helvetica,sans-Serif" font-size="10.00">rules:assume_conflicts &#45;&gt;</text>
<text text-anchor="middle" x="523" y="-1795.83" font-family="Helvetica,sans-Serif" font-size="10.00">[assumed(conflict(A,B))]</text>
</g>
<!-- b_conflict&#45;&gt;b_conflict_assume -->
<g id="edge15" class="edge">
<title>b_conflict&#45;&gt;b_conflict_assume</title>
<path fill="none" stroke="black" d="M430.83,-1937.19C448.71,-1911.8 484.56,-1860.91 505.9,-1830.61"/>
<polygon fill="black" stroke="black" points="507.83,-1832.12 509.86,-1824.99 503.83,-1829.3 507.83,-1832.12"/>
<text text-anchor="middle" x="525.62" y="-1859.53" font-family="Helvetica,sans-Serif" font-size="9.00">assume_conflicts</text>
</g>
<!-- b_conflict_fail -->
<g id="node17" class="node">
<title>b_conflict_fail</title>
<polygon fill="none" stroke="black" points="434.38,-1823.33 321.62,-1823.33 321.62,-1787.33 434.38,-1787.33 434.38,-1823.33"/>
<text text-anchor="middle" x="378" y="-1802.21" font-family="Helvetica,sans-Serif" font-size="10.00">strict conflict &#45;&gt; fail</text>
</g>
<!-- b_conflict&#45;&gt;b_conflict_fail -->
<g id="edge16" class="edge">
<title>b_conflict&#45;&gt;b_conflict_fail</title>
<path fill="none" stroke="black" d="M415.26,-1936.07C407.93,-1910.54 393.78,-1861.26 385.18,-1831.33"/>
<polygon fill="black" stroke="black" points="387.62,-1830.95 383.33,-1824.89 382.91,-1832.3 387.62,-1830.95"/>
<text text-anchor="middle" x="407.62" y="-1859.53" font-family="Helvetica,sans-Serif" font-size="9.00">strict</text>
</g>
<!-- b_anyof_assume -->
<g id="node19" class="node">
<title>b_anyof_assume</title>
<polygon fill="none" stroke="black" points="947.38,-1823.33 750.62,-1823.33 750.62,-1787.33 947.38,-1787.33 947.38,-1823.33"/>
<text text-anchor="middle" x="849" y="-1808.58" font-family="Helvetica,sans-Serif" font-size="10.00">rules:assume_conflicts &#45;&gt;</text>
<text text-anchor="middle" x="849" y="-1795.83" font-family="Helvetica,sans-Serif" font-size="10.00">allow option (do not fail model build)</text>
</g>
<!-- b_anyof_guard&#45;&gt;b_anyof_assume -->
<g id="edge17" class="edge">
<title>b_anyof_guard&#45;&gt;b_anyof_assume</title>
<path fill="none" stroke="black" d="M724.06,-1925.74C752.94,-1898.15 797.45,-1855.6 824.81,-1829.45"/>
<polygon fill="black" stroke="black" points="826.25,-1831.46 829.62,-1824.85 822.87,-1827.92 826.25,-1831.46"/>
<text text-anchor="middle" x="848.88" y="-1859.53" font-family="Helvetica,sans-Serif" font-size="9.00">yes + assume_conflicts</text>
</g>
<!-- b_anyof_fail -->
<g id="node20" class="node">
<title>b_anyof_fail</title>
<polygon fill="none" stroke="black" points="732.12,-1823.33 611.88,-1823.33 611.88,-1787.33 732.12,-1787.33 732.12,-1823.33"/>
<text text-anchor="middle" x="672" y="-1802.21" font-family="Helvetica,sans-Serif" font-size="10.00">strict &#45;&gt; reject option</text>
</g>
<!-- b_anyof_guard&#45;&gt;b_anyof_fail -->
<g id="edge18" class="edge">
<title>b_anyof_guard&#45;&gt;b_anyof_fail</title>
<path fill="none" stroke="black" d="M690.79,-1920.83C686.43,-1894.23 680.27,-1856.74 676.21,-1832"/>
<polygon fill="black" stroke="black" points="678.67,-1831.82 675.12,-1825.31 673.83,-1832.62 678.67,-1831.82"/>
<text text-anchor="middle" x="707.88" y="-1859.53" font-family="Helvetica,sans-Serif" font-size="9.00">yes + strict</text>
</g>
<!-- g_start -->
<g id="node21" class="node">
<title>g_start</title>
<ellipse fill="none" stroke="black" cx="3259" cy="-2600.35" rx="23.56" ry="23.56"/>
<text text-anchor="middle" x="3259" y="-2597.23" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- g_split -->
<g id="node22" class="node">
<title>g_split</title>
<polygon fill="none" stroke="black" points="3377,-2539.79 3186.63,-2521.79 3377,-2503.79 3567.37,-2521.79 3377,-2539.79"/>
<text text-anchor="middle" x="3377" y="-2518.67" font-family="Helvetica,sans-Serif" font-size="10.00">should_split_grouped_dep(PackageDeps)?</text>
</g>
<!-- g_start&#45;&gt;g_split -->
<g id="edge19" class="edge">
<title>g_start&#45;&gt;g_split</title>
<path fill="none" stroke="black" d="M3278.49,-2586.71C3297.07,-2574.65 3325.33,-2556.31 3346.83,-2542.37"/>
<polygon fill="black" stroke="black" points="3348.03,-2544.51 3352.57,-2538.65 3345.36,-2540.4 3348.03,-2544.51"/>
</g>
<!-- g_split_emit -->
<g id="node23" class="node">
<title>g_split_emit</title>
<polygon fill="none" stroke="black" points="3840.38,-752.04 3559.62,-752.04 3559.62,-705.79 3840.38,-705.79 3840.38,-752.04"/>
<text text-anchor="middle" x="3700" y="-738.54" font-family="Helvetica,sans-Serif" font-size="10.00">emit one grouped dep per package_dependency/8</text>
<text text-anchor="middle" x="3700" y="-725.79" font-family="Helvetica,sans-Serif" font-size="10.00">(findall + sort)</text>
<text text-anchor="middle" x="3700" y="-713.04" font-family="Helvetica,sans-Serif" font-size="10.00">+ constraint(selected_cn_allow_multislot(C,N):{true})</text>
</g>
<!-- g_split&#45;&gt;g_split_emit -->
<g id="edge20" class="edge">
<title>g_split&#45;&gt;g_split_emit</title>
<path fill="none" stroke="black" d="M3377,-2503.36C3377,-2486.91 3377,-2461.55 3377,-2439.54 3377,-2439.54 3377,-2439.54 3377,-2302.42 3377,-2239.76 3358.21,-2217.45 3387,-2161.79 3417.11,-2103.59 3440.97,-2094.57 3501,-2068.29 3587.32,-2030.5 3617.38,-2049.77 3711,-2039.04 3733.17,-2036.5 3895.77,-2037.35 3911,-2021.04 3938.59,-1991.52 3911,-1537.34 3911,-1520.34 3911,-1520.34 3911,-1520.34 3911,-858.41 3911,-805.68 3862.34,-773.96 3811.75,-755.23"/>
<polygon fill="black" stroke="black" points="3812.8,-753.01 3805.38,-752.96 3811.15,-757.62 3812.8,-753.01"/>
<text text-anchor="middle" x="3922.5" y="-1563.6" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_self_run -->
<g id="node24" class="node">
<title>g_self_run</title>
<polygon fill="none" stroke="black" points="3535,-2456.54 3395.9,-2438.54 3535,-2420.54 3674.1,-2438.54 3535,-2456.54"/>
<text text-anchor="middle" x="3535" y="-2435.42" font-family="Helvetica,sans-Serif" font-size="10.00">Action == run AND self(C,N)?</text>
</g>
<!-- g_split&#45;&gt;g_self_run -->
<g id="edge21" class="edge">
<title>g_split&#45;&gt;g_self_run</title>
<path fill="none" stroke="black" d="M3405.61,-2506.08C3432.31,-2492.35 3472.17,-2471.85 3500.59,-2457.24"/>
<polygon fill="black" stroke="black" points="3501.47,-2459.54 3506.57,-2454.16 3499.23,-2455.18 3501.47,-2459.54"/>
<text text-anchor="middle" x="3470.62" y="-2477.24" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ok_self -->
<g id="node25" class="node">
<title>g_ok_self</title>
<polygon fill="none" stroke="black" points="3515.75,-2368.17 3426.25,-2368.17 3426.25,-2332.17 3515.75,-2332.17 3515.75,-2368.17"/>
<text text-anchor="middle" x="3471" y="-2347.04" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_self_run&#45;&gt;g_ok_self -->
<g id="edge22" class="edge">
<title>g_self_run&#45;&gt;g_ok_self</title>
<path fill="none" stroke="black" d="M3523.26,-2421.7C3513.56,-2408.61 3499.64,-2389.82 3488.6,-2374.93"/>
<polygon fill="black" stroke="black" points="3490.8,-2373.77 3484.66,-2369.61 3486.86,-2376.69 3490.8,-2373.77"/>
<text text-anchor="middle" x="3515.5" y="-2393.99" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_emptytree_core -->
<g id="node26" class="node">
<title>g_emptytree_core</title>
<polygon fill="none" stroke="black" points="3680,-2368.17 3533.76,-2350.17 3680,-2332.17 3826.24,-2350.17 3680,-2368.17"/>
<text text-anchor="middle" x="3680" y="-2347.04" font-family="Helvetica,sans-Serif" font-size="10.00">emptytree AND core_pkg(C,N)?</text>
</g>
<!-- g_self_run&#45;&gt;g_emptytree_core -->
<g id="edge23" class="edge">
<title>g_self_run&#45;&gt;g_emptytree_core</title>
<path fill="none" stroke="black" d="M3558.94,-2423.28C3583.5,-2408.65 3621.81,-2385.83 3648.75,-2369.79"/>
<polygon fill="black" stroke="black" points="3649.96,-2371.92 3654.72,-2366.23 3647.45,-2367.71 3649.96,-2371.92"/>
<text text-anchor="middle" x="3616.62" y="-2393.99" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ok_core -->
<g id="node27" class="node">
<title>g_ok_core</title>
<polygon fill="none" stroke="black" points="3485.75,-2238.79 3396.25,-2238.79 3396.25,-2202.79 3485.75,-2202.79 3485.75,-2238.79"/>
<text text-anchor="middle" x="3441" y="-2217.67" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_emptytree_core&#45;&gt;g_ok_core -->
<g id="edge24" class="edge">
<title>g_emptytree_core&#45;&gt;g_ok_core</title>
<path fill="none" stroke="black" d="M3631.92,-2337.73C3592.8,-2326.94 3537.33,-2308.13 3495,-2279.79 3481.24,-2270.58 3468.48,-2257.21 3458.82,-2245.62"/>
<polygon fill="black" stroke="black" points="3460.77,-2244.14 3454.46,-2240.23 3456.96,-2247.22 3460.77,-2244.14"/>
<text text-anchor="middle" x="3554.5" y="-2300.49" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_keep_installed -->
<g id="node28" class="node">
<title>g_keep_installed</title>
<polygon fill="none" stroke="black" points="3715,-2279.79 3504,-2220.79 3715,-2161.79 3926,-2220.79 3715,-2279.79"/>
<text text-anchor="middle" x="3715" y="-2236.79" font-family="Helvetica,sans-Serif" font-size="10.00">keep&#45;installed fast path?</text>
<text text-anchor="middle" x="3715" y="-2224.04" font-family="Helvetica,sans-Serif" font-size="10.00">(!emptytree, !deep, same&#45;slot installed,</text>
<text text-anchor="middle" x="3715" y="-2211.29" font-family="Helvetica,sans-Serif" font-size="10.00">version+slot+build_with_use satisfied,</text>
<text text-anchor="middle" x="3715" y="-2198.54" font-family="Helvetica,sans-Serif" font-size="10.00">and no &#45;&#45;newuse mismatch)</text>
</g>
<!-- g_emptytree_core&#45;&gt;g_keep_installed -->
<g id="edge25" class="edge">
<title>g_emptytree_core&#45;&gt;g_keep_installed</title>
<path fill="none" stroke="black" d="M3684.65,-2332.25C3688.08,-2319.75 3692.99,-2301.9 3697.86,-2284.17"/>
<polygon fill="black" stroke="black" points="3700.2,-2284.92 3699.69,-2277.52 3695.47,-2283.62 3700.2,-2284.92"/>
<text text-anchor="middle" x="3698.62" y="-2300.49" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ok_installed -->
<g id="node29" class="node">
<title>g_ok_installed</title>
<polygon fill="none" stroke="black" points="3599.75,-2109.42 3510.25,-2109.42 3510.25,-2073.42 3599.75,-2073.42 3599.75,-2109.42"/>
<text text-anchor="middle" x="3555" y="-2088.29" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_keep_installed&#45;&gt;g_ok_installed -->
<g id="edge26" class="edge">
<title>g_keep_installed&#45;&gt;g_ok_installed</title>
<path fill="none" stroke="black" d="M3660.83,-2176.67C3634.82,-2155.96 3604.72,-2132 3583.29,-2114.94"/>
<polygon fill="black" stroke="black" points="3584.84,-2113.04 3577.84,-2110.6 3581.79,-2116.87 3584.84,-2113.04"/>
<text text-anchor="middle" x="3622.5" y="-2135.24" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_slotreq -->
<g id="node30" class="node">
<title>g_slotreq</title>
<polygon fill="none" stroke="black" points="3811.88,-2109.42 3618.12,-2109.42 3618.12,-2073.42 3811.88,-2073.42 3811.88,-2109.42"/>
<text text-anchor="middle" x="3715" y="-2088.29" font-family="Helvetica,sans-Serif" font-size="10.00">SlotReq = merge_slot_restriction(...)</text>
</g>
<!-- g_keep_installed&#45;&gt;g_slotreq -->
<g id="edge27" class="edge">
<title>g_keep_installed&#45;&gt;g_slotreq</title>
<path fill="none" stroke="black" d="M3715,-2161.33C3715,-2146.27 3715,-2130.83 3715,-2118.39"/>
<polygon fill="black" stroke="black" points="3717.45,-2118.42 3715,-2111.42 3712.55,-2118.42 3717.45,-2118.42"/>
<text text-anchor="middle" x="3720.62" y="-2135.24" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_select -->
<g id="node31" class="node">
<title>g_select</title>
<polygon fill="none" stroke="black" points="3465.62,-1989.44 3138.38,-1989.44 3138.38,-1917.69 3465.62,-1917.69 3465.62,-1989.44"/>
<text text-anchor="middle" x="3302" y="-1975.94" font-family="Helvetica,sans-Serif" font-size="10.00">candidate selection:</text>
<text text-anchor="middle" x="3302" y="-1963.19" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; explicit slot dep &#45;&gt; accepted_keyword_candidate</text>
<text text-anchor="middle" x="3302" y="-1950.44" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; else selected_cn_candidate_compatible (slot+domain)</text>
<text text-anchor="middle" x="3302" y="-1937.69" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; else accepted_keyword_candidate</text>
<text text-anchor="middle" x="3302" y="-1924.94" font-family="Helvetica,sans-Serif" font-size="10.00"> &#160;excluding selected_cn candidates already rejected for this dep</text>
</g>
<!-- g_slotreq&#45;&gt;g_select -->
<g id="edge28" class="edge">
<title>g_slotreq&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M3661.85,-2072.94C3600.33,-2052.7 3497.21,-2018.78 3417.08,-1992.42"/>
<polygon fill="black" stroke="black" points="3418.26,-1990.23 3410.84,-1990.37 3416.73,-1994.88 3418.26,-1990.23"/>
</g>
<!-- g_deep_keep -->
<g id="node44" class="node">
<title>g_deep_keep</title>
<polygon fill="none" stroke="black" points="3715,-1987.06 3528,-1953.56 3715,-1920.06 3902,-1953.56 3715,-1987.06"/>
<text text-anchor="middle" x="3715" y="-1956.81" font-family="Helvetica,sans-Serif" font-size="10.00">deep fallback keep&#45;installed?</text>
<text text-anchor="middle" x="3715" y="-1944.06" font-family="Helvetica,sans-Serif" font-size="10.00">(installed same&#45;slot satisfies deps)</text>
</g>
<!-- g_slotreq&#45;&gt;g_deep_keep -->
<g id="edge49" class="edge">
<title>g_slotreq&#45;&gt;g_deep_keep</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3715,-2072.94C3715,-2053.56 3715,-2021.63 3715,-1995.81"/>
<polygon fill="black" stroke="black" points="3717.45,-1995.83 3715,-1988.83 3712.55,-1995.83 3717.45,-1995.83"/>
<text text-anchor="middle" x="3776.88" y="-2041.74" font-family="Helvetica,sans-Serif" font-size="9.00">no viable candidate branch</text>
</g>
<!-- g_self_guard -->
<g id="node32" class="node">
<title>g_self_guard</title>
<polygon fill="none" stroke="black" points="3298,-1823.33 3178.37,-1805.33 3298,-1787.33 3417.63,-1805.33 3298,-1823.33"/>
<text text-anchor="middle" x="3298" y="-1802.21" font-family="Helvetica,sans-Serif" font-size="10.00">candidate == self entry?</text>
</g>
<!-- g_select&#45;&gt;g_self_guard -->
<g id="edge29" class="edge">
<title>g_select&#45;&gt;g_self_guard</title>
<path fill="none" stroke="black" d="M3301.04,-1917.54C3300.32,-1891.16 3299.35,-1855.62 3298.7,-1831.89"/>
<polygon fill="black" stroke="black" points="3301.15,-1831.85 3298.51,-1824.92 3296.25,-1831.99 3301.15,-1831.85"/>
</g>
<!-- g_self_installed -->
<g id="node33" class="node">
<title>g_self_installed</title>
<polygon fill="none" stroke="black" points="3425,-1724.58 3327.25,-1691.08 3425,-1657.58 3522.75,-1691.08 3425,-1724.58"/>
<text text-anchor="middle" x="3425" y="-1694.33" font-family="Helvetica,sans-Serif" font-size="10.00">if self candidate:</text>
<text text-anchor="middle" x="3425" y="-1681.58" font-family="Helvetica,sans-Serif" font-size="10.00">installed(true)?</text>
</g>
<!-- g_self_guard&#45;&gt;g_self_installed -->
<g id="edge30" class="edge">
<title>g_self_guard&#45;&gt;g_self_installed</title>
<path fill="none" stroke="black" d="M3314.86,-1789.43C3334.52,-1772.05 3367.46,-1742.94 3392.21,-1721.06"/>
<polygon fill="black" stroke="black" points="3393.55,-1723.15 3397.18,-1716.67 3390.31,-1719.47 3393.55,-1723.15"/>
<text text-anchor="middle" x="3372.5" y="-1745.28" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_version_guard -->
<g id="node34" class="node">
<title>g_version_guard</title>
<polygon fill="none" stroke="black" points="3361,-1584.53 3227.09,-1566.53 3361,-1548.53 3494.91,-1566.53 3361,-1584.53"/>
<text text-anchor="middle" x="3361" y="-1563.4" font-family="Helvetica,sans-Serif" font-size="10.00">all version constraints pass?</text>
</g>
<!-- g_self_guard&#45;&gt;g_version_guard -->
<g id="edge31" class="edge">
<title>g_self_guard&#45;&gt;g_version_guard</title>
<path fill="none" stroke="black" d="M3296.42,-1787.14C3294.42,-1759.23 3292.76,-1702.68 3306.75,-1657.58 3314.53,-1632.5 3330.71,-1607.16 3343.38,-1589.78"/>
<polygon fill="black" stroke="black" points="3345.09,-1591.58 3347.31,-1584.51 3341.16,-1588.66 3345.09,-1591.58"/>
<text text-anchor="middle" x="3311.62" y="-1688.16" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_self_installed&#45;&gt;g_select -->
<g id="edge33" class="edge">
<title>g_self_installed&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M3432.53,-1722.5C3438.55,-1753.24 3443.54,-1801.43 3427,-1838.83 3413.99,-1868.27 3389.17,-1893.36 3365.06,-1912.43"/>
<polygon fill="black" stroke="black" points="3363.87,-1910.25 3359.82,-1916.47 3366.86,-1914.13 3363.87,-1910.25"/>
<text text-anchor="middle" x="3464.62" y="-1802.41" font-family="Helvetica,sans-Serif" font-size="9.00">no: try next</text>
</g>
<!-- g_self_installed&#45;&gt;g_version_guard -->
<g id="edge32" class="edge">
<title>g_self_installed&#45;&gt;g_version_guard</title>
<path fill="none" stroke="black" d="M3410.48,-1662.27C3399.23,-1640.73 3383.82,-1611.23 3373.2,-1590.89"/>
<polygon fill="black" stroke="black" points="3375.5,-1590 3370.09,-1584.93 3371.16,-1592.27 3375.5,-1590"/>
<text text-anchor="middle" x="3403.5" y="-1631.03" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_version_guard&#45;&gt;g_select -->
<g id="edge35" class="edge">
<title>g_version_guard&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M3339.12,-1581.99C3296.58,-1611.61 3203.87,-1683.81 3169,-1771.83 3158.03,-1799.52 3156.54,-1811.79 3169,-1838.83 3182.77,-1868.72 3208.7,-1893.68 3234.03,-1912.53"/>
<polygon fill="black" stroke="black" points="3232.47,-1914.42 3239.57,-1916.55 3235.34,-1910.45 3232.47,-1914.42"/>
<text text-anchor="middle" x="3208.62" y="-1745.28" font-family="Helvetica,sans-Serif" font-size="9.00">no: try next</text>
</g>
<!-- g_pdepend -->
<g id="node35" class="node">
<title>g_pdepend</title>
<polygon fill="none" stroke="black" points="3361,-1480.22 3208.92,-1462.22 3361,-1444.22 3513.08,-1462.22 3361,-1480.22"/>
<text text-anchor="middle" x="3361" y="-1459.09" font-family="Helvetica,sans-Serif" font-size="10.00">PDEPEND edge in grouped deps?</text>
</g>
<!-- g_version_guard&#45;&gt;g_pdepend -->
<g id="edge34" class="edge">
<title>g_version_guard&#45;&gt;g_pdepend</title>
<path fill="none" stroke="black" d="M3361,-1548.17C3361,-1531.93 3361,-1507.46 3361,-1488.95"/>
<polygon fill="black" stroke="black" points="3363.45,-1489.17 3361,-1482.17 3358.55,-1489.17 3363.45,-1489.17"/>
<text text-anchor="middle" x="3368.5" y="-1516.42" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_ctx_drop -->
<g id="node36" class="node">
<title>g_ctx_drop</title>
<polygon fill="none" stroke="black" points="3422.12,-1365.97 3175.88,-1365.97 3175.88,-1329.97 3422.12,-1329.97 3422.12,-1365.97"/>
<text text-anchor="middle" x="3299" y="-1351.22" font-family="Helvetica,sans-Serif" font-size="10.00">drop parent build_with_use/assumption_reason</text>
<text text-anchor="middle" x="3299" y="-1338.47" font-family="Helvetica,sans-Serif" font-size="10.00">for this dep edge</text>
</g>
<!-- g_pdepend&#45;&gt;g_ctx_drop -->
<g id="edge36" class="edge">
<title>g_pdepend&#45;&gt;g_ctx_drop</title>
<path fill="none" stroke="black" d="M3352.12,-1445.14C3341.75,-1426.37 3324.51,-1395.15 3312.49,-1373.39"/>
<polygon fill="black" stroke="black" points="3314.74,-1372.39 3309.21,-1367.45 3310.45,-1374.76 3314.74,-1372.39"/>
<text text-anchor="middle" x="3338.5" y="-1402.17" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_use_guard -->
<g id="node37" class="node">
<title>g_use_guard</title>
<polygon fill="none" stroke="black" points="3301,-1267.22 3157.36,-1249.22 3301,-1231.22 3444.64,-1249.22 3301,-1267.22"/>
<text text-anchor="middle" x="3301" y="-1246.09" font-family="Helvetica,sans-Serif" font-size="10.00">candidate_satisfies_use_deps?</text>
</g>
<!-- g_pdepend&#45;&gt;g_use_guard -->
<g id="edge37" class="edge">
<title>g_pdepend&#45;&gt;g_use_guard</title>
<path fill="none" stroke="black" d="M3380.39,-1446.25C3397.4,-1431.79 3420.94,-1408.19 3431,-1381.47 3441.5,-1353.6 3446.71,-1339.76 3431,-1314.47 3415.22,-1289.07 3386.1,-1273.41 3359.41,-1263.92"/>
<polygon fill="black" stroke="black" points="3360.45,-1261.68 3353.03,-1261.77 3358.88,-1266.32 3360.45,-1261.68"/>
<text text-anchor="middle" x="3445.62" y="-1345.04" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_ctx_drop&#45;&gt;g_use_guard -->
<g id="edge38" class="edge">
<title>g_ctx_drop&#45;&gt;g_use_guard</title>
<path fill="none" stroke="black" d="M3299.36,-1329.67C3299.67,-1314.68 3300.12,-1292.77 3300.47,-1275.76"/>
<polygon fill="black" stroke="black" points="3302.92,-1275.93 3300.61,-1268.88 3298.02,-1275.83 3302.92,-1275.93"/>
</g>
<!-- g_use_guard&#45;&gt;g_select -->
<g id="edge40" class="edge">
<title>g_use_guard&#45;&gt;g_select</title>
<path fill="none" stroke="black" d="M3251.5,-1261.49C3209.5,-1274.32 3156,-1299.91 3156,-1346.97 3156,-1520.34 3156,-1520.34 3156,-1520.34 3156,-1661.89 3115.79,-1703.11 3156,-1838.83 3165.34,-1870.36 3190.54,-1894.85 3217.43,-1912.9"/>
<polygon fill="black" stroke="black" points="3215.82,-1914.77 3223.02,-1916.52 3218.48,-1910.66 3215.82,-1914.77"/>
<text text-anchor="middle" x="3181.62" y="-1563.6" font-family="Helvetica,sans-Serif" font-size="9.00">no: try next</text>
</g>
<!-- g_use_slot -->
<g id="node38" class="node">
<title>g_use_slot</title>
<polygon fill="none" stroke="black" points="3437.25,-1183.97 3230.75,-1183.97 3230.75,-1147.97 3437.25,-1147.97 3437.25,-1183.97"/>
<text text-anchor="middle" x="3334" y="-1162.84" font-family="Helvetica,sans-Serif" font-size="10.00">process_build_with_use + process_slot</text>
</g>
<!-- g_use_guard&#45;&gt;g_use_slot -->
<g id="edge39" class="edge">
<title>g_use_guard&#45;&gt;g_use_slot</title>
<path fill="none" stroke="black" d="M3307.68,-1231.78C3312.33,-1220.33 3318.61,-1204.87 3323.87,-1191.91"/>
<polygon fill="black" stroke="black" points="3326.06,-1193.04 3326.42,-1185.63 3321.52,-1191.19 3326.06,-1193.04"/>
<text text-anchor="middle" x="3326.5" y="-1204.67" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_action_path -->
<g id="node39" class="node">
<title>g_action_path</title>
<polygon fill="none" stroke="black" points="3343,-1085.22 3137.71,-1067.22 3343,-1049.22 3548.29,-1067.22 3343,-1085.22"/>
<text text-anchor="middle" x="3343" y="-1064.09" font-family="Helvetica,sans-Serif" font-size="10.00">same&#45;slot installed instance for update path?</text>
</g>
<!-- g_use_slot&#45;&gt;g_action_path -->
<g id="edge41" class="edge">
<title>g_use_slot&#45;&gt;g_action_path</title>
<path fill="none" stroke="black" d="M3335.61,-1147.67C3337,-1132.68 3339.04,-1110.77 3340.62,-1093.76"/>
<polygon fill="black" stroke="black" points="3343.06,-1094.07 3341.26,-1086.87 3338.18,-1093.62 3343.06,-1094.07"/>
</g>
<!-- g_action_update -->
<g id="node40" class="node">
<title>g_action_update</title>
<polygon fill="none" stroke="black" points="3382.38,-986.47 3137.62,-986.47 3137.62,-950.47 3382.38,-950.47 3382.38,-986.47"/>
<text text-anchor="middle" x="3260" y="-971.72" font-family="Helvetica,sans-Serif" font-size="10.00">ActionGoal = Candidate:update?{replaces(...)}</text>
<text text-anchor="middle" x="3260" y="-958.97" font-family="Helvetica,sans-Serif" font-size="10.00">(or rebuild_reason(build_with_use/newuse))</text>
</g>
<!-- g_action_path&#45;&gt;g_action_update -->
<g id="edge42" class="edge">
<title>g_action_path&#45;&gt;g_action_update</title>
<path fill="none" stroke="black" d="M3329.29,-1050.24C3315.93,-1034.66 3295.44,-1010.78 3280.2,-993.02"/>
<polygon fill="black" stroke="black" points="3282.25,-991.64 3275.83,-987.93 3278.53,-994.83 3282.25,-991.64"/>
<text text-anchor="middle" x="3306.5" y="-1007.17" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_action_install -->
<g id="node41" class="node">
<title>g_action_install</title>
<polygon fill="none" stroke="black" points="3611.88,-986.47 3400.12,-986.47 3400.12,-950.47 3611.88,-950.47 3611.88,-986.47"/>
<text text-anchor="middle" x="3506" y="-971.72" font-family="Helvetica,sans-Serif" font-size="10.00">DepAction = (run &#45;&gt; install; else Action)</text>
<text text-anchor="middle" x="3506" y="-958.97" font-family="Helvetica,sans-Serif" font-size="10.00">ActionGoal = Candidate:DepAction</text>
</g>
<!-- g_action_path&#45;&gt;g_action_install -->
<g id="edge43" class="edge">
<title>g_action_path&#45;&gt;g_action_install</title>
<path fill="none" stroke="black" d="M3368.47,-1051.1C3395.57,-1035.01 3438.71,-1009.41 3469.44,-991.17"/>
<polygon fill="black" stroke="black" points="3470.51,-993.39 3475.27,-987.71 3468,-989.17 3470.51,-993.39"/>
<text text-anchor="middle" x="3448.62" y="-1007.17" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_emit -->
<g id="node42" class="node">
<title>g_emit</title>
<polygon fill="none" stroke="black" points="3524.38,-888.91 3117.62,-888.91 3117.62,-829.91 3524.38,-829.91 3524.38,-888.91"/>
<text text-anchor="middle" x="3321" y="-875.41" font-family="Helvetica,sans-Serif" font-size="10.00">emit constraints + goal:</text>
<text text-anchor="middle" x="3321" y="-862.66" font-family="Helvetica,sans-Serif" font-size="10.00">cn_domain + cn_domain_reason + selected_cn</text>
<text text-anchor="middle" x="3321" y="-849.91" font-family="Helvetica,sans-Serif" font-size="10.00">+ selected_cn_allow_multislot (slot/any_* OR exactish&#45;versioned grouped deps)</text>
<text text-anchor="middle" x="3321" y="-837.16" font-family="Helvetica,sans-Serif" font-size="10.00">+ build/use constraints + ActionGoal</text>
</g>
<!-- g_action_update&#45;&gt;g_emit -->
<g id="edge44" class="edge">
<title>g_action_update&#45;&gt;g_emit</title>
<path fill="none" stroke="black" d="M3269.8,-950.27C3278.07,-935.76 3290.17,-914.52 3300.54,-896.33"/>
<polygon fill="black" stroke="black" points="3302.47,-897.88 3303.81,-890.58 3298.22,-895.45 3302.47,-897.88"/>
</g>
<!-- u_start -->
<g id="node74" class="node">
<title>u_start</title>
<ellipse fill="none" stroke="black" cx="2528" cy="-859.41" rx="23.56" ry="23.56"/>
<text text-anchor="middle" x="2528" y="-856.29" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- g_action_update&#45;&gt;u_start -->
<g id="edge92" class="edge">
<title>g_action_update&#45;&gt;u_start</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3140.35,-949.97C2967.83,-924.74 2659.01,-879.57 2559.69,-865.05"/>
<polygon fill="black" stroke="black" points="2560.33,-862.66 2553.05,-864.08 2559.62,-867.51 2560.33,-862.66"/>
<text text-anchor="middle" x="3062.38" y="-923.92" font-family="Helvetica,sans-Serif" font-size="9.00">when ActionGoal is update</text>
</g>
<!-- g_action_install&#45;&gt;g_emit -->
<g id="edge45" class="edge">
<title>g_action_install&#45;&gt;g_emit</title>
<path fill="none" stroke="black" d="M3475.86,-950.03C3449.5,-934.77 3410.48,-912.19 3378.2,-893.51"/>
<polygon fill="black" stroke="black" points="3379.6,-891.49 3372.31,-890.11 3377.14,-895.73 3379.6,-891.49"/>
</g>
<!-- g_emit&#45;&gt;g_start -->
<!-- g_emit&#45;&gt;g_split_emit -->
<g id="edge47" class="edge">
<title>g_emit&#45;&gt;g_split_emit</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3406.53,-829.41C3472.37,-807.09 3562.48,-776.54 3625.41,-755.2"/>
<polygon fill="black" stroke="black" points="3626.06,-757.57 3631.9,-753 3624.49,-752.93 3626.06,-757.57"/>
<text text-anchor="middle" x="3572.5" y="-799.36" font-family="Helvetica,sans-Serif" font-size="9.00">if split parent proving each child</text>
</g>
<!-- g_sel_policy -->
<g id="node43" class="node">
<title>g_sel_policy</title>
<polygon fill="none" stroke="black" points="3449.38,-764.79 3186.62,-764.79 3186.62,-693.04 3455.38,-693.04 3455.38,-758.79 3449.38,-764.79"/>
<polyline fill="none" stroke="black" points="3449.38,-764.79 3449.38,-758.79"/>
<polyline fill="none" stroke="black" points="3455.38,-758.79 3449.38,-758.79"/>
<text text-anchor="middle" x="3321" y="-751.29" font-family="Helvetica,sans-Serif" font-size="10.00">constraint_guard(selected_cn):</text>
<text text-anchor="middle" x="3321" y="-738.54" font-family="Helvetica,sans-Serif" font-size="10.00">strict single concrete entry per (C,N) by default;</text>
<text text-anchor="middle" x="3321" y="-725.79" font-family="Helvetica,sans-Serif" font-size="10.00">with selected_cn_allow_multislot(C,N):</text>
<text text-anchor="middle" x="3321" y="-713.04" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; one concrete entry per SLOT, or</text>
<text text-anchor="middle" x="3321" y="-700.29" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; per (slot,subslot) for same&#45;slot multiversion cases</text>
</g>
<!-- g_emit&#45;&gt;g_sel_policy -->
<g id="edge46" class="edge">
<title>g_emit&#45;&gt;g_sel_policy</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3321,-829.57C3321,-813.02 3321,-791.9 3321,-773.37"/>
<polygon fill="black" stroke="black" points="3323.45,-773.58 3321,-766.58 3318.55,-773.58 3323.45,-773.58"/>
<text text-anchor="middle" x="3383.62" y="-799.36" font-family="Helvetica,sans-Serif" font-size="9.00">selection consistency policy</text>
</g>
<!-- r_guard -->
<g id="node50" class="node">
<title>r_guard</title>
<polygon fill="none" stroke="black" points="3085.75,-758.41 2834.25,-758.41 2834.25,-699.41 3085.75,-699.41 3085.75,-758.41"/>
<text text-anchor="middle" x="2960" y="-744.91" font-family="Helvetica,sans-Serif" font-size="10.00">constraint_guard hooks that may throw reprove:</text>
<text text-anchor="middle" x="2960" y="-732.16" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; cn_domain + selected_cn compatibility</text>
<text text-anchor="middle" x="2960" y="-719.41" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; selected_cn uniqueness/domain partition</text>
<text text-anchor="middle" x="2960" y="-706.66" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; blocked_cn vs selected_cn source reprove</text>
</g>
<!-- g_emit&#45;&gt;r_guard -->
<g id="edge93" class="edge">
<title>g_emit&#45;&gt;r_guard</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3210.17,-829.51C3187.53,-822.93 3163.99,-815.6 3142.25,-807.91 3104.39,-794.53 3063.18,-777.14 3029.55,-762.18"/>
<polygon fill="black" stroke="black" points="3030.82,-760.07 3023.43,-759.45 3028.82,-764.54 3030.82,-760.07"/>
<text text-anchor="middle" x="3229.38" y="-799.36" font-family="Helvetica,sans-Serif" font-size="9.00">constraint_guard may request reprove</text>
</g>
<!-- g_ok_deep -->
<g id="node45" class="node">
<title>g_ok_deep</title>
<polygon fill="none" stroke="black" points="3614.75,-1823.33 3525.25,-1823.33 3525.25,-1787.33 3614.75,-1787.33 3614.75,-1823.33"/>
<text text-anchor="middle" x="3570" y="-1802.21" font-family="Helvetica,sans-Serif" font-size="10.00">Conditions = []</text>
</g>
<!-- g_deep_keep&#45;&gt;g_ok_deep -->
<g id="edge50" class="edge">
<title>g_deep_keep&#45;&gt;g_ok_deep</title>
<path fill="none" stroke="black" d="M3687.39,-1924.71C3660,-1897.1 3618.53,-1855.27 3592.91,-1829.44"/>
<polygon fill="black" stroke="black" points="3594.81,-1827.87 3588.14,-1824.63 3591.33,-1831.32 3594.81,-1827.87"/>
<text text-anchor="middle" x="3636.5" y="-1859.53" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- g_reprove -->
<g id="node46" class="node">
<title>g_reprove</title>
<polygon fill="none" stroke="black" points="3905.62,-1834.83 3632.38,-1834.83 3632.38,-1775.83 3905.62,-1775.83 3905.62,-1834.83"/>
<text text-anchor="middle" x="3769" y="-1821.33" font-family="Helvetica,sans-Serif" font-size="10.00">attempt CN&#45;domain reprove request:</text>
<text text-anchor="middle" x="3769" y="-1808.58" font-family="Helvetica,sans-Serif" font-size="10.00">rules:maybe_request_grouped_dep_reprove(...)</text>
<text text-anchor="middle" x="3769" y="-1795.83" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; eligible: throw rules_reprove_cn_domain(...)</text>
<text text-anchor="middle" x="3769" y="-1783.08" font-family="Helvetica,sans-Serif" font-size="10.00">&#45; otherwise: fail and continue to assumption fallback</text>
</g>
<!-- g_deep_keep&#45;&gt;g_reprove -->
<g id="edge51" class="edge">
<title>g_deep_keep&#45;&gt;g_reprove</title>
<path fill="none" stroke="black" d="M3726.32,-1921.91C3734.82,-1898.88 3746.5,-1867.26 3755.49,-1842.92"/>
<polygon fill="black" stroke="black" points="3757.78,-1843.8 3757.9,-1836.38 3753.18,-1842.1 3757.78,-1843.8"/>
<text text-anchor="middle" x="3754.62" y="-1859.53" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- g_reason_call -->
<g id="node47" class="node">
<title>g_reason_call</title>
<polygon fill="none" stroke="black" points="3886,-1709.08 3546,-1709.08 3546,-1673.08 3886,-1673.08 3886,-1709.08"/>
<text text-anchor="middle" x="3716" y="-1694.33" font-family="Helvetica,sans-Serif" font-size="10.00">call explanation:assumption_reason_for_grouped_dep(...,_Reason)</text>
<text text-anchor="middle" x="3716" y="-1681.58" font-family="Helvetica,sans-Serif" font-size="10.00">for classification (not injected into context)</text>
</g>
<!-- g_reprove&#45;&gt;g_reason_call -->
<g id="edge52" class="edge">
<title>g_reprove&#45;&gt;g_reason_call</title>
<path fill="none" stroke="black" d="M3755.35,-1775.43C3746.79,-1757.29 3735.86,-1734.14 3727.69,-1716.85"/>
<polygon fill="black" stroke="black" points="3730.01,-1716.01 3724.8,-1710.72 3725.57,-1718.1 3730.01,-1716.01"/>
<text text-anchor="middle" x="3787.12" y="-1745.28" font-family="Helvetica,sans-Serif" font-size="9.00">no reprove request</text>
</g>
<!-- r_throw -->
<g id="node49" class="node">
<title>r_throw</title>
<polygon fill="none" stroke="black" points="3093.62,-630.29 2784.38,-630.29 2784.38,-594.29 3093.62,-594.29 3093.62,-630.29"/>
<text text-anchor="middle" x="2939" y="-615.54" font-family="Helvetica,sans-Serif" font-size="10.00">rules_reprove_cn_domain(C,N,Domain,Candidates,Reasons)</text>
<text text-anchor="middle" x="2939" y="-602.79" font-family="Helvetica,sans-Serif" font-size="10.00">(thrown from rules.pl)</text>
</g>
<!-- g_reprove&#45;&gt;r_throw -->
<g id="edge53" class="edge">
<title>g_reprove&#45;&gt;r_throw</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3884.06,-1775.37C3921.68,-1758.48 3954,-1732.28 3954,-1692.08 3954,-1692.08 3954,-1692.08 3954,-727.91 3954,-643.27 3389.41,-621.12 3102.39,-615.33"/>
<polygon fill="black" stroke="black" points="3102.55,-612.89 3095.5,-615.2 3102.45,-617.78 3102.55,-612.89"/>
<text text-anchor="middle" x="4026" y="-1204.67" font-family="Helvetica,sans-Serif" font-size="9.00">throw rules_reprove_cn_domain</text>
</g>
<!-- g_assume -->
<g id="node48" class="node">
<title>g_assume</title>
<polygon fill="none" stroke="black" points="3869.88,-1589.65 3562.12,-1589.65 3562.12,-1543.4 3869.88,-1543.4 3869.88,-1589.65"/>
<text text-anchor="middle" x="3716" y="-1576.15" font-family="Helvetica,sans-Serif" font-size="10.00">fallback assumption:</text>
<text text-anchor="middle" x="3716" y="-1563.4" font-family="Helvetica,sans-Serif" font-size="10.00">assumed(grouped_package_dependency(...):Action?{Ctx2})</text>
<text text-anchor="middle" x="3716" y="-1550.65" font-family="Helvetica,sans-Serif" font-size="10.00">Ctx2 augmented with domain_reason(cn_domain(...)) tags</text>
</g>
<!-- g_reason_call&#45;&gt;g_assume -->
<g id="edge54" class="edge">
<title>g_reason_call&#45;&gt;g_assume</title>
<path fill="none" stroke="black" d="M3716,-1672.78C3716,-1653.39 3716,-1621.58 3716,-1597.99"/>
<polygon fill="black" stroke="black" points="3718.45,-1598.23 3716,-1591.23 3713.55,-1598.23 3718.45,-1598.23"/>
</g>
<!-- e_start -->
<g id="node57" class="node">
<title>e_start</title>
<ellipse fill="none" stroke="black" cx="1927" cy="-1566.53" rx="23.56" ry="23.56"/>
<text text-anchor="middle" x="1927" y="-1563.4" font-family="Helvetica,sans-Serif" font-size="10.00">start</text>
</g>
<!-- g_reason_call&#45;&gt;e_start -->
<g id="edge94" class="edge">
<title>g_reason_call&#45;&gt;e_start</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M3629.73,-1672.66C3599,-1667.04 3564.06,-1661.3 3532,-1657.58 3370.33,-1638.84 2170.69,-1579.48 1958.9,-1569.09"/>
<polygon fill="black" stroke="black" points="1959.29,-1566.65 1952.18,-1568.76 1959.05,-1571.55 1959.29,-1566.65"/>
<text text-anchor="middle" x="3301.88" y="-1631.03" font-family="Helvetica,sans-Serif" font-size="9.00">classification path</text>
</g>
<!-- r_catch -->
<g id="node51" class="node">
<title>r_catch</title>
<polygon fill="none" stroke="black" points="3082,-531.54 2796,-531.54 2796,-495.54 3082,-495.54 3082,-531.54"/>
<text text-anchor="middle" x="2939" y="-510.41" font-family="Helvetica,sans-Serif" font-size="10.00">prover:prove_with_cn_domain_retries/11 catches throw</text>
</g>
<!-- r_throw&#45;&gt;r_catch -->
<g id="edge56" class="edge">
<title>r_throw&#45;&gt;r_catch</title>
<path fill="none" stroke="black" d="M2939,-593.99C2939,-579.09 2939,-557.36 2939,-540.39"/>
<polygon fill="black" stroke="black" points="2941.45,-540.52 2939,-533.52 2936.55,-540.52 2941.45,-540.52"/>
</g>
<!-- r_guard&#45;&gt;r_throw -->
<g id="edge55" class="edge">
<title>r_guard&#45;&gt;r_throw</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2954.7,-698.99C2951.32,-680.52 2946.97,-656.79 2943.71,-638.99"/>
<polygon fill="black" stroke="black" points="2946.15,-638.71 2942.48,-632.26 2941.33,-639.59 2946.15,-638.71"/>
<text text-anchor="middle" x="2986" y="-666.49" font-family="Helvetica,sans-Serif" font-size="9.00">reprove request</text>
</g>
<!-- r_add -->
<g id="node52" class="node">
<title>r_add</title>
<polygon fill="none" stroke="black" points="2960.62,-448.29 2675.38,-448.29 2675.38,-412.29 2960.62,-412.29 2960.62,-448.29"/>
<text text-anchor="middle" x="2818" y="-433.54" font-family="Helvetica,sans-Serif" font-size="10.00">rules:add_cn_domain_rejects(...)</text>
<text text-anchor="middle" x="2818" y="-420.79" font-family="Helvetica,sans-Serif" font-size="10.00">(+ add_cn_domain_origin_rejects when Candidates=[])</text>
</g>
<!-- r_catch&#45;&gt;r_add -->
<g id="edge57" class="edge">
<title>r_catch&#45;&gt;r_add</title>
<path fill="none" stroke="black" d="M2913.04,-495.11C2894.86,-482.9 2870.42,-466.48 2850.87,-453.36"/>
<polygon fill="black" stroke="black" points="2852.35,-451.4 2845.17,-449.53 2849.62,-455.47 2852.35,-451.4"/>
</g>
<!-- r_retry -->
<g id="node53" class="node">
<title>r_retry</title>
<polygon fill="none" stroke="black" points="2814,-365.04 2663,-331.54 2814,-298.04 2965,-331.54 2814,-365.04"/>
<text text-anchor="middle" x="2814" y="-334.79" font-family="Helvetica,sans-Serif" font-size="10.00">Attempt &lt; MaxRetries</text>
<text text-anchor="middle" x="2814" y="-322.04" font-family="Helvetica,sans-Serif" font-size="10.00">AND any new reject added?</text>
</g>
<!-- r_add&#45;&gt;r_retry -->
<g id="edge58" class="edge">
<title>r_add&#45;&gt;r_retry</title>
<path fill="none" stroke="black" d="M2817.28,-411.99C2816.84,-401.19 2816.24,-386.8 2815.68,-373.24"/>
<polygon fill="black" stroke="black" points="2818.14,-373.34 2815.4,-366.45 2813.24,-373.55 2818.14,-373.34"/>
</g>
<!-- r_recurse -->
<g id="node54" class="node">
<title>r_recurse</title>
<polygon fill="none" stroke="black" points="3094.38,-239.29 2873.62,-239.29 2873.62,-203.29 3094.38,-203.29 3094.38,-239.29"/>
<text text-anchor="middle" x="2984" y="-218.16" font-family="Helvetica,sans-Serif" font-size="10.00">retry prove_once with updated reject map</text>
</g>
<!-- r_retry&#45;&gt;r_recurse -->
<g id="edge59" class="edge">
<title>r_retry&#45;&gt;r_recurse</title>
<path fill="none" stroke="black" d="M2852.15,-306.24C2881.39,-287.62 2921.39,-262.16 2949.64,-244.17"/>
<polygon fill="black" stroke="black" points="2950.69,-246.4 2955.28,-240.58 2948.06,-242.27 2950.69,-246.4"/>
<text text-anchor="middle" x="2916.5" y="-271.49" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- r_fallback -->
<g id="node55" class="node">
<title>r_fallback</title>
<polygon fill="none" stroke="black" points="2855.88,-239.29 2620.12,-239.29 2620.12,-203.29 2855.88,-203.29 2855.88,-239.29"/>
<text text-anchor="middle" x="2738" y="-224.54" font-family="Helvetica,sans-Serif" font-size="10.00">exhausted/no&#45;new&#45;rejects:</text>
<text text-anchor="middle" x="2738" y="-211.79" font-family="Helvetica,sans-Serif" font-size="10.00">prove_once with cn&#45;domain reprove disabled</text>
</g>
<!-- r_retry&#45;&gt;r_fallback -->
<g id="edge60" class="edge">
<title>r_retry&#45;&gt;r_fallback</title>
<path fill="none" stroke="black" d="M2794.03,-302.1C2781.87,-284.78 2766.5,-262.89 2754.94,-246.42"/>
<polygon fill="black" stroke="black" points="2757.13,-245.28 2751.11,-240.96 2753.12,-248.09 2757.13,-245.28"/>
<text text-anchor="middle" x="2783.62" y="-271.49" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- r_recurse&#45;&gt;r_catch -->
<g id="edge62" class="edge">
<title>r_recurse&#45;&gt;r_catch</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2985.17,-239.65C2987.27,-278.02 2989.79,-372.6 2970,-448.29 2966.4,-462.05 2959.79,-476.39 2953.6,-488.03"/>
<polygon fill="black" stroke="black" points="2951.58,-486.61 2950.36,-493.92 2955.88,-488.97 2951.58,-486.61"/>
<text text-anchor="middle" x="3012.88" y="-385.74" font-family="Helvetica,sans-Serif" font-size="9.00">on next throw</text>
</g>
<!-- r_done -->
<g id="node56" class="node">
<title>r_done</title>
<ellipse fill="none" stroke="black" cx="2859" cy="-80.27" rx="60.27" ry="60.27"/>
<ellipse fill="none" stroke="black" cx="2859" cy="-80.27" rx="64.27" ry="64.27"/>
<text text-anchor="middle" x="2859" y="-77.14" font-family="Helvetica,sans-Serif" font-size="10.00">final prove result</text>
</g>
<!-- r_recurse&#45;&gt;r_done -->
<g id="edge61" class="edge">
<title>r_recurse&#45;&gt;r_done</title>
<path fill="none" stroke="black" stroke-dasharray="5,2" d="M2968.42,-202.96C2953.1,-185.92 2928.9,-159.01 2907.16,-134.83"/>
<polygon fill="black" stroke="black" points="2909.2,-133.44 2902.7,-129.87 2905.56,-136.71 2909.2,-133.44"/>
<text text-anchor="middle" x="2996.62" y="-165.24" font-family="Helvetica,sans-Serif" font-size="9.00">success/no further throw</text>
</g>
<!-- r_fallback&#45;&gt;r_done -->
<g id="edge63" class="edge">
<title>r_fallback&#45;&gt;r_done</title>
<path fill="none" stroke="black" d="M2753.08,-202.96C2767.74,-186.12 2790.77,-159.66 2811.62,-135.7"/>
<polygon fill="black" stroke="black" points="2813.41,-137.38 2816.16,-130.49 2809.71,-134.16 2813.41,-137.38"/>
</g>
<!-- e_any -->
<g id="node58" class="node">
<title>e_any</title>
<polygon fill="none" stroke="black" points="1744,-1495.72 1628.25,-1462.22 1744,-1428.72 1859.75,-1462.22 1744,-1495.72"/>
<text text-anchor="middle" x="1744" y="-1465.47" font-family="Helvetica,sans-Serif" font-size="10.00">Any package exists?</text>
<text text-anchor="middle" x="1744" y="-1452.72" font-family="Helvetica,sans-Serif" font-size="10.00">(category+name)</text>
</g>
<!-- e_start&#45;&gt;e_any -->
<g id="edge64" class="edge">
<title>e_start&#45;&gt;e_any</title>
<path fill="none" stroke="black" d="M1906.72,-1554.19C1878.71,-1538.53 1827.41,-1509.85 1789.88,-1488.87"/>
<polygon fill="black" stroke="black" points="1791.19,-1486.8 1783.89,-1485.52 1788.8,-1491.07 1791.19,-1486.8"/>
</g>
<!-- e_missing -->
<g id="node59" class="node">
<title>e_missing</title>
<polygon fill="none" stroke="black" points="1610.25,-1365.97 1505.75,-1365.97 1505.75,-1329.97 1610.25,-1329.97 1610.25,-1365.97"/>
<text text-anchor="middle" x="1558" y="-1344.84" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = missing</text>
</g>
<!-- e_any&#45;&gt;e_missing -->
<g id="edge65" class="edge">
<title>e_any&#45;&gt;e_missing</title>
<path fill="none" stroke="black" d="M1707.25,-1439.04C1674.38,-1419.2 1626.48,-1390.3 1593.88,-1370.62"/>
<polygon fill="black" stroke="black" points="1595.31,-1368.62 1588.05,-1367.1 1592.78,-1372.82 1595.31,-1368.62"/>
<text text-anchor="middle" x="1661.62" y="-1402.17" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_need_inst -->
<g id="node60" class="node">
<title>e_need_inst</title>
<polygon fill="none" stroke="black" points="1744,-1381.47 1628.25,-1347.97 1744,-1314.47 1859.75,-1347.97 1744,-1381.47"/>
<text text-anchor="middle" x="1744" y="-1351.22" font-family="Helvetica,sans-Serif" font-size="10.00">self&#45;hosting requires</text>
<text text-anchor="middle" x="1744" y="-1338.47" font-family="Helvetica,sans-Serif" font-size="10.00">installed&#45;only?</text>
</g>
<!-- e_any&#45;&gt;e_need_inst -->
<g id="edge66" class="edge">
<title>e_any&#45;&gt;e_need_inst</title>
<path fill="none" stroke="black" d="M1744,-1428.45C1744,-1416.57 1744,-1402.98 1744,-1390.45"/>
<polygon fill="black" stroke="black" points="1746.45,-1390.49 1744,-1383.49 1741.55,-1390.49 1746.45,-1390.49"/>
<text text-anchor="middle" x="1751.5" y="-1402.17" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_inst_empty -->
<g id="node61" class="node">
<title>e_inst_empty</title>
<polygon fill="none" stroke="black" points="1586,-1267.22 1464.42,-1249.22 1586,-1231.22 1707.58,-1249.22 1586,-1267.22"/>
<text text-anchor="middle" x="1586" y="-1246.09" font-family="Helvetica,sans-Serif" font-size="10.00">installed&#45;only set empty?</text>
</g>
<!-- e_need_inst&#45;&gt;e_inst_empty -->
<g id="edge67" class="edge">
<title>e_need_inst&#45;&gt;e_inst_empty</title>
<path fill="none" stroke="black" d="M1707.75,-1324.77C1679.94,-1307.74 1642,-1284.51 1615.91,-1268.53"/>
<polygon fill="black" stroke="black" points="1617.42,-1266.59 1610.17,-1265.02 1614.86,-1270.77 1617.42,-1266.59"/>
<text text-anchor="middle" x="1667.5" y="-1287.92" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_unmasked1 -->
<g id="node63" class="node">
<title>e_unmasked1</title>
<polygon fill="none" stroke="black" points="1703,-1183.97 1573.64,-1165.97 1703,-1147.97 1832.36,-1165.97 1703,-1183.97"/>
<text text-anchor="middle" x="1703" y="-1162.84" font-family="Helvetica,sans-Serif" font-size="10.00">Any unmasked candidates?</text>
</g>
<!-- e_need_inst&#45;&gt;e_unmasked1 -->
<g id="edge68" class="edge">
<title>e_need_inst&#45;&gt;e_unmasked1</title>
<path fill="none" stroke="black" d="M1736.95,-1316.03C1728.92,-1280.78 1715.97,-1223.89 1708.6,-1191.54"/>
<polygon fill="black" stroke="black" points="1711.04,-1191.25 1707.1,-1184.97 1706.27,-1192.34 1711.04,-1191.25"/>
<text text-anchor="middle" x="1730.62" y="-1246.29" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_inst_req -->
<g id="node62" class="node">
<title>e_inst_req</title>
<polygon fill="none" stroke="black" points="1556,-1183.97 1402,-1183.97 1402,-1147.97 1556,-1147.97 1556,-1183.97"/>
<text text-anchor="middle" x="1479" y="-1162.84" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = installed_required</text>
</g>
<!-- e_inst_empty&#45;&gt;e_inst_req -->
<g id="edge69" class="edge">
<title>e_inst_empty&#45;&gt;e_inst_req</title>
<path fill="none" stroke="black" d="M1566.87,-1233.69C1550.6,-1221.33 1526.96,-1203.39 1508.3,-1189.22"/>
<polygon fill="black" stroke="black" points="1509.94,-1187.38 1502.88,-1185.1 1506.97,-1191.29 1509.94,-1187.38"/>
<text text-anchor="middle" x="1545.5" y="-1204.67" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_inst_empty&#45;&gt;e_unmasked1 -->
<g id="edge70" class="edge">
<title>e_inst_empty&#45;&gt;e_unmasked1</title>
<path fill="none" stroke="black" d="M1606.65,-1233.88C1625.74,-1220.62 1654.27,-1200.81 1675.33,-1186.18"/>
<polygon fill="black" stroke="black" points="1676.57,-1188.31 1680.92,-1182.3 1673.77,-1184.28 1676.57,-1188.31"/>
<text text-anchor="middle" x="1656.62" y="-1204.67" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_masked -->
<g id="node64" class="node">
<title>e_masked</title>
<polygon fill="none" stroke="black" points="1468.25,-877.41 1363.75,-877.41 1363.75,-841.41 1468.25,-841.41 1468.25,-877.41"/>
<text text-anchor="middle" x="1416" y="-856.29" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = masked</text>
</g>
<!-- e_unmasked1&#45;&gt;e_masked -->
<g id="edge71" class="edge">
<title>e_unmasked1&#45;&gt;e_masked</title>
<path fill="none" stroke="black" d="M1661.3,-1153.35C1595.51,-1132.46 1469.97,-1081.61 1420,-986.47 1403.37,-954.81 1406.33,-912.24 1410.65,-885.56"/>
<polygon fill="black" stroke="black" points="1413.01,-886.31 1411.82,-878.99 1408.19,-885.45 1413.01,-886.31"/>
<text text-anchor="middle" x="1443.62" y="-1007.17" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_slot_any -->
<g id="node65" class="node">
<title>e_slot_any</title>
<polygon fill="none" stroke="black" points="1703,-1100.72 1584.25,-1067.22 1703,-1033.72 1821.75,-1067.22 1703,-1100.72"/>
<text text-anchor="middle" x="1703" y="-1070.47" font-family="Helvetica,sans-Serif" font-size="10.00">slot restriction yields</text>
<text text-anchor="middle" x="1703" y="-1057.72" font-family="Helvetica,sans-Serif" font-size="10.00">any candidates?</text>
</g>
<!-- e_unmasked1&#45;&gt;e_slot_any -->
<g id="edge72" class="edge">
<title>e_unmasked1&#45;&gt;e_slot_any</title>
<path fill="none" stroke="black" d="M1703,-1147.67C1703,-1136.96 1703,-1122.72 1703,-1109.26"/>
<polygon fill="black" stroke="black" points="1705.45,-1109.53 1703,-1102.53 1700.55,-1109.53 1705.45,-1109.53"/>
<text text-anchor="middle" x="1710.5" y="-1121.42" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_slot_bad -->
<g id="node66" class="node">
<title>e_slot_bad</title>
<polygon fill="none" stroke="black" points="1571.38,-986.47 1428.62,-986.47 1428.62,-950.47 1571.38,-950.47 1571.38,-986.47"/>
<text text-anchor="middle" x="1500" y="-965.34" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = slot_unsatisfied</text>
</g>
<!-- e_slot_any&#45;&gt;e_slot_bad -->
<g id="edge73" class="edge">
<title>e_slot_any&#45;&gt;e_slot_bad</title>
<path fill="none" stroke="black" d="M1659.95,-1045.7C1625.87,-1029.46 1578.44,-1006.86 1544.09,-990.48"/>
<polygon fill="black" stroke="black" points="1545.27,-988.33 1537.9,-987.53 1543.17,-992.76 1545.27,-988.33"/>
<text text-anchor="middle" x="1600.62" y="-1007.17" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_unmasked2 -->
<g id="node67" class="node">
<title>e_unmasked2</title>
<polygon fill="none" stroke="black" points="1737,-986.47 1589.47,-968.47 1737,-950.47 1884.53,-968.47 1737,-986.47"/>
<text text-anchor="middle" x="1737" y="-965.34" font-family="Helvetica,sans-Serif" font-size="10.00">Any unmasked slot candidates?</text>
</g>
<!-- e_slot_any&#45;&gt;e_unmasked2 -->
<g id="edge74" class="edge">
<title>e_slot_any&#45;&gt;e_unmasked2</title>
<path fill="none" stroke="black" d="M1713.48,-1036.4C1718.25,-1022.83 1723.83,-1006.96 1728.35,-994.08"/>
<polygon fill="black" stroke="black" points="1730.64,-994.95 1730.65,-987.53 1726.02,-993.32 1730.64,-994.95"/>
<text text-anchor="middle" x="1731.5" y="-1007.17" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_unmasked2&#45;&gt;e_masked -->
<g id="edge75" class="edge">
<title>e_unmasked2&#45;&gt;e_masked</title>
<path fill="none" stroke="black" d="M1670.92,-958.1C1622.84,-949.88 1556.83,-935.68 1502,-913.22 1482.6,-905.27 1462.54,-893.21 1446.68,-882.63"/>
<polygon fill="black" stroke="black" points="1448.13,-880.65 1440.96,-878.74 1445.37,-884.7 1448.13,-880.65"/>
<text text-anchor="middle" x="1556.62" y="-923.92" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_versions -->
<g id="node68" class="node">
<title>e_versions</title>
<polygon fill="none" stroke="black" points="1717,-892.91 1511.25,-859.41 1717,-825.91 1922.75,-859.41 1717,-892.91"/>
<text text-anchor="middle" x="1717" y="-862.66" font-family="Helvetica,sans-Serif" font-size="10.00">version_constraint_analysis:</text>
<text text-anchor="middle" x="1717" y="-849.91" font-family="Helvetica,sans-Serif" font-size="10.00">any candidate satisfies all constraints?</text>
</g>
<!-- e_unmasked2&#45;&gt;e_versions -->
<g id="edge76" class="edge">
<title>e_unmasked2&#45;&gt;e_versions</title>
<path fill="none" stroke="black" d="M1733.88,-950.74C1731.36,-937.3 1727.73,-917.85 1724.48,-900.45"/>
<polygon fill="black" stroke="black" points="1726.89,-900.02 1723.2,-893.59 1722.07,-900.92 1726.89,-900.02"/>
<text text-anchor="middle" x="1736.5" y="-923.92" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- e_ver_nocand -->
<g id="node69" class="node">
<title>e_ver_nocand</title>
<polygon fill="none" stroke="black" points="1533.25,-746.91 1320.75,-746.91 1320.75,-710.91 1533.25,-710.91 1533.25,-746.91"/>
<text text-anchor="middle" x="1427" y="-725.79" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = version_no_candidate(Op,Ver)</text>
</g>
<!-- e_versions&#45;&gt;e_ver_nocand -->
<g id="edge77" class="edge">
<title>e_versions&#45;&gt;e_ver_nocand</title>
<path fill="none" stroke="black" d="M1635.3,-838.83C1607.25,-830.82 1576.05,-820.45 1548.75,-807.91 1515.32,-792.55 1480.27,-769.22 1456.41,-752.08"/>
<polygon fill="black" stroke="black" points="1458.01,-750.21 1450.91,-748.08 1455.13,-754.18 1458.01,-750.21"/>
<text text-anchor="middle" x="1592.62" y="-799.36" font-family="Helvetica,sans-Serif" font-size="9.00">none per constraint</text>
</g>
<!-- e_ver_conflict -->
<g id="node70" class="node">
<title>e_ver_conflict</title>
<polygon fill="none" stroke="black" points="1694.38,-746.91 1551.62,-746.91 1551.62,-710.91 1694.38,-710.91 1694.38,-746.91"/>
<text text-anchor="middle" x="1623" y="-725.79" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = version_conflict</text>
</g>
<!-- e_versions&#45;&gt;e_ver_conflict -->
<g id="edge78" class="edge">
<title>e_versions&#45;&gt;e_ver_conflict</title>
<path fill="none" stroke="black" d="M1673.13,-832.74C1663.82,-825.66 1654.77,-817.31 1648,-807.91 1636.74,-792.29 1630.4,-771.38 1626.92,-755.14"/>
<polygon fill="black" stroke="black" points="1629.39,-755.01 1625.64,-748.61 1624.58,-755.95 1629.39,-755.01"/>
<text text-anchor="middle" x="1691.5" y="-799.36" font-family="Helvetica,sans-Serif" font-size="9.00">constraints conflict</text>
</g>
<!-- e_keywords -->
<g id="node71" class="node">
<title>e_keywords</title>
<polygon fill="none" stroke="black" points="1842,-762.41 1712,-728.91 1842,-695.41 1972,-728.91 1842,-762.41"/>
<text text-anchor="middle" x="1842" y="-732.16" font-family="Helvetica,sans-Serif" font-size="10.00">any candidate matches</text>
<text text-anchor="middle" x="1842" y="-719.41" font-family="Helvetica,sans-Serif" font-size="10.00">ACCEPT_KEYWORDS?</text>
</g>
<!-- e_versions&#45;&gt;e_keywords -->
<g id="edge79" class="edge">
<title>e_versions&#45;&gt;e_keywords</title>
<path fill="none" stroke="black" d="M1744.43,-830.21C1763.92,-810.17 1790.14,-783.22 1810.49,-762.3"/>
<polygon fill="black" stroke="black" points="1812.16,-764.1 1815.28,-757.38 1808.65,-760.69 1812.16,-764.1"/>
<text text-anchor="middle" x="1833.88" y="-799.36" font-family="Helvetica,sans-Serif" font-size="9.00">has version&#45;ok candidates</text>
</g>
<!-- e_kw -->
<g id="node72" class="node">
<title>e_kw</title>
<polygon fill="none" stroke="black" points="1764.62,-630.29 1617.38,-630.29 1617.38,-594.29 1764.62,-594.29 1764.62,-630.29"/>
<text text-anchor="middle" x="1691" y="-609.16" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = keyword_filtered</text>
</g>
<!-- e_keywords&#45;&gt;e_kw -->
<g id="edge80" class="edge">
<title>e_keywords&#45;&gt;e_kw</title>
<path fill="none" stroke="black" d="M1809.61,-703.32C1783.2,-683.27 1746.2,-655.19 1720.58,-635.74"/>
<polygon fill="black" stroke="black" points="1722.27,-633.94 1715.21,-631.66 1719.3,-637.85 1722.27,-633.94"/>
<text text-anchor="middle" x="1776.62" y="-666.49" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- e_other -->
<g id="node73" class="node">
<title>e_other</title>
<polygon fill="none" stroke="black" points="1961.38,-630.29 1782.62,-630.29 1782.62,-594.29 1961.38,-594.29 1961.38,-630.29"/>
<text text-anchor="middle" x="1872" y="-609.16" font-family="Helvetica,sans-Serif" font-size="10.00">Reason = unsatisfied_constraints</text>
</g>
<!-- e_keywords&#45;&gt;e_other -->
<g id="edge81" class="edge">
<title>e_keywords&#45;&gt;e_other</title>
<path fill="none" stroke="black" d="M1850.04,-697.19C1854.84,-678.84 1860.87,-655.82 1865.39,-638.53"/>
<polygon fill="black" stroke="black" points="1867.7,-639.41 1867.1,-632.02 1862.95,-638.17 1867.7,-639.41"/>
<text text-anchor="middle" x="1890.75" y="-666.49" font-family="Helvetica,sans-Serif" font-size="9.00">yes (still failed)</text>
</g>
<!-- u_has_replaces -->
<g id="node75" class="node">
<title>u_has_replaces</title>
<polygon fill="none" stroke="black" points="2314,-746.91 2189.83,-728.91 2314,-710.91 2438.17,-728.91 2314,-746.91"/>
<text text-anchor="middle" x="2314" y="-725.79" font-family="Helvetica,sans-Serif" font-size="10.00">Context has replaces(...) ?</text>
</g>
<!-- u_start&#45;&gt;u_has_replaces -->
<g id="edge82" class="edge">
<title>u_start&#45;&gt;u_has_replaces</title>
<path fill="none" stroke="black" d="M2507.87,-846.32C2470.22,-823.72 2388.95,-774.92 2344.52,-748.24"/>
<polygon fill="black" stroke="black" points="2346.02,-746.28 2338.76,-744.78 2343.5,-750.48 2346.02,-746.28"/>
</g>
<!-- u_txn -->
<g id="node76" class="node">
<title>u_txn</title>
<polygon fill="none" stroke="black" points="2260.88,-349.54 2091.12,-349.54 2091.12,-313.54 2260.88,-313.54 2260.88,-349.54"/>
<text text-anchor="middle" x="2176" y="-328.41" font-family="Helvetica,sans-Serif" font-size="10.00">rules:update_txn_conditions(...)</text>
</g>
<!-- u_has_replaces&#45;&gt;u_txn -->
<g id="edge83" class="edge">
<title>u_has_replaces&#45;&gt;u_txn</title>
<path fill="none" stroke="black" d="M2266.67,-717.4C2222.14,-705.69 2155.39,-683.31 2108,-645.79 2059.4,-607.31 2053.78,-587.91 2028,-531.54 2005.62,-482.6 1978.19,-457.74 2007,-412.29 2025.33,-383.36 2057.28,-364.73 2088.5,-352.82"/>
<polygon fill="black" stroke="black" points="2089.25,-355.16 2094.99,-350.46 2087.57,-350.55 2089.25,-355.16"/>
<text text-anchor="middle" x="2035.5" y="-510.61" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_installed_target -->
<g id="node77" class="node">
<title>u_installed_target</title>
<polygon fill="none" stroke="black" points="2314,-645.79 2116.5,-612.29 2314,-578.79 2511.5,-612.29 2314,-645.79"/>
<text text-anchor="middle" x="2314" y="-615.54" font-family="Helvetica,sans-Serif" font-size="10.00">target is installed and newer</text>
<text text-anchor="middle" x="2314" y="-602.79" font-family="Helvetica,sans-Serif" font-size="10.00">acceptable same&#45;slot version exists?</text>
</g>
<!-- u_has_replaces&#45;&gt;u_installed_target -->
<g id="edge84" class="edge">
<title>u_has_replaces&#45;&gt;u_installed_target</title>
<path fill="none" stroke="black" d="M2314,-710.5C2314,-695.66 2314,-673.74 2314,-654.47"/>
<polygon fill="black" stroke="black" points="2316.45,-654.63 2314,-647.63 2311.55,-654.63 2316.45,-654.63"/>
<text text-anchor="middle" x="2319.62" y="-666.49" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- u_txn_detail -->
<g id="node83" class="node">
<title>u_txn_detail</title>
<polygon fill="none" stroke="black" points="2305.88,-250.79 2046.12,-250.79 2046.12,-191.79 2305.88,-191.79 2305.88,-250.79"/>
<text text-anchor="middle" x="2176" y="-237.29" font-family="Helvetica,sans-Serif" font-size="10.00">update_txn_conditions does:</text>
<text text-anchor="middle" x="2176" y="-224.54" font-family="Helvetica,sans-Serif" font-size="10.00">required_use model + grouped install deps</text>
<text text-anchor="middle" x="2176" y="-211.79" font-family="Helvetica,sans-Serif" font-size="10.00">+ optional deep_update_goals</text>
<text text-anchor="middle" x="2176" y="-199.04" font-family="Helvetica,sans-Serif" font-size="10.00">+ use/slot constraints (+ download when needed)</text>
</g>
<!-- u_txn&#45;&gt;u_txn_detail -->
<g id="edge91" class="edge">
<title>u_txn&#45;&gt;u_txn_detail</title>
<path fill="none" stroke="black" d="M2176,-313.14C2176,-298.63 2176,-277.45 2176,-259.19"/>
<polygon fill="black" stroke="black" points="2178.45,-259.55 2176,-252.55 2173.55,-259.55 2178.45,-259.55"/>
</g>
<!-- u_delegate_latest -->
<g id="node78" class="node">
<title>u_delegate_latest</title>
<polygon fill="none" stroke="black" points="2289.62,-531.54 2052.38,-531.54 2052.38,-495.54 2289.62,-495.54 2289.62,-531.54"/>
<text text-anchor="middle" x="2171" y="-510.41" font-family="Helvetica,sans-Serif" font-size="10.00">delegate to Latest:update?{replaces(Target)}</text>
</g>
<!-- u_installed_target&#45;&gt;u_delegate_latest -->
<g id="edge85" class="edge">
<title>u_installed_target&#45;&gt;u_delegate_latest</title>
<path fill="none" stroke="black" d="M2275.3,-585.11C2252.86,-569.92 2224.91,-551.01 2203.6,-536.59"/>
<polygon fill="black" stroke="black" points="2205.06,-534.63 2197.89,-532.73 2202.32,-538.68 2205.06,-534.63"/>
<text text-anchor="middle" x="2245.5" y="-552.24" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_target_not_installed -->
<g id="node79" class="node">
<title>u_target_not_installed</title>
<polygon fill="none" stroke="black" points="2406,-531.54 2307.14,-513.54 2406,-495.54 2504.86,-513.54 2406,-531.54"/>
<text text-anchor="middle" x="2406" y="-510.41" font-family="Helvetica,sans-Serif" font-size="10.00">target not installed?</text>
</g>
<!-- u_installed_target&#45;&gt;u_target_not_installed -->
<g id="edge86" class="edge">
<title>u_installed_target&#45;&gt;u_target_not_installed</title>
<path fill="none" stroke="black" d="M2340.86,-583.04C2355.39,-567.76 2373.03,-549.21 2386.28,-535.27"/>
<polygon fill="black" stroke="black" points="2387.95,-537.08 2391,-530.32 2384.4,-533.7 2387.95,-537.08"/>
<text text-anchor="middle" x="2375.62" y="-552.24" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- u_same_slot_old -->
<g id="node80" class="node">
<title>u_same_slot_old</title>
<polygon fill="none" stroke="black" points="2419,-448.29 2242.26,-430.29 2419,-412.29 2595.74,-430.29 2419,-448.29"/>
<text text-anchor="middle" x="2419" y="-427.16" font-family="Helvetica,sans-Serif" font-size="10.00">same&#45;slot installed old version exists?</text>
</g>
<!-- u_target_not_installed&#45;&gt;u_same_slot_old -->
<g id="edge87" class="edge">
<title>u_target_not_installed&#45;&gt;u_same_slot_old</title>
<path fill="none" stroke="black" d="M2408.69,-495.7C2410.49,-484.45 2412.9,-469.43 2414.93,-456.73"/>
<polygon fill="black" stroke="black" points="2417.34,-457.17 2416.03,-449.87 2412.5,-456.4 2417.34,-457.17"/>
<text text-anchor="middle" x="2420.5" y="-468.99" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_noop -->
<g id="node82" class="node">
<title>u_noop</title>
<polygon fill="none" stroke="black" points="2224.38,-448.29 2015.62,-448.29 2015.62,-412.29 2224.38,-412.29 2224.38,-448.29"/>
<text text-anchor="middle" x="2120" y="-427.16" font-family="Helvetica,sans-Serif" font-size="10.00">installed and no acceptable newer &#45;&gt; []</text>
</g>
<!-- u_target_not_installed&#45;&gt;u_noop -->
<g id="edge88" class="edge">
<title>u_target_not_installed&#45;&gt;u_noop</title>
<path fill="none" stroke="black" d="M2368.61,-501.92C2323.3,-489.04 2246.01,-467.09 2189.62,-451.06"/>
<polygon fill="black" stroke="black" points="2190.31,-448.72 2182.91,-449.16 2188.97,-453.43 2190.31,-448.72"/>
<text text-anchor="middle" x="2285.62" y="-468.99" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
<!-- u_same_slot_old&#45;&gt;u_txn -->
<g id="edge89" class="edge">
<title>u_same_slot_old&#45;&gt;u_txn</title>
<path fill="none" stroke="black" d="M2384.18,-415.43C2343.16,-399.09 2274.63,-371.81 2227.47,-353.03"/>
<polygon fill="black" stroke="black" points="2228.61,-350.85 2221.21,-350.54 2226.8,-355.4 2228.61,-350.85"/>
<text text-anchor="middle" x="2333.5" y="-385.74" font-family="Helvetica,sans-Serif" font-size="9.00">yes</text>
</g>
<!-- u_fallback_install -->
<g id="node81" class="node">
<title>u_fallback_install</title>
<polygon fill="none" stroke="black" points="2508.75,-349.54 2329.25,-349.54 2329.25,-313.54 2508.75,-313.54 2508.75,-349.54"/>
<text text-anchor="middle" x="2419" y="-328.41" font-family="Helvetica,sans-Serif" font-size="10.00">fallback: Target:install?{Context}</text>
</g>
<!-- u_same_slot_old&#45;&gt;u_fallback_install -->
<g id="edge90" class="edge">
<title>u_same_slot_old&#45;&gt;u_fallback_install</title>
<path fill="none" stroke="black" d="M2419,-411.99C2419,-397.09 2419,-375.36 2419,-358.39"/>
<polygon fill="black" stroke="black" points="2421.45,-358.52 2419,-351.52 2416.55,-358.52 2421.45,-358.52"/>
<text text-anchor="middle" x="2424.62" y="-385.74" font-family="Helvetica,sans-Serif" font-size="9.00">no</text>
</g>
</g>
</svg>
